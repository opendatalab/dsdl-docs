{"config":{"lang":["en"],"separator":"[\\s\\-\uff0c\u3002]+","pipeline":["stemmer"]},"docs":[{"location":"to_be_filled/","title":"To be filled","text":"<p>\u5185\u5bb9\u5f85\u66f4\u65b0\u3002</p>"},{"location":"api_reference/fields_overview/","title":"DSDL Field\u7c7b\u578b\u7b80\u4ecb","text":"<p>Field\u662fDSDL\u4e2d\u8868\u8fbe\u6570\u636e\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u5728\u6570\u636e\u96c6\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u6837\u672c\u90fd\u9075\u5faa\u4e00\u4e2aStruct\u6a21\u677f\uff0c\u800cStruct\u7684\u7ec4\u6210\u5185\u5bb9\u5373\u4e3aField\uff08\u6216\u8005\u5d4c\u5957Struct\uff09\u3002</p> <p>\u5982\u4e0b\u6240\u793a\uff0c\u4e00\u4e2a\u5177\u4f53\u7684\u6837\u672c\u4e3a\uff1a</p> <pre><code>sample = {\n\"img\": \"media/00001.jpg\",\n\"bbox\": [369.3, 253.15, 57.7, 29.96],\n\"label\": \"dog\"\n}\n</code></pre> <p>\u5b83\u9075\u5faa\u7684Struct\u4e3a\uff1a</p> <pre><code>LocalObjectEntry:\n$def: struct\n$fields:\nbbox: BBox\nlabel: Label[dom=\"COCODomain\"]\nimg: Image\n</code></pre> <p>\u5176\u4e2d\u7684BBox\u3001Label\u3001Image\u90fd\u662fField\uff0c\u8fd9\u4e9bField\u89c4\u5b9a\u4e86\u6837\u672c\u4e2d\u5404\u4e2a\u5b57\u6bb5\u503c\u7684\u7c7b\u578b\uff0c\u6bd4\u5982\u6837\u672c\u4e2d\u7684<code>\"img\"</code>\u5b57\u6bb5\u867d\u7136\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u4f46\u7531\u4e8e\u5728Struct\u5b9a\u4e49\u4e2d\u8be5\u5b57\u6bb5\u88ab\u58f0\u660e\u4e3a<code>Image</code>Field\uff0c\u5219dsdl sdk\u4f1a\u5c06\u5176\u5f53\u4f5c\u4e00\u4e2a\u56fe\u50cf\u7c7b\u578b\u6765\u5904\u7406\u3002</p> <p>\u672c\u7ae0\u5185\u5bb9\u4f1a\u8be6\u7ec6\u4ecb\u7ecdDSDL\u4e2d\u51fa\u73b0\u7684\u6240\u6709\u9884\u8bbe\u7684Field\u3002</p> <p>\u5728DSDL\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528jsonschema\u6765\u89c4\u8303Field\u7684\u521d\u59cb\u5316\u4f20\u5165\u7684\u53c2\u6570\u4ee5\u53ca\u89c4\u8303\u8be5Field\u5bf9\u5e94\u7684\u503c\u7684\u5f62\u5f0f\u3002</p>"},{"location":"api_reference/fields_overview/#field","title":"\u57fa\u7840\u7c7b\u578bField","text":"<p>DSDL\u4e2d\u6709\u4e00\u4e9b\u8868\u793a\u57fa\u7840\u7c7b\u578b\u7684Field\uff0c\u5305\u62ec\uff1a</p>"},{"location":"api_reference/fields_overview/#1-bool","title":"1. Bool","text":"<p>Bool\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u7684\u5e03\u5c14\u7c7b\u578b\u7684\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema\uff1a</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"minProperties\": 0,\n\"maxProperties\": 0,\n}\n</code></pre> <p>\u8be5schema\u8868\u793a\uff0cBool\u7c7b\u578bField\u5728\u58f0\u660e\u7684\u65f6\u5019\u4e0d\u9700\u8981\u4f20\u5165\u53c2\u6570</p> <ul> <li>\u6570\u636eschema\uff1a</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/generic/boolean\",\n\"title\": \"BoolField\",\n\"description\": \"Bool field in dsdl.\",\n\"oneOf\": [\n{\"type\": \"boolean\"},\n{\"type\": \"number\", \"enum\": [0, 1]}\n]\n}\n</code></pre> <p>\u8be5schema\u8868\u793a\uff0cBool\u7c7b\u578bField\u5728\u5b9e\u4f8b\u5316\u65f6\u53ef\u4ee5\u4f20\u5165True\uff0cFalse\uff0c0\uff0c1</p> <ul> <li>\u5b9e\u4f8b\uff1a</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\niscrowd: Bool\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"iscrowd\": True  # True/False/0/1\u90fd\u6ee1\u8db3\u8981\u6c42\n}\nsample = {\n\"iscrowd\": 2  # \u4e0d\u6ee1\u8db3\u8981\u6c42\n}\nsample = {\n\"iscrowd\": \"True\"  # \u4e0d\u6ee1\u8db3\u8981\u6c42\n}\n</code></pre>"},{"location":"api_reference/fields_overview/#2-int","title":"2. Int","text":"<p>Int\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u6574\u6570\u7c7b\u578b\u7684\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"minProperties\": 0,\n\"maxProperties\": 0,\n}\n</code></pre> <ul> <li>\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/generic/int\",\n\"title\": \"IntField\",\n\"description\": \"Int field in dsdl.\",\n\"type\": \"integer\",\n}\n</code></pre> <p>\u8be5schema\u8868\u793a\uff0cInt\u7c7b\u578bField\u5b9e\u4f8b\u5316\u65f6\u53ea\u53ef\u4ee5\u4f20\u5165\u6574\u6570\u7c7b\u578b</p> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\ncount: Int\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"count\": 1  # correct\n}\nsample = {\n\"count\": \"1\"  # wrong\n}\nsample = {\n\"count\": True  # wrong\n}\n</code></pre>"},{"location":"api_reference/fields_overview/#3-num","title":"3. Num","text":"<p>Num\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u6d6e\u70b9\u6570\u7c7b\u578b\u7684\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"minProperties\": 0,\n\"maxProperties\": 0,\n}\n</code></pre> <ul> <li>\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/generic/num\",\n\"title\": \"NumField\",\n\"description\": \"Num field in dsdl.\",\n\"type\": \"number\",\n}\n</code></pre> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\nweight: Num\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"weight\": 1  # correct\n}\nsample = {\n\"weight\": 10.4  # correct\n}\nsample = {\n\"weight\": True  # wrong\n}\n</code></pre>"},{"location":"api_reference/fields_overview/#4-str","title":"4. Str","text":"<p>Str\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"minProperties\": 0,\n\"maxProperties\": 0,\n}\n</code></pre> <ul> <li>\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/generic/str\",\n\"title\": \"StrField\",\n\"description\": \"Str field in dsdl.\",\n\"type\": \"string\",\n}\n</code></pre> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\nname: Str\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"name\": \"dsdl\"  # correct\n}\nsample = {\n\"name\": 10.4  # wrong\n}\nsample = {\n\"name\": True  # wrong\n}\n</code></pre>"},{"location":"api_reference/fields_overview/#5-dict","title":"5. Dict","text":"<p>Dict\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u5b57\u5178\u7c7b\u578b\u7684\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"minProperties\": 0,\n\"maxProperties\": 0,\n}\n</code></pre> <ul> <li>\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/generic/dict\",\n\"title\": \"DictField\",\n\"description\": \"Dict field in dsdl.\",\n\"type\": \"object\",\n}\n</code></pre> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\nattributes: Dict\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"attributes\": {\"name\": \"dsdl\", \"age\": 0, \"gender\": \"female\"}  # correct\n}\nsample = {\n\"attributes\": 10.4  # wrong\n}\nsample = {\n\"attributes\": \"dsdl\"  # wrong\n}\n</code></pre>"},{"location":"api_reference/fields_overview/#field_1","title":"\u7279\u6b8a\u7c7b\u578bField","text":"<p>\u5728DSDL\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e00\u4e9b\u7279\u6b8a\u7684Field\u6765\u63cf\u8ff0bounding box\u3001polygon\u3001keypoint\u7b49\u6807\u6ce8\u7c7b\u578b\uff0c\u5e76\u4e3a\u5176\u4e2d\u4e00\u4e9bField\u5b9e\u73b0\u4e86\u76f8\u5e94\u7684\u57fa\u7840\u7c7b\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u65b9\u6cd5\u65b9\u4fbf\u7528\u6237\u8c03\u7528\u3002</p>"},{"location":"api_reference/fields_overview/#1-coord","title":"1. Coord","text":"<p>Coord\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u7684\u4e8c\u7ef4\u5750\u6807\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"minProperties\": 0,\n\"maxProperties\": 0,\n}\n</code></pre> <ul> <li>\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/special/coord\",\n\"title\": \"CoordField\",\n\"description\": \"Coord 2D field in dsdl.\",\n\"type\": \"array\",\n\"items\": {\n\"type\": \"number\",\n},\n\"minItems\": 2,\n\"maxItems\": 2\n}\n</code></pre> <p>\u8be5schema\u8868\u793a\u4f20\u5165\u7684\u503c\u5fc5\u987b\u8981\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u4e2d\u5fc5\u987b\u5305\u542b\u4e24\u4e2a\u5143\u7d20\uff0c\u4e24\u4e2a\u5143\u7d20\u7684\u7c7b\u578b\u5fc5\u987b\u662f\u6570\u5b57</p> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\ncoordinate: Coord\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"coordinate\": [10, 12]  # correct\n}\nsample = {\n\"coordinate\": [10, 12, 13]  # wrong\n}\nsample = {\n\"coordinate\": \"dsdl\"  # wrong\n}\nsample = {\n\"coordinate\": [10, False]  # wrong\n}\n</code></pre>"},{"location":"api_reference/fields_overview/#2-coord3d","title":"2. Coord3D","text":"<p>Coord3D\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u7684\u4e09\u7ef4\u5750\u6807\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"minProperties\": 0,\n\"maxProperties\": 0,\n}\n</code></pre> <ul> <li>\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/special/coord3d\",\n\"title\": \"Coord3DField\",\n\"description\": \"Coord 3D field in dsdl.\",\n\"type\": \"array\",\n\"items\": {\n\"type\": \"number\",\n},\n\"minItems\": 3,\n\"maxItems\": 3\n}\n</code></pre> <p>\u8be5schema\u8868\u793a\u4f20\u5165\u7684\u503c\u5fc5\u987b\u8981\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u4e2d\u5fc5\u987b\u5305\u542b3\u4e2a\u5143\u7d20\uff0c3\u4e2a\u5143\u7d20\u7684\u7c7b\u578b\u5fc5\u987b\u662f\u6570\u5b57</p> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\ncoordinate: Coord3D\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"coordinate\": [10, 12, 0]  # correct\n}\nsample = {\n\"coordinate\": [10, 12]  # wrong\n}\nsample = {\n\"coordinate\": \"dsdl\"  # wrong\n}\nsample = {\n\"coordinate\": [10, False, 12]  # wrong\n}\n</code></pre>"},{"location":"api_reference/fields_overview/#3-interval","title":"3. Interval","text":"<p>Interval\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u7684\u65f6\u95f4\u95f4\u9694\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"minProperties\": 0,\n\"maxProperties\": 0,\n}\n</code></pre> <ul> <li>\u6570\u636eschema</li> </ul> <pre><code>data_schema = {  # \u65e0\u6cd5\u5b9a\u4e49\u987a\u5e8f\n\"$id\": \"/special/interval\",\n\"title\": \"IntervalField\",\n\"description\": \"Interval field in dsdl.\",\n\"type\": \"array\",\n\"items\": {\n\"type\": \"number\",\n},\n\"minItems\": 2,\n\"maxItems\": 2,\n}\n</code></pre> <p>\u8be5schema\u8868\u793a\u4f20\u5165\u7684\u503c\u5fc5\u987b\u8981\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u4e2d\u5fc5\u987b\u5305\u542b2\u4e2a\u5143\u7d20\uff0c2\u4e2a\u5143\u7d20\u7684\u7c7b\u578b\u5fc5\u987b\u662f\u6570\u5b57</p> <ul> <li>\u8865\u5145\u6821\u9a8c</li> </ul> <p>\u7531\u4e8eInterval\u7c7b\u578b\u8fd8\u8981\u6c42\u5217\u8868\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5c0f\u4e8e\u7b49\u4e8e\u7b2c\u4e8c\u4e2a\u5143\u7d20\uff0c\u800c\u8be5\u89c4\u5219\u65e0\u6cd5\u7528jsonschema\u8868\u793a\uff0c\u56e0\u6b64dsdl\u8fd8\u4e3a\u8fd9\u79cd\u60c5\u51b5\u589e\u52a0\u4e86\u4e8c\u6b21\u6821\u9a8c\uff0cInterval Field\u7684\u4e8c\u6b21\u6821\u9a8c\u4ee3\u7801\u4e3a\uff1a</p> <pre><code>def additional_validate(self, value):\nassert value[0] &lt;= value[1]\nreturn value\n</code></pre> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\ninterval: Interval\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"interval\": [10, 12]  # correct\n}\nsample = {\n\"interval\": [12, 10]  # wrong\n}\nsample = {\n\"interval\": \"dsdl\"  # wrong\n}\nsample = {\n\"interval\": [10, False, 12]  # wrong\n}\n</code></pre>"},{"location":"api_reference/fields_overview/#4-date","title":"4. Date","text":"<p>Date\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u7684\u65e5\u671f\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"minProperties\": 0,\n\"maxProperties\": 0,\n}\n</code></pre> <ul> <li>\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/special/date\",\n\"title\": \"DateField\",\n\"description\": \"Date field in dsdl.\",\n\"type\": \"string\",\n\"format\": \"date\"\n}\n</code></pre> <p>\u8be5schema\u8868\u793a\u4f20\u5165\u7684\u503c\u5fc5\u987b\u8981\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5b57\u7b26\u4e32\u7684\u5f62\u5f0f\u5fc5\u987b\u6ee1\u8db3ISO8601 format\u4e2d\u7684Date\u7684\u683c\u5f0f\uff0c\u5373<code>YYYY-MM-DD</code>\u683c\u5f0f</p> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\ndate: Date\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"date\": \"2022-12-12\"  # correct\n}\nsample = {\n\"date\": \"12-12\"  # correct\n}\nsample = {\n\"date\": \"12\"  # wrong\n}\nsample = {\n\"date\": [10, False]  # wrong\n}\n</code></pre> <ul> <li>\u6570\u636e\u7c7b</li> </ul> <p>\u5728DSDL\u4e2d\uff0c\u4f1a\u5c06\u4f20\u5165\u7684\u6ee1\u8db3Date Field\u89c4\u8303\u7684\u503c\u5b9e\u4f8b\u5316\u4e3a\u4e00\u4e2a<code>datetime.date.fromisoformat</code>\u5bf9\u8c61</p>"},{"location":"api_reference/fields_overview/#5-time","title":"5. Time","text":"<p>Time\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u7684\u65f6\u95f4\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"minProperties\": 0,\n\"maxProperties\": 0,\n}\n</code></pre> <ul> <li>\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/special/time\",\n\"title\": \"TimeField\",\n\"description\": \"Time field in dsdl.\",\n\"type\": \"string\",\n\"format\": \"time\"\n}\n</code></pre> <p>\u8be5schema\u8868\u793a\u4f20\u5165\u7684\u503c\u5fc5\u987b\u8981\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5b57\u7b26\u4e32\u7684\u5f62\u5f0f\u5fc5\u987b\u6ee1\u8db3ISO8601 format\u4e2d\u7684Time\u7684\u683c\u5f0f</p> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\ntime: Time\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"time\": \"20:20:39+00:00\"  # correct\n}\nsample = {\n\"time\": \"20:20:39\"  # correct\n}\nsample = {\n\"time\": \"12-12\"  # wrong\n}\nsample = {\n\"time\": \"12::12\"  # wrong\n}\n</code></pre> <ul> <li>\u6570\u636e\u7c7b</li> </ul> <p>\u5728DSDL\u4e2d\uff0c\u4f1a\u5c06\u4f20\u5165\u7684\u6ee1\u8db3Time Field\u89c4\u8303\u7684\u503c\u5b9e\u4f8b\u5316\u4e3a\u4e00\u4e2a<code>datetime.time.fromisoformat</code>\u5bf9\u8c61</p>"},{"location":"api_reference/fields_overview/#6-bbox","title":"6. BBox","text":"<p>BBox\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u7684bounding box\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"properties\": {\n\"mode\": {\"type\": \"string\", \"enum\": [\"xywh\", \"xyxy\"]}\n},\n\"minProperties\": 1,\n\"maxProperties\": 1,\n\"required\": [\"mode\"]\n}\n</code></pre> <p>\u8be5jsonschema\u8868\u793aBBox\u7c7b\u578b\u4f20\u5165\u7684\u53c2\u6570\u4e3a<code>mode</code>\uff0c\u53ef\u4ee5\u7684\u53d6\u503c\u4e3a<code>xywh</code>\u6216<code>xyxy</code>\uff1a</p> <ol> <li><code>mode=xywh</code>\u8868\u793a\u4f20\u5165\u7684\u6570\u636e\u4f1a\u4ee5\u5de6\u4e0a\u89d2xy\u5750\u6807\u548cbbox\u5bbd\u9ad8\u7684\u5f62\u5f0f\u7ed9\u51fa\uff1b</li> <li><code>mode=xyxy</code>\u8868\u793a\u4f20\u5165\u7684\u6570\u636e\u4f1a\u4ee5\u5de6\u4e0a\u89d2+\u53f3\u4e0b\u89d2\u7684xy\u5750\u6807\u7684\u5f62\u5f0f\u7ed9\u51fa</li> </ol> <ul> <li>\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/special/bbox\",\n\"title\": \"BBoxField\",\n\"description\": \"Bounding box field in dsdl.\",\n\"type\": \"array\",\n\"items\": {\"type\": \"number\"},\n\"minItems\": 4,\n\"maxItems\": 4,\n}\n</code></pre> <p>\u8be5schema\u8868\u793a\u4f20\u5165\u7684\u503c\u5fc5\u987b\u8981\u662f\u5217\u8868\uff0c\u5217\u8868\u4e2d\u5305\u542b4\u4e2a\u5143\u7d20\uff0c\u8fd9\u56db\u4e2a\u5143\u7d20\u5fc5\u987b\u662f\u6570\u5b57\u7c7b\u578b\u3002</p> <p>\u7531\u4e8e\u6211\u4eec\u5e0c\u671b\u5728mode\u4e3a<code>xywh</code>\u65f6\uff0c\u4f20\u5165\u7684\u5217\u8868\u76844\u4e2a\u5143\u7d20\u4e2d\uff0c\u8868\u793awh\u7684\u540e\u4e24\u4e2a\u5143\u7d20\u5fc5\u987b\u4e3a\u975e\u8d1f\uff0c\u6211\u4eec\u989d\u5916\u4e3aBBox Field\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u53c2\u6570+\u6570\u636e schema\uff0c\u6765\u89c4\u8303\u5b83\u7684\u53c2\u6570\u4e0e\u4f20\u5165\u6570\u636e\uff1a</p> <pre><code>whole_schema = {\n\"type\": \"object\",\n\"oneOf\": [\n{\n\"properties\": {\n\"args\": {\n\"type\": \"object\",\n\"properties\": {\n\"mode\": {\"type\": \"string\", \"enum\": [\"xywh\"]}\n},\n\"minProperties\": 1,\n\"maxProperties\": 1,\n\"required\": [\"mode\"]\n},\n\"value\": {\n\"type\": \"array\",\n\"minItems\": 4,\n\"maxItems\": 4,\n\"items\": [{\"type\": \"number\"}, {\"type\": \"number\"}, {\"type\": \"number\", \"minimum\": 0},\n{\"type\": \"number\", \"minimum\": 0}]\n}\n}\n},\n{\n\"properties\": {\n\"args\": {\"type\": \"object\",\n\"properties\": {\n\"mode\": {\"type\": \"string\", \"enum\": [\"xyxy\"]}\n},\n\"minProperties\": 1,\n\"maxProperties\": 1,\n\"required\": [\"mode\"]},\n\"value\": {\"type\": \"array\", \"minItems\": 4, \"maxItems\": 4, \"items\": {\"type\": \"number\"}}\n}\n}\n],\n\"required\": [\"args\", \"value\"]\n}\n</code></pre> <ul> <li>\u5b9e\u4f8b1</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\nbbox: BBox\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"bbox\": [10, 12, 480, 720]  # correct\n}\nsample = {\n\"bbox\": [-1, 12, 40, 80]  # correct\n}\nsample = {\n\"bbox\": [1, 2, -1, 100]  # wrong\n}\nsample = {\n\"bbox\": [1, 2, 10, 10, 1]  # wrong\n}\n</code></pre> <ul> <li>\u5b9e\u4f8b2</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\nbbox: BBox[mode=xyxy]\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"bbox\": [10, 12, 480, 720]  # correct\n}\nsample = {\n\"bbox\": [-1, 12, 40, 80]  # correct\n}\nsample = {\n\"bbox\": [1, 2, -1, 100]  # correct\n}\nsample = {\n\"bbox\": [1, 2, 10, 10, 1]  # wrong\n}\n</code></pre> <ul> <li>\u6570\u636e\u7c7b</li> </ul> <p>\u5728DSDL\u4e2d\uff0c\u4f1a\u5c06\u4f20\u5165\u7684\u6ee1\u8db3BBox Field\u89c4\u8303\u7684\u503c\u5b9e\u4f8b\u5316\u4e3a\u4e00\u4e2a<code>dsdl.geometry.BBox</code>\u5bf9\u8c61\uff0c\u76f8\u5e94\u7684\u793a\u4f8b\u4ee3\u7801\u4e3a\uff1a</p> <pre><code>from dsdl.fields import BBox  # import BBox field\nfield = BBox()  # decare the BBox field\ndata = [10, 12, 60, 70]  # define the data of a bounding box\nbbox_obj = field.validate(data)  # return a dsdl.geometry.BBox object\n</code></pre> <p>DSDL\u4e3a\u7528\u6237\u9884\u8bbe\u4e00\u4e9b\u5e38\u7528\u65b9\u6cd5\u4e0e\u5c5e\u6027\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7528\u6237\u5bf9bounding box\u8fdb\u884c\u64cd\u4f5c\uff1a</p> <pre><code>bbox_obj.xyxy  # \u8f93\u51fa\u8be5bounding box\u7684xyxy\u5f62\u5f0f\nbbox_obj.area  # \u8f93\u51fa\u8be5bounding box\u7684\u9762\u79ef\nbbox_obj.xmin  # \u8f93\u51fa\u8be5bounding box\u7684\u5de6\u4e0a\u89d2\u70b9x\u5750\u6807\n...\n</code></pre> <p>\u5176\u4ed6\u65b9\u6cd5\u4e0e\u5c5e\u6027\u53ef\u4ee5\u53c2\u8003DSDL API\u6587\u6863\u7684dsdl.geometry.BBox\u90e8\u5206\u3002</p>"},{"location":"api_reference/fields_overview/#7-rotatedbbox","title":"7. RotatedBBox","text":"<p>RotatedBBox\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u7684\u65cb\u8f6cbounding box\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {  # \u53c2\u6570schema\n\"type\": \"object\",\n\"properties\": {\n\"measure\": {\"enum\": [\"radian\", \"degree\"]},\n\"mode\": {\"enum\": [\"xywht\", \"xyxy\"]}\n},\n\"minProperties\": 2,\n\"maxProperties\": 2,\n\"required\": [\"measure\", \"mode\"]\n}\ndefault_args = {  # \u9ed8\u8ba4\u53c2\u6570\n\"mode\": \"xywht\",\n\"measure\": \"radian\"\n}\n</code></pre> <p><code>args_schema</code>\u7ea6\u675f\u4e86\u5728\u58f0\u660eRotatedBBox Field\u65f6\u9700\u8981\u6307\u5b9a\u53c2\u6570 <code>mode</code>\u4e0e<code>measure</code>\uff1a</p> <ol> <li>mode\uff1a\u8868\u793a\u4f20\u5165\u6570\u636e\u7684\u6a21\u5f0f\uff0c\u53ef\u4ee5\u9009\u62e9<code>xywht</code>\u6216<code>xyxy</code>\uff0c\u9ed8\u8ba4\u4e3a<code>xywht</code></li> <li><code>xywht</code>\uff1a\u4f20\u5165\u7684\u65cb\u8f6c\u76ee\u6807\u6846\u7684\u503c\u9700\u8981\u662f[x, y, w, h, theta]\u7684\u5f62\u5f0f</li> <li><code>xyxy</code>\uff1a\u4f20\u5165\u7684\u65cb\u8f6c\u76ee\u6807\u6846\u7684\u503c\u9700\u8981\u662f[x1, y1, x2, y2, x3, y3, x4, y4]\u7684\u5f62\u5f0f</li> <li>measure\uff1a\u8868\u793a\u5728<code>xywht</code>\u6a21\u5f0f\u4e0b\uff0c\u4f20\u5165\u7684\u89d2\u5ea6<code>theta</code>\u7684\u5355\u4f4d\u662f\u5f27\u5ea6\u8fd8\u662f\u5ea6\u6570\uff0c\u53ef\u4ee5\u9009\u62e9<code>radian</code>\u6216<code>degree</code>\uff0c\u9ed8\u8ba4\u4e3a<code>radian</code>\uff1a</li> <li><code>radian</code>\uff1a<code>xywht</code>\u6a21\u5f0f\u4e0b\uff0c\u4f20\u5165\u7684\u89d2\u5ea6<code>theta</code>\u7684\u5355\u4f4d\u662f\u5f27\u5ea6</li> <li><code>degree</code>\uff1a<code>xywht</code>\u6a21\u5f0f\u4e0b\uff0c\u4f20\u5165\u7684\u89d2\u5ea6<code>theta</code>\u7684\u5355\u4f4d\u662f\u5ea6\u6570</li> </ol> <ul> <li>\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/special/rotatedbbox\",\n\"title\": \"RotatedBBoxField\",\n\"description\": \"Rotated bounding box field in dsdl.\",\n\"type\": \"array\",\n\"oneOf\": [\n{\"minItems\": 5, \"maxItems\": 5,\n\"items\": [{\"type\": \"number\"}, {\"type\": \"number\"}, {\"type\": \"number\", \"minimum\": 0},\n{\"type\": \"number\", \"minimum\": 0}, {\"type\": \"number\"}]},\n{\"minItems\": 8, \"maxItems\": 8, \"items\": {\"type\": \"number\"}}\n]\n}\n</code></pre> <p>\u8be5schema\u8868\u793a\u4f20\u5165\u7684\u503c\u5fc5\u987b\u8981\u662f\u5217\u8868\uff0c\u5217\u8868\u4e2d\u5305\u542b5\u4e2a\u5143\u7d20\uff08rotated bbox\u7684\u4e2d\u5fc3\u70b9xy\u5750\u6807\u3001\u5bbd\u9ad8\uff0c\u65cb\u8f6c\u89d2\u5ea6\uff09\u62168\u4e2a\u5143\u7d20\uff08rotated bbox\u7684\u56db\u4e2a\u9876\u70b9\u7684xy\u5750\u6807\uff09\uff0c\u5143\u7d20\u7c7b\u578b\u5fc5\u987b\u662f\u6570\u5b57\u7c7b\u578b\u3002</p> <ul> <li>\u7531\u4e8e\u6211\u4eec\u5e0c\u671b\u5728mode\u4e3a<code>xywht</code>\u65f6\uff0c\u4f20\u5165\u7684\u5217\u8868\u4e3a5\u4e2a\u5143\u7d20\uff1bmode\u4e3a<code>xyxy</code>\u65f6\uff0c\u4f20\u5165\u7684\u5217\u8868\u4e3a8\u4e2a\u5143\u7d20\uff0c\u56e0\u6b64\u6211\u4eec\u989d\u5916\u4e3aRotateBBox Field\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u53c2\u6570+\u6570\u636e schema\uff0c\u6765\u89c4\u8303\u5b83\u7684\u53c2\u6570\u4e0e\u4f20\u5165\u6570\u636e\uff1a</li> </ul> <pre><code>whole_schema = {\n\"type\": \"object\",\n\"oneOf\": [\n{\n\"properties\": {\n\"args\": {\n\"type\": \"object\",\n\"properties\": {\n\"measure\": {\"enum\": [\"radian\", \"degree\"]},\n\"mode\": {\"enum\": [\"xywht\"]}\n},\n\"minProperties\": 2,\n\"maxProperties\": 2,\n\"required\": [\"measure\", \"mode\"]\n},\n\"value\": {\n\"type\": \"array\",\n\"minItems\": 5,\n\"maxItems\": 5,\n\"items\": [{\"type\": \"number\"}, {\"type\": \"number\"}, {\"type\": \"number\", \"minimum\": 0},\n{\"type\": \"number\", \"minimum\": 0}, {\"type\": \"number\"}]\n}\n}\n},\n{\n\"properties\": {\n\"args\": {\"type\": \"object\",\n\"properties\": {\n\"measure\": {\"enum\": [\"radian\", \"degree\"]},\n\"mode\": {\"enum\": [\"xyxy\"]}\n},\n\"minProperties\": 2,\n\"maxProperties\": 2,\n\"required\": [\"measure\", \"mode\"]},\n\"value\": {\"type\": \"array\", \"minItems\": 8, \"maxItems\": 8, \"items\": {\"type\": \"number\"}}\n}\n}\n],\n\"required\": [\"args\", \"value\"]\n}\n</code></pre> <ul> <li>\u5b9e\u4f8b1</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\nrbbox: RotatedBBox  # \u9ed8\u8ba4\u60c5\u51b5\u4e0b mode=xywht, measure=radian\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"rbbox\": [10, 12, 480, 720, 3.14]  # correct\n}\nsample = {\n\"rbbox\": [-1, 12, -40, 80\uff0c 3.14]  # wrong\n}\nsample = {\n\"rbbox\": [12\uff0c 12\uff0c 12\uff0c 13\uff0c 14\uff0c 13\uff0c 14\uff0c 12]  # wrong\n}\n</code></pre> <ul> <li>\u5b9e\u4f8b2</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\nrbbox: RotatedBBox[mode=xyxy]  # \u9ed8\u8ba4\u60c5\u51b5\u4e0b measure=radian\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"rbbox\": [10, 12, 480, 720, 3.14]  # wrong\n}\nsample = {\n\"rbbox\": [-1, 12, -40, 80\uff0c 3.14]  # wrong\n}\nsample = {\n\"rbbox\": [12\uff0c 12\uff0c 12\uff0c 13\uff0c 14\uff0c 13\uff0c 14\uff0c 12]  # correct\n}\n</code></pre> <ul> <li>\u6570\u636e\u7c7b</li> </ul> <p>\u5728DSDL\u4e2d\uff0c\u4f1a\u5c06\u4f20\u5165\u7684\u6ee1\u8db3RotatedBBox Field\u89c4\u8303\u7684\u503c\u5b9e\u4f8b\u5316\u4e3a\u4e00\u4e2a<code>dsdl.geometry.RBBox</code>\u5bf9\u8c61\uff0c\u76f8\u5e94\u7684\u793a\u4f8b\u4ee3\u7801\u4e3a\uff1a</p> <pre><code>from dsdl.fields import RotatedBBox  # import RotatedBBox field\nfield = RotatedBBox(mode=\"xywht\", measure=\"radian\")  # decare the RotatedBBox field\ndata = [10, 12, 60, 70, 3.14]  # define the data of a rotated bounding box\nrotated_bbox_obj = field.validate(data)  # return a dsdl.geometry.RBBox object\n</code></pre> <p>DSDL\u4e3a\u7528\u6237\u9884\u8bbe\u4e00\u4e9b\u5e38\u7528\u65b9\u6cd5\u4e0e\u5c5e\u6027\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7528\u6237\u5bf9rotated bounding box\u8fdb\u884c\u64cd\u4f5c\uff1a</p> <pre><code>rotated_bbox_obj.polygon_value  # \u8f93\u51fa\u8be5rotated bounding box\u7684xyxy\u5f62\u5f0f\nrotated_bbox_obj.rbbox_value  # \u8f93\u51fa\u8be5rotated bounding box\u7684xywht\u5f62\u5f0f\n...\n</code></pre> <p>\u5176\u4ed6\u65b9\u6cd5\u4e0e\u5c5e\u6027\u53ef\u4ee5\u53c2\u8003DSDL API\u6587\u6863\u7684dsdl.geometry.RBBox\u90e8\u5206\u3002</p>"},{"location":"api_reference/fields_overview/#8-polygon","title":"8. Polygon","text":"<p>Polygon\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u7684polygon\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"minProperties\": 0,\n\"maxProperties\": 0,\n}\n</code></pre> <ul> <li>\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/special/polygon\",\n\"title\": \"PolygonField\",\n\"description\": \"Polygon field in dsdl.\",\n\"type\": \"array\",\n\"items\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"array\",\n\"items\": {\"type\": \"number\"},\n\"minItems\": 2,\n\"maxItems\": 2,\n}\n}\n}\n</code></pre> <p>\u8be5schema\u8868\u793a\u4f20\u5165\u7684\u503c\u5fc5\u987b\u8981\u662f\u5217\u8868\uff0c\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u4e5f\u662f\u4e00\u4e2a\u5217\u8868\uff08\u4ee3\u8868\u4e00\u4e2a\u95ed\u5408\u7684polygon\uff09\uff0c\u8be5\u5217\u8868\u4e2d\u518d\u5d4c\u5957\u4e00\u5c42\u5217\u8868\uff08\u4ee3\u8868\u6bcf\u4e2apoint\uff09\uff0c\u6700\u91cc\u5c42\u5217\u8868\u91cc\u5305\u542b\u4e24\u4e2a\u5143\u7d20\uff0c\u90fd\u9700\u8981\u662f\u6570\u5b57\u7c7b\u578b\uff0c\u4ee3\u8868\u8fd9\u4e2apoint\u7684xy\u5750\u6807\u3002\u5373\uff1a</p> <pre><code>polygon = [polygon_item1, polygon_item2, ...]\npolygon_item = [point1, point2, ...]\npoint = [x, y]\n</code></pre> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\npolygon: Polygon\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"polygon\": [\n[[10, 12], [480, 720], [11, 360]],\n[[45, 34], [90, 12], [11, 56]]  \n]  # correct\n}\nsample = {\n\"polygon\": [[10, 12], [480, 720], [11, 360]]  # wrong\n}\nsample = {\n\"polygon\": [\n[[10, 12], [480, 720], [11, 360]],\n]  # correct\n}\n</code></pre> <ul> <li>\u6570\u636e\u7c7b</li> </ul> <p>\u5728DSDL\u4e2d\uff0c\u4f1a\u5c06\u4f20\u5165\u7684\u6ee1\u8db3Polygon Field\u89c4\u8303\u7684\u503c\u5b9e\u4f8b\u5316\u4e3a\u4e00\u4e2a<code>dsdl.geometry.Polygon</code>\u5bf9\u8c61\uff0c\u76f8\u5e94\u7684\u793a\u4f8b\u4ee3\u7801\u4e3a\uff1a</p> <pre><code>from dsdl.fields import Polygon  # import Polygon field\nfield = Polygon()  # decare the Polygon field\ndata = [\n[[10, 12], [480, 720], [11, 360]],\n[[45, 34], [90, 12], [11, 56]]  \n]  # define the data of a polygon\npolygon_obj = field.validate(data)  # return a dsdl.geometry.Polygon object\n</code></pre> <p>DSDL\u4e3a\u7528\u6237\u9884\u8bbe\u4e00\u4e9b\u5e38\u7528\u65b9\u6cd5\u4e0e\u5c5e\u6027\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7528\u6237\u5bf9bounding box\u8fdb\u884c\u64cd\u4f5c\uff1a</p> <pre><code>polygon_obj.openmmlabformat  # \u5c06\u6240\u6709\u7684\u70b9\u5e73\u94fa\uff08\u4e0eopenmmlab\u5b58\u50a8polygon\u7684\u683c\u5f0f\u4e00\u81f4\uff09\n...\n</code></pre> <p>\u5176\u4ed6\u65b9\u6cd5\u4e0e\u5c5e\u6027\u53ef\u4ee5\u53c2\u8003DSDL API\u6587\u6863\u7684dsdl.geometry.Polygon\u90e8\u5206\u3002</p>"},{"location":"api_reference/fields_overview/#9-text","title":"9. Text","text":"<p>Text\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u7684\u6587\u672c\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"minProperties\": 0,\n\"maxProperties\": 0,\n}\n</code></pre> <ul> <li>\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/special/text\",\n\"title\": \"TextField\",\n\"description\": \"Text field in dsdl.\",\n\"type\": \"string\"\n}\n</code></pre> <p>\u8be5schema\u8868\u793a\u4f20\u5165\u7684\u503c\u5fc5\u987b\u8981\u5b57\u7b26\u4e32\u7c7b\u578b\u3002</p> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\ntxt: Text\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"txt\": \"dsdl\"  # correct\n}\nsample = {\n\"txt\": 1  # wrong\n}\nsample = {\n\"txt\": [1, 2, -1, 100]  # wrong\n}\n</code></pre> <ul> <li>\u6570\u636e\u7c7b</li> </ul> <p>\u5728DSDL\u4e2d\uff0c\u4f1a\u5c06\u4f20\u5165\u7684\u6ee1\u8db3Text Field\u89c4\u8303\u7684\u503c\u5b9e\u4f8b\u5316\u4e3a\u4e00\u4e2a<code>dsdl.geometry.Text</code>\u5bf9\u8c61\uff0c\u76f8\u5e94\u7684\u793a\u4f8b\u4ee3\u7801\u4e3a\uff1a</p> <pre><code>from dsdl.fields import Text  # import Text field\nfield = Text()  # decare the Text field\ndata = \"dsdl\"  # define the data of a text annotation\ntext_obj = field.validate(data)  # return a dsdl.geometry.BBox object\n</code></pre> <p>DSDL\u4e3a\u7528\u6237\u9884\u8bbe\u4e00\u4e9b\u5e38\u7528\u65b9\u6cd5\u4e0e\u5c5e\u6027\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7528\u6237\u5bf9text\u6807\u6ce8\u8fdb\u884c\u64cd\u4f5c\uff1a</p> <pre><code>text_obj.value  # \u8f93\u51fa\u8be5\u6587\u672c\n</code></pre> <p>\u5176\u4ed6\u65b9\u6cd5\u4e0e\u5c5e\u6027\u53ef\u4ee5\u53c2\u8003DSDL API\u6587\u6863\u7684dsdl.geometry.Text\u90e8\u5206\u3002</p>"},{"location":"api_reference/fields_overview/#10-imageshape","title":"10. ImageShape","text":"<p>ImageShape\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u7684\u56fe\u50cf\u5c3a\u5bf8\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"properties\": {\n\"mode\": {\n\"type\": \"string\",\n\"enum\": [\"hw\", \"wh\"]\n}\n},\n\"minProperties\": 1,\n\"maxProperties\": 1,\n\"required\": [\"mode\"]\n}\ndefault_args = {\"mode\": \"hw\"}\n</code></pre> <p>\u58f0\u660eImageShape Field\u9700\u8981\u6307\u5b9a<code>mode</code>\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u7684\u503c\u53ef\u4ee5\u662f<code>hw</code>\u6216<code>wh</code>\uff0c\u9ed8\u8ba4\u4e3a<code>hw</code>\uff1a</p> <ul> <li><code>hw</code>\uff1aImageShape\u4f20\u5165\u7684\u503c\u5c06\u4f5c\u4e3a[\u9ad8\uff0c\u5bbd]\u6765\u89e3\u6790</li> <li><code>wh</code>\uff1aImageShape\u4f20\u5165\u7684\u503c\u5c06\u4f5c\u4e3a[\u5bbd\uff0c\u9ad8]\u6765\u89e3\u6790</li> </ul> <ul> <li>\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/special/imageshape\",\n\"title\": \"ImageShapeField\",\n\"description\": \"ImageShape field in dsdl.\",\n\"type\": \"array\",\n\"items\": {\"type\": \"integer\", \"minimum\": 0},\n\"minItems\": 2,\n\"maxItems\": 2,\n}\n</code></pre> <p>\u8be5schema\u8868\u793a\u4f20\u5165\u7684\u503c\u5fc5\u987b\u8981\u662f\u5217\u8868\uff0c\u5143\u7d20\u6570\u76ee\u5fc5\u987b\u662f2\uff0c\u5143\u7d20\u5fc5\u987b\u662f\u4e0d\u5c0f\u4e8e0\u7684\u6574\u6570\u3002</p> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\nshape: ImageShape[mode=wh]\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"shape\": [12, 45]  # correct\n}\nsample = {\n\"shape\": [12, -1]  # wrong\n}\nsample = {\n\"shape\": [1, 2, 100]  # wrong\n}\n</code></pre> <ul> <li>\u6570\u636e\u7c7b</li> </ul> <p>\u5728DSDL\u4e2d\uff0c\u4f1a\u5c06\u4f20\u5165\u7684\u6ee1\u8db3ImageShape Field\u89c4\u8303\u7684\u503c\u5b9e\u4f8b\u5316\u4e3a\u4e00\u4e2a<code>dsdl.geometry.ImageShape</code>\u5bf9\u8c61\uff0c\u76f8\u5e94\u7684\u793a\u4f8b\u4ee3\u7801\u4e3a\uff1a</p> <pre><code>from dsdl.fields import ImageShape  # import ImageShape field\nfield = ImageShape()  # decare the ImageShape field\ndata = [360, 960]  # define the data of a imageshape\nshape_obj = field.validate(data)  # return a dsdl.geometry.ImageShape object\n</code></pre> <p>DSDL\u4e3a\u7528\u6237\u9884\u8bbe\u4e00\u4e9b\u5e38\u7528\u65b9\u6cd5\u4e0e\u5c5e\u6027\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7528\u6237\u5bf9imageshape\u6807\u6ce8\u8fdb\u884c\u64cd\u4f5c\uff1a</p> <pre><code>shape_obj.height  # \u8f93\u51fa\u9ad8\nshape_obj.width  # \u8f93\u51fa\u5bbd\n</code></pre> <p>\u5176\u4ed6\u65b9\u6cd5\u4e0e\u5c5e\u6027\u53ef\u4ee5\u53c2\u8003DSDL API\u6587\u6863\u7684dsdl.geometry.ImageShape\u90e8\u5206\u3002</p>"},{"location":"api_reference/fields_overview/#11-uniqueid","title":"11. UniqueID","text":"<p>UniqueID\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u7684\u552f\u4e00ID\u6570\u636e\uff1a</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"properties\": {\n\"id_type\": {\"type\": [\"string\", \"null\"]}\n},\n\"minProperties\": 1,\n\"maxProperties\": 1,\n\"required\": [\"id_type\"]\n}\ndefault_args = {\"id_type\": None}\n</code></pre> <p>\u58f0\u660eUniqueID Field\u9700\u8981\u6307\u5b9a<code>id_type</code>\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u7684\u503c\u9700\u8981\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\u6216\u8005None\uff0c\u4e3b\u8981\u7528\u4e8e\u8868\u793a\u8be5UniqueID Field\u662f\u63cf\u8ff0\u4ec0\u4e48ID\u7684\uff0c\u9ed8\u8ba4\u503c\u4e3aNone\u3002</p> <ul> <li>\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/special/uniqueid\",\n\"title\": \"UniqueIDField\",\n\"description\": \"UniqueID field in dsdl.\",\n\"type\": \"string\"\n}\n</code></pre> <p>\u8be5schema\u8868\u793a\u4f20\u5165\u7684\u503c\u5fc5\u987b\u8981\u662f\u5b57\u7b26\u4e32\u3002</p> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\nuid: UniqueID[id_type=image_id]  # \u7528\u4e8e\u8868\u793aImageID\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"uid\": \"image001\"  # correct\n}\nsample = {\n\"uid\": [12, -1]  # wrong\n}\nsample = {\n\"uid\": 1  # wrong\n}\n</code></pre> <ul> <li>\u6570\u636e\u7c7b</li> </ul> <p>\u5728DSDL\u4e2d\uff0c\u4f1a\u5c06\u4f20\u5165\u7684\u6ee1\u8db3UniqueID Field\u89c4\u8303\u7684\u503c\u5b9e\u4f8b\u5316\u4e3a\u4e00\u4e2a<code>dsdl.geometry.UniqueID</code>\u5bf9\u8c61\uff0c\u76f8\u5e94\u7684\u793a\u4f8b\u4ee3\u7801\u4e3a\uff1a</p> <pre><code>from dsdl.fields import UniqueID  # import UniqueID field\nfield = UniqueID(id_type=\"image_id\")  # decare the UniqueID field\ndata = \"image001\"  # define the data of an image id\nuid_obj = field.validate(data)  # return a dsdl.geometry.UniqueID object\n</code></pre> <p>DSDL\u4e3a\u7528\u6237\u9884\u8bbe\u4e00\u4e9b\u5e38\u7528\u65b9\u6cd5\u4e0e\u5c5e\u6027\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7528\u6237\u5bf9UniqueID\u8fdb\u884c\u64cd\u4f5c\uff1a</p> <pre><code>uid_obj.value  # \u8f93\u51faid\u503c\n</code></pre> <p>\u5176\u4ed6\u65b9\u6cd5\u4e0e\u5c5e\u6027\u53ef\u4ee5\u53c2\u8003DSDL API\u6587\u6863\u7684dsdl.geometry.UniqueID\u90e8\u5206\u3002</p>"},{"location":"api_reference/fields_overview/#12-instanceid","title":"12. InstanceID","text":"<p>InstanceID\u7c7b\u578bField\u53ef\u4ee5\u770b\u4f5c\u662f\u4e00\u79cd\u7279\u6b8a\u7684UniqueID Field\uff0c\u4e13\u95e8\u7528\u6765\u8868\u793a\u5b9e\u4f8b\u7684\u552f\u4e00id\uff1a</p> <p>InstanceId Field\u7b49\u4ef7\u4e8e<code>UniqueID[id_type=InstanceID]</code></p> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\nins_id: InstanceID\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"ins_id\": \"instance_001\"  # correct\n}\nsample = {\n\"ins_id\": [12, -1]  # wrong\n}\nsample = {\n\"ins_id\": 1  # wrong\n}\n</code></pre>"},{"location":"api_reference/fields_overview/#13-label","title":"13. Label","text":"<p>Label\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u7684\u7c7b\u522b\u6807\u6ce8\u7c7b\u578b\u3002</p> <ul> <li>\u58f0\u660e\u53c2\u6570</li> </ul> <p>\u7531\u4e8eLabel Field\u7528\u6765\u89c4\u8303\u4f20\u5165\u7684\u7c7b\u522b\u6807\u7b7e\u6570\u636e\uff0c\u56e0\u6b64\u5728\u58f0\u660eLabel Field\u65f6\u6211\u4eec\u9700\u8981\u6307\u660e\u8be5\u7c7b\u522b\u6807\u7b7e\u7684<code>ClassDomain</code>\u3002\u4e0b\u9762\u4e3e\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u9996\u5148\u58f0\u660e\u4e00\u4e2aClassDomain\uff0c\u7136\u540e\u4f7f\u7528\u8be5ClassDomain\u6765\u58f0\u660eLabel Field\uff1a</p> <pre><code># \u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684ClassDomain\nCOCOClassDemoDom:\n$def: class_domain\nclasses:\n- person\n- bicycle\n- car\n- motorcycle\n- airplane\n# Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\ncategory: Label[dom=COCOClassDemoDom]\n</code></pre> <p>\u901a\u8fc7\u4e0a\u8ff0\u7684\u58f0\u660e\u8bed\u53e5\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2aClassDomain\u4e3aCOCOClassDemoDom\u7684Label Field\u3002</p> <ul> <li>\u4f20\u5165\u6570\u636e</li> </ul> <p>\u5728\u4f20\u5165\u5177\u4f53\u7684label\u6570\u636e\u65f6\uff0c\u6211\u4eec\u9996\u5148\u9700\u8981\u4ee4\u6570\u636e\u9075\u5faa\u4e0b\u9762\u7684jsonschema\uff1a</p> <pre><code>data_schema = {\n\"$id\": \"/special/label\",\n\"title\": \"LabelField\",\n\"description\": \"Label field in dsdl.\",\n\"type\": [\"string\", \"integer\"]\n}\n</code></pre> <p>\u4f20\u5165\u7684\u503c\u9700\u8981\u662f\u6574\u6570\u7c7b\u578b\u6216\u8005\u5b57\u7b26\u4e32\u7c7b\u578b</p> <ul> <li> <p>\u5982\u679c\u4f20\u5165\u7684\u6570\u636e\u662f\u6574\u6570\u7c7b\u578b\uff0c\u5219dsdl\u4f1a\u5c06\u5176\u7406\u89e3\u4e3a\u8be5Label\u5728ClassDomain\u4e2d\u7684\u5e8f\u53f7\uff1a</p> <pre><code>data = {\"category\": 1}  # \u8868\u793a COCOClassDemoDom\u7684\u7b2c1\u4e2alabel\uff08\u5373person\uff09\ndata = {\"category\": 5}  # \u8868\u793a COCOClassDemoDom\u7684\u7b2c5\u4e2alabel\uff08\u5373airplane\uff09\ndata = {\"category\": 6}  # error! COCOClassDemoDom\u4e2d\u53ea\u67095\u4e2alabel\n</code></pre> </li> <li> <p>\u5982\u679c\u4f20\u5165\u7684\u6570\u636e\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u5219dsdl\u4f1a\u5c06\u5176\u7406\u89e3\u4e3a\u8be5Label\u7684\u540d\u79f0\u6216\u8005<code>&lt;classdomain name&gt;::&lt;label name&gt;</code>\uff1a</p> <pre><code>data = {\"category\": \"COCOClassDemoDom::person\"}  # \u8868\u793a COCOClassDemoDom\u4e2d\u7684person\ndata = {\"category\": \"person\"}  # \u8868\u793a COCOClassDemoDom\u4e2d\u7684person\ndata = {\"category\": \"OtherDom::person\"}  # error! OtherDom\u6ca1\u6709\u5728Label Field\u4e2d\u88ab\u58f0\u660e\ndata = {\"category\": \"arrow\"} # error! COCOClassDemoDom\u4e2d\u4e0d\u5b58\u5728 arrow\n</code></pre> </li> <li> <p>\u6570\u636e\u7c7b</p> </li> </ul> <p>\u5728dsdl\u4e2d\uff0c\u4f1a\u5c06\u4f20\u5165\u7684\u503c\u5b9e\u4f8b\u5316\u4e3a\u4e00\u4e2a<code>dsd.geometry.Label</code>\u5bf9\u8c61\uff1a</p> <pre><code>from dsdl.geometry import ClassDomain\nfrom dsdl.fields import Label\n# \u5b9a\u4e49ClassDomain\nClassDomain(\nname=\"COCOClassDemoDom\",\nclasses=[\"person\", \"bicycle\", \"car\", \"motorcycle\", \"airplane\"],\n)\n# \u58f0\u660eLabelField\nfield = Label(dom=\"COCOClassDemoDom\")\n# \u5b9e\u4f8b\u5316\ndata = \"COCOClassDemoDom::car\"\nlabel_obj = field.validate(data)\n</code></pre> <p>DSDL\u4e3a\u7528\u6237\u9884\u8bbe\u4e00\u4e9b\u5e38\u7528\u65b9\u6cd5\u4e0e\u5c5e\u6027\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7528\u6237\u5bf9Label\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\uff1a</p> <pre><code>label_obj.index_in_domain()  # \u8fd4\u56de3\uff0c\u5373\u8be5\u7c7b\u522b\u5728classdomain\u4e2d\u7684\u5e8f\u53f7\nlabel_obj.category_name  # \u8fd4\u56de car\uff0c\u5373\u8be5\u7c7b\u522b\u7684\u540d\u79f0\n</code></pre> <p>\u5176\u4ed6\u65b9\u6cd5\u4e0e\u5c5e\u6027\u53ef\u4ee5\u53c2\u8003DSDL API\u6587\u6863\u7684dsdl.geometry.Label\u90e8\u5206\u3002</p>"},{"location":"api_reference/fields_overview/#14-keypoint","title":"14. Keypoint","text":"<p>Keypoint\u7c7b\u578bField\u7528\u6765\u8868\u793a\u6837\u672c\u4e2d\u7684\u5173\u952e\u70b9\u7c7b\u578b\u7684\u6570\u636e\u3002</p> <ul> <li>\u58f0\u660e\u53c2\u6570</li> </ul> <p>\u7531\u4e8e\u5173\u952e\u70b9\u68c0\u6d4b\u4efb\u52a1\u9700\u8981\u6211\u4eec\u4e8b\u5148\u6307\u5b9a\u4e00\u4e2a\u76ee\u6807\u4e2d\u5404\u4e2a\u5173\u952e\u70b9\u7684\u7c7b\u578b\u540d\u79f0\u4ee5\u53ca\u8fde\u7ed3\u5173\u7cfb\uff0c\u56e0\u6b64\u5728dsdl\u4e2d\u6211\u4eec\u9700\u8981\u5728\u58f0\u660eKeypoint Field\u65f6\u6307\u5b9a\u4e00\u4e2aClassDomain\uff0c\u5b9e\u4f8b\u5982\u4e0b\uff1a</p> <pre><code># \u5b9a\u4e49ClassDomain\nKeyPoint_person_ClassDom:\n$def: class_domain\nclasses:\n- left_ankle\n- left_ear\n- left_elbow\n- left_eye\n- left_hip\n- left_knee\n- left_shoulder\n- left_wrist\n- nose\n- right_ankle\n- right_ear\n- right_elbow\n- right_eye\n- right_hip\n- right_knee\n- right_shoulder\n- right_wrist\nskeleton:\n- [16, 14]\n- [14, 12]\n- [17, 15]\n- [15, 13]\n- [12, 13]\n- [6, 12]\n- [7, 13]\n- [6, 7]\n- [6, 8]\n- [7, 9]\n- [8, 10]\n- [9, 11]\n- [2, 3]\n- [1, 2]\n- [1, 3]\n- [2, 4]\n- [3, 5]\n- [4, 6]\n- [5, 7]\n# Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\nkp: Keypoint[dom=KeyPoint_person_ClassDom]\n</code></pre> <p>\u5176\u4e2dskeleton\u5b57\u6bb5\u6307\u660e\u4e86classes\u5b57\u6bb5\u4e2d\u5404\u4e2a\u5173\u952e\u70b9\u7684\u8fde\u7ed3\u5173\u7cfb</p> <p>\u901a\u8fc7\u4e86\u4e0a\u9762\u7684yaml\u8bed\u53e5\uff0c\u6211\u4eec\u58f0\u660e\u4e86\u4e00\u4e2aClassDomain\u4e3aKeyPoint_person_ClassDom\u7684Keypoint Field\u3002</p> <ul> <li>\u4f20\u5165\u6570\u636e</li> </ul> <p>\u5728\u4f20\u5165\u5177\u4f53\u7684keypoint\u6570\u636e\u65f6\uff0c\u6211\u4eec\u9996\u5148\u9700\u8981\u4ee4\u6570\u636e\u9075\u5faa\u4e0b\u9762\u7684jsonschema\uff1a</p> <pre><code>data_schema = {\n\"$id\": \"/special/keypoint\",\n\"title\": \"KeypointField\",\n\"description\": \"Keypoint Field in dsdl.\",\n\"type\": \"array\",\n\"items\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"number\"\n},\n\"minItems\": 3,\n\"maxItems\": 3,\n}\n}\n</code></pre> <p>\u8be5schema\u89c4\u5b9a\uff0c\u4f20\u5165\u7684keypoint\u503c\u5fc5\u987b\u662f\u4e00\u4e2a\u5217\u8868</p> <ul> <li>\u8be5\u5217\u8868\u7684\u5143\u7d20\u4e5f\u5fc5\u987b\u662f\u4e00\u4e2a\u5143\u7d20\u6570\u76ee\u4e3a3\uff0c\u7c7b\u578b\u4e3a\u6570\u5b57\u7c7b\u578b\u7684\u5217\u8868\uff0c\u8868\u793a\u4e00\u4e2a\u5173\u952e\u70b9\u7684xy\u5750\u6807\u4ee5\u53ca\u662f\u5426\u53ef\u89c1</li> </ul> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># \u5b9a\u4e49ClassDomain\nKeypointClassDom:\n$def: class_domain\nclasses:\n- hand\n- arm\n- shoulder\n- neck\n- head\nskeleton:\n- [1, 2]\n- [2, 3]\n- [3, 4]\n- [4, 5]\n- [5, 6]\n# Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\nkp: Keypoint[dom=KeypointClassDom]\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"kp\": [[1,3,1], [1,4,1], [2,3,1], [3,4,0], [5,5,1]]  # correct\n}\nsample = {\n\"kp\": [12, -1]  # wrong\n}\nsample = {\n\"kp\": 1  # wrong\n}\n</code></pre> <ul> <li>\u6570\u636e\u7c7b</li> </ul> <p>\u5728DSDL\u4e2d\uff0c\u4f1a\u5c06\u4f20\u5165\u7684\u6ee1\u8db3Keypoint Field\u89c4\u8303\u7684\u503c\u5b9e\u4f8b\u5316\u4e3a\u4e00\u4e2a<code>dsdl.geometry.Keypoint</code>\u5bf9\u8c61\uff0c\u76f8\u5e94\u7684\u793a\u4f8b\u4ee3\u7801\u4e3a\uff1a</p> <pre><code>from dsdl.geometry import ClassDomain\nfrom dsdl.fields import Keypoint\n# \u5b9a\u4e49ClassDomain\nClassDomain(\nname=\"KeypointDom\",\nclasses=[\"hand\", \"arm\", \"shoulder\", \"neck\", \"head\"],\nskeleton=[[1,2], [2,3], [3,4], [4,5]]\n)\n# \u58f0\u660eLabelField\nfield = Keypoint(dom=\"KeypointDom\")\n# \u5b9e\u4f8b\u5316\ndata = [[1,3,1], [1,4,1], [2,3,1], [3,4,0], [5,5,1]]\nkp_obj = field.validate(data)\n</code></pre> <p>DSDL\u4e3a\u7528\u6237\u9884\u8bbe\u4e00\u4e9b\u5e38\u7528\u65b9\u6cd5\u4e0e\u5c5e\u6027\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7528\u6237\u5bf9Keypoint\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\uff1a</p> <pre><code>kp_obj.points  # \u8fd4\u56de\u6240\u6709\u70b9\u7684xy\u5750\u6807\nkp_obj.visables  # \u6240\u6709\u70b9\u662f\u5426\u53ef\u89c1\n</code></pre> <p>\u5176\u4ed6\u65b9\u6cd5\u4e0e\u5c5e\u6027\u53ef\u4ee5\u53c2\u8003DSDL API\u6587\u6863\u7684dsdl.geometry.Keypoint\u90e8\u5206\u3002</p>"},{"location":"api_reference/fields_overview/#field_2","title":"\u5a92\u4f53\u7c7b\u578bField","text":""},{"location":"api_reference/fields_overview/#1-image","title":"1. Image","text":"<p>Image\u7c7b\u578bField\u7528\u6765\u8868\u793a\u56fe\u50cf\u6570\u636e</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"minProperties\": 0,\n\"maxProperties\": 0,\n}\n</code></pre> <ul> <li>\u4f20\u5165\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/unstructure/image\",\n\"title\": \"ImageField\",\n\"description\": \"Image field in dsdl.\",\n\"type\": \"string\",\n}\n</code></pre> <p>Image Field\u7684\u4f20\u5165\u6570\u636e\u53ea\u8981\u6c42\u662f\u5b57\u7b26\u4e32\u5373\u53ef\uff0c\u8be5\u5b57\u7b26\u4e32\u4e00\u822c\u662f\u56fe\u50cf\u7684\u76f8\u5bf9\u8def\u5f84</p> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\nimg: Image\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"img\": \"dsdl.jpg\"  # correct\n}\nsample = {\n\"img\": 10.4  # wrong\n}\nsample = {\n\"img\": True  # wrong\n}\n</code></pre> <ul> <li>\u6570\u636e\u7c7b</li> </ul> <p>\u5728DSDL\u4e2d\uff0c\u4f1a\u5c06\u4f20\u5165\u7684\u6ee1\u8db3Image Field\u89c4\u8303\u7684\u503c\u5b9e\u4f8b\u5316\u4e3a\u4e00\u4e2a<code>dsdl.geometry.Image</code>\u5bf9\u8c61\uff0c\u76f8\u5e94\u7684\u793a\u4f8b\u4ee3\u7801\u4e3a\uff1a</p> <pre><code>from dsdl.fields import Image  # import Image field\nfrom dsdl.objectio import LocalFileReader\nfield = Image()  # declare the Image field\nfile_reader = LocalFileReader(working_dir=\"the/dir/of/images\")\nfield.set_file_reader(file_reader)  # declare the file reader\ndata = \"1.jpg\"\nimg_obj = field.validate(data)  # return a dsdl.geometry.Image object\n</code></pre> <p>\u7531\u4e8e\u5728\u6807\u6ce8\u6587\u4ef6\u4e2d\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u53ea\u4f1a\u63d0\u4f9bImage\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u9700\u8981\u4e3aImage Field\u5bf9\u8c61\u6307\u5b9a\u4e00\u4e2afile reader\u5bf9\u8c61\uff0c\u4ece\u800c\u544a\u8bc9dsdl\u4ece\u54ea\u91cc\u8bfb\u53d6\u8be5\u56fe\u7247</p> <p>DSDL\u4e3a\u7528\u6237\u9884\u8bbe\u4e00\u4e9b\u5e38\u7528\u65b9\u6cd5\u4e0e\u5c5e\u6027\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7528\u6237\u5bf9Image\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\uff1a</p> <pre><code>img_obj.to_image()  # \u5c06\u56fe\u50cf\u8f6c\u6362\u4e3aPIL.Image\u5bf9\u8c61\nimg_obj.to_array()  # \u5c06\u56fe\u50cf\u8f6c\u6362\u4e3anumpy.ndarray\u5bf9\u8c61\n...\n</code></pre> <p>\u5176\u4ed6\u65b9\u6cd5\u4e0e\u5c5e\u6027\u53ef\u4ee5\u53c2\u8003DSDL API\u6587\u6863\u7684<code>dsdl.geometry.Image</code>\u90e8\u5206\u3002</p>"},{"location":"api_reference/fields_overview/#2-labelmap","title":"2. LabelMap","text":"<p>LabelMap\u7c7b\u578bField\u7528\u6765\u8868\u793a\u8bed\u4e49\u5206\u5272\u56fe</p> <ul> <li>\u58f0\u660e\u53c2\u6570</li> </ul> <p>\u7531\u4e8e\u8bed\u4e49\u5206\u5272\u4efb\u52a1\u9700\u8981\u4e8b\u5148\u6307\u5b9a\u4e00\u4e2aClassDomain\uff0c\u56e0\u6b64\u5728\u58f0\u660eLabelMap Field\u65f6\u9700\u8981\u6307\u5b9a\u5b83\u7684ClassDomain\u3002\u6307\u5b9a\u65b9\u6cd5\u548cLabel Field\u3001Keypoint Field\u7c7b\u4f3c\uff1a</p> <pre><code># \u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684ClassDomain\nCOCOClassDemoDom:\n$def: class_domain\nclasses:\n- person\n- bicycle\n- car\n- motorcycle\n- airplane\n# Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\nlabelmap: LabelMap[dom=COCOClassDemoDom]\n</code></pre> <p>\u901a\u8fc7\u4e0a\u9762\u7684yaml\u8bed\u53e5\uff0c\u58f0\u660e\u4e86\u4e00\u4e2aclass domain\u4e3aCOCOClassDemoDom\u7684LabelMap Field</p> <ul> <li>\u4f20\u5165\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/unstructure/labelmap\",\n\"title\": \"LabelMapField\",\n\"description\": \"LabelMap field in dsdl.\",\n\"type\": \"string\",\n}\n</code></pre> <p>LabelMap Field\u7684\u4f20\u5165\u6570\u636e\u53ea\u8981\u6c42\u662f\u5b57\u7b26\u4e32\u5373\u53ef\uff0c\u8be5\u5b57\u7b26\u4e32\u4e00\u822c\u662f\u56fe\u50cf\u7684\u76f8\u5bf9\u8def\u5f84</p> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># \u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684ClassDomain\nCOCOClassDemoDom:\n$def: class_domain\nclasses:\n- person\n- bicycle\n- car\n- motorcycle\n- airplane\n# Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\nlabelmap: LabelMap[dom=COCOClassDemoDom]\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"labelmap\": \"dsdl_label.jpg\"  # correct\n}\nsample = {\n\"labelmap\": 10.4  # wrong\n}\nsample = {\n\"labelmap\": True  # wrong\n}\n</code></pre> <ul> <li>\u6570\u636e\u7c7b</li> </ul> <p>\u5728DSDL\u4e2d\uff0c\u4f1a\u5c06\u4f20\u5165\u7684\u6ee1\u8db3LabelMap Field\u89c4\u8303\u7684\u503c\u5b9e\u4f8b\u5316\u4e3a\u4e00\u4e2a<code>dsdl.geometry.LabelMap</code>\u5bf9\u8c61\uff0c\u76f8\u5e94\u7684\u793a\u4f8b\u4ee3\u7801\u4e3a\uff1a</p> <pre><code>from dsdl.fields import LabelMap, ClassDomain  # import LabelMap field\nfrom dsdl.objectio import LocalFileReader\n# \u5b9a\u4e49ClassDomain\nClassDomain(\nname=\"COCOClassDemoDom\",\nclasses=[\"person\", \"bicycle\", \"car\", \"motorcycle\", \"airplane\"],\n)\nfield = LabelMap(dom=\"COCOClassDemoDom\")  # declare the LabelMap field\nfile_reader = LocalFileReader(working_dir=\"the/dir/of/label/images\")\nfield.set_file_reader(file_reader)  # declare the file reader\ndata = \"1.jpg\"\nlabelmap_obj = field.validate(data)  # return a dsdl.geometry.LabelMap object\n</code></pre> <p>\u7531\u4e8e\u5728\u6807\u6ce8\u6587\u4ef6\u4e2d\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u53ea\u4f1a\u63d0\u4f9bImage\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u9700\u8981\u4e3aLabelMap Field\u5bf9\u8c61\u6307\u5b9a\u4e00\u4e2afile reader\u5bf9\u8c61\uff0c\u4ece\u800c\u544a\u8bc9dsdl\u4ece\u54ea\u91cc\u8bfb\u53d6\u8be5\u56fe\u7247</p> <p>DSDL\u4e3a\u7528\u6237\u9884\u8bbe\u4e00\u4e9b\u5e38\u7528\u65b9\u6cd5\u4e0e\u5c5e\u6027\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7528\u6237\u5bf9labelmap image\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\uff1a</p> <pre><code>labelmap_obj.to_image()  # \u5c06\u5206\u5272\u56fe\u50cf\u8f6c\u6362\u4e3aPIL.Image\u5bf9\u8c61\nlabelmap_obj.to_array()  # \u5c06\u5206\u5272\u56fe\u50cf\u8f6c\u6362\u4e3anumpy.ndarray\u5bf9\u8c61\n...\n</code></pre> <p>\u5176\u4ed6\u65b9\u6cd5\u4e0e\u5c5e\u6027\u53ef\u4ee5\u53c2\u8003DSDL API\u6587\u6863\u7684<code>dsdl.geometry.LabelMap</code>\u90e8\u5206\u3002</p>"},{"location":"api_reference/fields_overview/#3-instancemap","title":"3. InstanceMap","text":"<p>InstanceMap\u7c7b\u578bField\u7528\u6765\u8868\u793a\u5b9e\u4f8b\u5206\u5272\u56fe</p> <ul> <li>\u58f0\u660e\u53c2\u6570schema</li> </ul> <pre><code>args_schema = {\n\"type\": \"object\",\n\"minProperties\": 0,\n\"maxProperties\": 0,\n}\n</code></pre> <ul> <li>\u4f20\u5165\u6570\u636eschema</li> </ul> <pre><code>data_schema = {\n\"$id\": \"/unstructure/instancemap\",\n\"title\": \"InstanceMapField\",\n\"description\": \"InstanceMap field in dsdl.\",\n\"type\": \"string\",\n}\n</code></pre> <p>InstanceMap Field\u7684\u4f20\u5165\u6570\u636e\u53ea\u8981\u6c42\u662f\u5b57\u7b26\u4e32\u5373\u53ef\uff0c\u8be5\u5b57\u7b26\u4e32\u4e00\u822c\u662f\u56fe\u50cf\u7684\u76f8\u5bf9\u8def\u5f84</p> <ul> <li>\u5b9e\u4f8b</li> </ul> <pre><code># Struct \u5b9a\u4e49\nLocalObjectEntry:\n$def: struct\n$fields:\ninsmap: InstanceMap\n</code></pre> <pre><code># \u5177\u4f53\u6837\u672c\nsample = {\n\"insmap\": \"dsdl_instance.jpg\"  # correct\n}\nsample = {\n\"insmap\": 10.4  # wrong\n}\nsample = {\n\"insmap\": True  # wrong\n}\n</code></pre> <ul> <li>\u6570\u636e\u7c7b</li> </ul> <p>\u5728DSDL\u4e2d\uff0c\u4f1a\u5c06\u4f20\u5165\u7684\u6ee1\u8db3Image Field\u89c4\u8303\u7684\u503c\u5b9e\u4f8b\u5316\u4e3a\u4e00\u4e2a<code>dsdl.geometry.InstanceMap</code>\u5bf9\u8c61\uff0c\u76f8\u5e94\u7684\u793a\u4f8b\u4ee3\u7801\u4e3a\uff1a</p> <pre><code>from dsdl.fields import InstanceMap  # import InstanceMap field\nfrom dsdl.objectio import LocalFileReader\nfield = InstanceMap()  # declare the InstanceMap field\nfile_reader = LocalFileReader(working_dir=\"the/dir/of/instance_images\")\nfield.set_file_reader(file_reader)  # declare the file reader\ndata = \"1.jpg\"\nins_obj = field.validate(data)  # return a dsdl.geometry.Image object\n</code></pre> <p>\u7531\u4e8e\u5728\u6807\u6ce8\u6587\u4ef6\u4e2d\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u53ea\u4f1a\u63d0\u4f9bInstanceMap\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u9700\u8981\u4e3aInstanceMap Field\u5bf9\u8c61\u6307\u5b9a\u4e00\u4e2afile reader\u5bf9\u8c61\uff0c\u4ece\u800c\u544a\u8bc9dsdl\u4ece\u54ea\u91cc\u8bfb\u53d6\u8be5\u56fe\u7247</p> <p>DSDL\u4e3a\u7528\u6237\u9884\u8bbe\u4e00\u4e9b\u5e38\u7528\u65b9\u6cd5\u4e0e\u5c5e\u6027\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7528\u6237\u5bf9Instance \u56fe\u50cf\u8fdb\u884c\u64cd\u4f5c\uff1a</p> <pre><code>ins_obj.to_image()  # \u5c06\u5b9e\u4f8b\u56fe\u50cf\u8f6c\u6362\u4e3aPIL.Image\u5bf9\u8c61\nins_obj.to_array()  # \u5c06\u5b9e\u4f8b\u56fe\u50cf\u8f6c\u6362\u4e3anumpy.ndarray\u5bf9\u8c61\n...\n</code></pre> <p>\u5176\u4ed6\u65b9\u6cd5\u4e0e\u5c5e\u6027\u53ef\u4ee5\u53c2\u8003DSDL API\u6587\u6863\u7684<code>dsdl.geometry.InstanceMap</code> \u90e8\u5206\u3002</p>"},{"location":"api_reference/","title":"Index","text":"<p>\u5185\u5bb9\u5f85\u66f4\u65b0\u3002</p>"},{"location":"api_reference/dsdl_fields/generic/","title":"dsdl.types.generic","text":""},{"location":"api_reference/dsdl_fields/generic/#dsdl.fields.generic.Bool","title":"<code>Bool</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate and return a boolean value.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; bool_field = Bool()\n&gt;&gt;&gt; value = True\n&gt;&gt;&gt; bool_field.validate(value)\nTrue\n</code></pre> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/generic.py</code> <pre><code>class Bool(BaseField):\n\"\"\"A DSDL Field to validate and return a boolean value.\n    Examples:\n        &gt;&gt;&gt; bool_field = Bool()\n        &gt;&gt;&gt; value = True\n        &gt;&gt;&gt; bool_field.validate(value)\n        True\n    \"\"\"\ndata_schema = {\n\"$id\": \"/generic/boolean\",\n\"title\": \"BoolField\",\n\"description\": \"Bool field in dsdl.\",\n\"oneOf\": [\n{\"type\": \"boolean\"},\n{\"type\": \"number\", \"enum\": [0, 1]}\n]\n}\ngeometry_class = bool\n</code></pre>"},{"location":"api_reference/dsdl_fields/generic/#dsdl.fields.generic.Dict","title":"<code>Dict</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate and return a dict value.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; dic_field = Dict()\n&gt;&gt;&gt; value = {\"1\": \"a\"}\n&gt;&gt;&gt; dic_field.validate(value)\n{\"1\": \"a\"}\n</code></pre> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/generic.py</code> <pre><code>class Dict(BaseField):\n\"\"\"A DSDL Field to validate and return a dict value.\n    Examples:\n        &gt;&gt;&gt; dic_field = Dict()\n        &gt;&gt;&gt; value = {\"1\": \"a\"}\n        &gt;&gt;&gt; dic_field.validate(value)\n        {\"1\": \"a\"}\n    \"\"\"\ndata_schema = {\n\"$id\": \"/generic/dict\",\n\"title\": \"DictField\",\n\"description\": \"Dict field in dsdl.\",\n\"type\": \"object\",\n}\n</code></pre>"},{"location":"api_reference/dsdl_fields/generic/#dsdl.fields.generic.Int","title":"<code>Int</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate and return an int value.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; int_field = Int()\n&gt;&gt;&gt; value = 1.0\n&gt;&gt;&gt; int_field.validate(value)\n1\n</code></pre> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/generic.py</code> <pre><code>class Int(BaseField):\n\"\"\"A DSDL Field to validate and return an int value.\n    Examples:\n        &gt;&gt;&gt; int_field = Int()\n        &gt;&gt;&gt; value = 1.0\n        &gt;&gt;&gt; int_field.validate(value)\n        1\n    \"\"\"\ndata_schema = {\n\"$id\": \"/generic/int\",\n\"title\": \"IntField\",\n\"description\": \"Int field in dsdl.\",\n\"type\": \"integer\",\n}\n</code></pre>"},{"location":"api_reference/dsdl_fields/generic/#dsdl.fields.generic.Num","title":"<code>Num</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate and return a float value.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; float_field = Num()\n&gt;&gt;&gt; value = 1\n&gt;&gt;&gt; float_field.validate(value)\n1.0\n</code></pre> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/generic.py</code> <pre><code>class Num(BaseField):\n\"\"\"A DSDL Field to validate and return a float value.\n    Examples:\n        &gt;&gt;&gt; float_field = Num()\n        &gt;&gt;&gt; value = 1\n        &gt;&gt;&gt; float_field.validate(value)\n        1.0\n    \"\"\"\ndata_schema = {\n\"$id\": \"/generic/num\",\n\"title\": \"NumField\",\n\"description\": \"Num field in dsdl.\",\n\"type\": \"number\",\n}\n</code></pre>"},{"location":"api_reference/dsdl_fields/generic/#dsdl.fields.generic.Str","title":"<code>Str</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate and return a str value.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; str_field = Str()\n&gt;&gt;&gt; value = \"test\"\n&gt;&gt;&gt; str_field.validate(value)\n\"test\"\n</code></pre> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/generic.py</code> <pre><code>class Str(BaseField):\n\"\"\"A DSDL Field to validate and return a str value.\n    Examples:\n        &gt;&gt;&gt; str_field = Str()\n        &gt;&gt;&gt; value = \"test\"\n        &gt;&gt;&gt; str_field.validate(value)\n        \"test\"\n    \"\"\"\ndata_schema = {\n\"$id\": \"/generic/str\",\n\"title\": \"StrField\",\n\"description\": \"Str field in dsdl.\",\n\"type\": \"string\",\n}\n</code></pre>"},{"location":"api_reference/dsdl_fields/special/","title":"dsdl.types.special","text":""},{"location":"api_reference/dsdl_fields/special/#dsdl.fields.special.BBox","title":"<code>BBox</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate the given value and return a BBox object.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; bbox_field = BBox()\n&gt;&gt;&gt; value = [0, 10, 100, 100]  # [x, y, w, h]\n&gt;&gt;&gt; bbox_obj = bbox_field.validate(value)\n&gt;&gt;&gt; bbox_obj.__class__.__name__\n\"BBox\"\n</code></pre> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/special.py</code> <pre><code>class BBox(BaseField):\n\"\"\"\n    A DSDL Field to validate the given value and return a BBox object.\n    Examples:\n        &gt;&gt;&gt; bbox_field = BBox()\n        &gt;&gt;&gt; value = [0, 10, 100, 100]  # [x, y, w, h]\n        &gt;&gt;&gt; bbox_obj = bbox_field.validate(value)\n        &gt;&gt;&gt; bbox_obj.__class__.__name__\n        \"BBox\"\n    \"\"\"\ndefault_args = {\n\"mode\": \"xywh\"\n}\nargs_schema = {\n\"type\": \"object\",\n\"properties\": {\n\"mode\": {\"type\": \"string\", \"enum\": [\"xywh\", \"xyxy\"]}\n},\n\"minProperties\": 1,\n\"maxProperties\": 1,\n\"required\": [\"mode\"]\n}\ndata_schema = {\n\"$id\": \"/special/bbox\",\n\"title\": \"BBoxField\",\n\"description\": \"Bounding box field in dsdl.\",\n\"type\": \"array\",\n\"items\": {\"type\": \"number\"},\n\"minItems\": 4,\n\"maxItems\": 4,\n}\nwhole_schema = {\n\"type\": \"object\",\n\"oneOf\": [\n{\n\"properties\": {\n\"args\": {\n\"type\": \"object\",\n\"properties\": {\n\"mode\": {\"type\": \"string\", \"enum\": [\"xywh\"]}\n},\n\"minProperties\": 1,\n\"maxProperties\": 1,\n\"required\": [\"mode\"]\n},\n\"value\": {\n\"type\": \"array\",\n\"minItems\": 4,\n\"maxItems\": 4,\n\"items\": [{\"type\": \"number\"}, {\"type\": \"number\"}, {\"type\": \"number\", \"minimum\": 0},\n{\"type\": \"number\", \"minimum\": 0}]\n}\n}\n},\n{\n\"properties\": {\n\"args\": {\"type\": \"object\",\n\"properties\": {\n\"mode\": {\"type\": \"string\", \"enum\": [\"xyxy\"]}\n},\n\"minProperties\": 1,\n\"maxProperties\": 1,\n\"required\": [\"mode\"]},\n\"value\": {\"type\": \"array\", \"minItems\": 4, \"maxItems\": 4, \"items\": {\"type\": \"number\"}}\n}\n}\n],\n\"required\": [\"args\", \"value\"]\n}\ngeometry_class = \"BBox\"\n</code></pre>"},{"location":"api_reference/dsdl_fields/special/#dsdl.fields.special.Coord","title":"<code>Coord</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate and return a 2D coordinate object.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; coord_field = Coord()\n&gt;&gt;&gt; value = [10, 10]\n&gt;&gt;&gt; coord_field.validate(value)\n[10.0, 10.0]\n</code></pre> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/special.py</code> <pre><code>class Coord(BaseField):\n\"\"\"A DSDL Field to validate and return a 2D coordinate object.\n    Examples:\n        &gt;&gt;&gt; coord_field = Coord()\n        &gt;&gt;&gt; value = [10, 10]\n        &gt;&gt;&gt; coord_field.validate(value)\n        [10.0, 10.0]\n    \"\"\"\ndata_schema = {\n\"$id\": \"/special/coord\",\n\"title\": \"CoordField\",\n\"description\": \"Coord 2D field in dsdl.\",\n\"type\": \"array\",\n\"items\": {\n\"type\": \"number\",\n},\n\"minItems\": 2,\n\"maxItems\": 2\n}\n</code></pre>"},{"location":"api_reference/dsdl_fields/special/#dsdl.fields.special.Coord3D","title":"<code>Coord3D</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate and return a 3D coordinate object.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; coord3d_field = Coord3D()\n&gt;&gt;&gt; value = [10, 10, 10]\n&gt;&gt;&gt; coord3d_field.validate(value)\n[10.0, 10.0, 10.0]\n</code></pre> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/special.py</code> <pre><code>class Coord3D(BaseField):\n\"\"\"\n    A DSDL Field to validate and return a 3D coordinate object.\n    Examples:\n        &gt;&gt;&gt; coord3d_field = Coord3D()\n        &gt;&gt;&gt; value = [10, 10, 10]\n        &gt;&gt;&gt; coord3d_field.validate(value)\n        [10.0, 10.0, 10.0]\n    \"\"\"\ndata_schema = {\n\"$id\": \"/special/coord3d\",\n\"title\": \"Coord3DField\",\n\"description\": \"Coord 3D field in dsdl.\",\n\"type\": \"array\",\n\"items\": {\n\"type\": \"number\",\n},\n\"minItems\": 3,\n\"maxItems\": 3\n}\n</code></pre>"},{"location":"api_reference/dsdl_fields/special/#dsdl.fields.special.Date","title":"<code>Date</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate the given value and return a datetime object.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; date_field = Date(fmt=\"%Y-%m-%d\")\n&gt;&gt;&gt; value = \"2020-06-06\"\n&gt;&gt;&gt; date_obj = date_field.validate(value)\n&gt;&gt;&gt; date_obj.__class__.__name__\n\"datetime\"\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>fmt</code> <p>The datetime format of the given value.</p> required <p>Attributes:</p> Name Type Description <code>fmt(str)</code> <p>The datetime format of the given value.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/special.py</code> <pre><code>class Date(BaseField):\n\"\"\"A DSDL Field to validate the given value and return a datetime object.\n    Examples:\n        &gt;&gt;&gt; date_field = Date(fmt=\"%Y-%m-%d\")\n        &gt;&gt;&gt; value = \"2020-06-06\"\n        &gt;&gt;&gt; date_obj = date_field.validate(value)\n        &gt;&gt;&gt; date_obj.__class__.__name__\n        \"datetime\"\n    Args:\n        fmt: The datetime format of the given value.\n    Attributes:\n        fmt(str): The datetime format of the given value.\n    \"\"\"\ndata_schema = {\n\"$id\": \"/special/date\",\n\"title\": \"DateField\",\n\"description\": \"Date field in dsdl.\",\n\"type\": \"string\",\n\"format\": \"date\"\n}\ngeometry_class = date.fromisoformat\n</code></pre>"},{"location":"api_reference/dsdl_fields/special/#dsdl.fields.special.ImageShape","title":"<code>ImageShape</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate the given value and return an ImageShape object.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; shape_field = ImageShape()\n&gt;&gt;&gt; value = [360, 540]\n&gt;&gt;&gt; shape_obj = shape_field.validate(value)\n&gt;&gt;&gt; shape_obj.__class__.__name__\n\"ImageShape\"\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>mode</code> <p>The format in which the value to be validated is given. Only <code>\"wh\"</code> and <code>\"hw\"</code> are permitted,   which respectly means the value is given by [width, height] and [height, width].</p> required <p>Attributes:</p> Name Type Description <code>mode(str)</code> <p>The format in which the value to be validated is given. Only <code>\"wh\"</code> and <code>\"hw\"</code> are permitted,   which respectly means the value is given by [width, height] and [height, width].</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/special.py</code> <pre><code>class ImageShape(BaseField):\n\"\"\"A DSDL Field to validate the given value and return an ImageShape object.\n    Examples:\n        &gt;&gt;&gt; shape_field = ImageShape()\n        &gt;&gt;&gt; value = [360, 540]\n        &gt;&gt;&gt; shape_obj = shape_field.validate(value)\n        &gt;&gt;&gt; shape_obj.__class__.__name__\n        \"ImageShape\"\n    Args:\n        mode: The format in which the value to be validated is given. Only `\"wh\"` and `\"hw\"` are permitted,\n              which respectly means the value is given by [width, height] and [height, width].\n    Attributes:\n        mode(str): The format in which the value to be validated is given. Only `\"wh\"` and `\"hw\"` are permitted,\n              which respectly means the value is given by [width, height] and [height, width].\n    \"\"\"\ndefault_args = {\"mode\": \"hw\"}\ndata_schema = {\n\"$id\": \"/special/imageshape\",\n\"title\": \"ImageShapeField\",\n\"description\": \"ImageShape field in dsdl.\",\n\"type\": \"array\",\n\"items\": {\"type\": \"integer\", \"minimum\": 0},\n\"minItems\": 2,\n\"maxItems\": 2,\n}\nargs_schema = {\n\"type\": \"object\",\n\"properties\": {\n\"mode\": {\n\"type\": \"string\",\n\"enum\": [\"hw\", \"wh\"]\n}\n},\n\"minProperties\": 1,\n\"maxProperties\": 1,\n\"required\": [\"mode\"]\n}\ngeometry_class = \"ImageShape\"\n</code></pre>"},{"location":"api_reference/dsdl_fields/special/#dsdl.fields.special.InstanceID","title":"<code>InstanceID</code>","text":"<p>         Bases: <code>UniqueID</code></p> <p>A DSDL Field to validate the given value and return a UniqueID object to represent an instance id.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; ins_field = InstanceID()\n&gt;&gt;&gt; value = \"instance_100\"\n&gt;&gt;&gt; ins_obj = ins_field.validate(value)\n&gt;&gt;&gt; ins_obj.__class__.__name__\n\"UniqueID\"\n</code></pre> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/special.py</code> <pre><code>class InstanceID(UniqueID):\n\"\"\"A DSDL Field to validate the given value and return a UniqueID object to represent an instance id.\n    Examples:\n        &gt;&gt;&gt; ins_field = InstanceID()\n        &gt;&gt;&gt; value = \"instance_100\"\n        &gt;&gt;&gt; ins_obj = ins_field.validate(value)\n        &gt;&gt;&gt; ins_obj.__class__.__name__\n        \"UniqueID\"\n    \"\"\"\ndefault_args = {\"id_type\": \"InstanceID\"}\ndata_schema = {\n\"$id\": \"/special/instanceid\",\n\"title\": \"InstanceIDField\",\n\"description\": \"InstanceID field in dsdl.\",\n\"type\": \"string\"\n}\n</code></pre>"},{"location":"api_reference/dsdl_fields/special/#dsdl.fields.special.Interval","title":"<code>Interval</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate and return an interval object.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; interval_field = Interval()\n&gt;&gt;&gt; value = [0, 10]\n&gt;&gt;&gt; interval_field.validate(value)\n[0.0, 10.0]\n</code></pre> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/special.py</code> <pre><code>class Interval(BaseField):\n\"\"\"\n    A DSDL Field to validate and return an interval object.\n    Examples:\n        &gt;&gt;&gt; interval_field = Interval()\n        &gt;&gt;&gt; value = [0, 10]\n        &gt;&gt;&gt; interval_field.validate(value)\n        [0.0, 10.0]\n    \"\"\"\ndata_schema = {  # \u65e0\u6cd5\u5b9a\u4e49\u987a\u5e8f\n\"$id\": \"/special/interval\",\n\"title\": \"IntervalField\",\n\"description\": \"Interval field in dsdl.\",\n\"type\": \"array\",\n\"items\": {\n\"type\": \"number\",\n},\n\"minItems\": 2,\n\"maxItems\": 2,\n}\ndef additional_validate(self, value):\nassert value[0] &lt;= value[1]\nreturn value\n</code></pre>"},{"location":"api_reference/dsdl_fields/special/#dsdl.fields.special.Keypoint","title":"<code>Keypoint</code>","text":"<p>         Bases: <code>BaseFieldWithDomain</code></p> <p>A DSDL Field to validate the given value and return a Keypoints object.</p> <p>Parameters:</p> Name Type Description Default <code>dom</code> <p>The class domain which the current keypoints object belongs to.</p> required <p>Attributes:</p> Name Type Description <code>dom(ClassDomain)</code> <p>The class domain which the current keypoints object belongs to.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/special.py</code> <pre><code>class Keypoint(BaseFieldWithDomain):\n\"\"\"A DSDL Field to validate the given value and return a Keypoints object.\n    Args:\n        dom: The class domain which the current keypoints object belongs to.\n    Attributes:\n        dom(ClassDomain): The class domain which the current keypoints object belongs to.\n    \"\"\"\ndata_schema = {\n\"$id\": \"/special/keypoint\",\n\"title\": \"KeypointField\",\n\"description\": \"Keypoint Field in dsdl.\",\n\"type\": \"array\",\n\"items\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"number\"\n},\n\"minItems\": 3,\n\"maxItems\": 3,\n}\n}\ngeometry_class = \"KeyPoints\"\ndef additional_validate(self, value):\ndom = self.actural_dom\nif isinstance(self.actural_dom, list):\nassert len(self.actural_dom) == 1, \"You can only assign one class dom in KeypointField.\"\ndom = self.actural_dom[0]\nassert len(dom) == len(value), \\\n            \"The number of points should be equal to the labels in class domain.\"\nassert dom.get_attribute(\"skeleton\") is not None, \\\n            f\"You should assign skeletons for class domain {dom.__name__}.\"\nreturn value\n</code></pre>"},{"location":"api_reference/dsdl_fields/special/#dsdl.fields.special.Label","title":"<code>Label</code>","text":"<p>         Bases: <code>BaseFieldWithDomain</code></p> <p>A DSDL Field to validate the given value and return a Label object.</p> <p>Parameters:</p> Name Type Description Default <code>dom</code> <p>The class domain which the current keypoints object belongs to.</p> required <p>Attributes:</p> Name Type Description <code>dom(ClassDomain)</code> <p>The class domain which the current keypoints object belongs to.</p> <code>dom_dic(Dict[str,</code> <code>ClassDomain]</code> <p>The class domain which the current keypoints object belongs to. The format is <code>{&lt;domain name&gt;: class_domain}</code></p> <code>dom_lst(List[ClassDomain])</code> <code>ClassDomain]</code> <p>The class domain which the current keypoints object belongs to. The format is <code>[class_domain1, class_domain2, ...]</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/special.py</code> <pre><code>class Label(BaseFieldWithDomain):\n\"\"\"A DSDL Field to validate the given value and return a Label object.\n    Args:\n        dom: The class domain which the current keypoints object belongs to.\n    Attributes:\n        dom(ClassDomain): The class domain which the current keypoints object belongs to.\n        dom_dic(Dict[str, ClassDomain]): The class domain which the current keypoints object belongs to. The format is `{&lt;domain name&gt;: class_domain}`\n        dom_lst(List[ClassDomain]): The class domain which the current keypoints object belongs to. The format is `[class_domain1, class_domain2, ...]`\n    \"\"\"\ndata_schema = {\n\"$id\": \"/special/label\",\n\"title\": \"LabelField\",\n\"description\": \"Label field in dsdl.\",\n\"type\": [\"string\", \"integer\"]\n}\ndef load_value(self, value):\nassert self.actural_dom is not None, \"You should set namespace before validating.\"\nif (isinstance(value, int) or (isinstance(value, str) and \"::\" not in value)):\nassert not isinstance(self.actural_dom, list) or \\\n                   (isinstance(self.actural_dom, list) and len(self.actural_dom) == 1), \\\n                \"LabelField Error: there are more than 1 domains in the struct, \" \\\n                \"you need to specify the label's class domain explicitly.\"\ndomain = self.actural_dom[0] if isinstance(self.actural_dom, list) else self.actural_dom\nlabel_name = value\nreturn domain.get_label(label_name)\nif isinstance(value, str) and \"::\" in value:\nlabel_registry_name = value.replace(\"::\", \"__\")\nassert label_registry_name in LABEL, f\"Label '{label_registry_name}' is not valid.\"\nreturn LABEL.get(label_registry_name)\n</code></pre>"},{"location":"api_reference/dsdl_fields/special/#dsdl.fields.special.Polygon","title":"<code>Polygon</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate the given value and return a polygon object.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; polygon_field = Polygon()\n&gt;&gt;&gt; value = [[[0, 0], [0, 100], [100, 100], [100, 0]], [[0, 0], [0, 50], [50, 50], [50, 0]]]\n&gt;&gt;&gt; polygon_obj = polygon_field.validate(value)\n&gt;&gt;&gt; polygon_obj.__class__.__name__\n\"Polygon\"\n</code></pre> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/special.py</code> <pre><code>class Polygon(BaseField):\n\"\"\"\n    A DSDL Field to validate the given value and return a polygon object.\n    Examples:\n        &gt;&gt;&gt; polygon_field = Polygon()\n        &gt;&gt;&gt; value = [[[0, 0], [0, 100], [100, 100], [100, 0]], [[0, 0], [0, 50], [50, 50], [50, 0]]]\n        &gt;&gt;&gt; polygon_obj = polygon_field.validate(value)\n        &gt;&gt;&gt; polygon_obj.__class__.__name__\n        \"Polygon\"\n    \"\"\"\ndata_schema = {\n\"$id\": \"/special/polygon\",\n\"title\": \"PolygonField\",\n\"description\": \"Polygon field in dsdl.\",\n\"type\": \"array\",\n\"items\": {\n\"type\": \"array\",\n\"items\": {\n\"type\": \"array\",\n\"items\": {\"type\": \"number\"},\n\"minItems\": 2,\n\"maxItems\": 2,\n}\n}\n}\ngeometry_class = \"Polygon\"\n</code></pre>"},{"location":"api_reference/dsdl_fields/special/#dsdl.fields.special.RotatedBBox","title":"<code>RotatedBBox</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate the given value and return a RBBox object.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; rotatedbbox_field = RotatedBBox(measure=\"degree\")\n&gt;&gt;&gt; value = [1, 10, 100, 100, 180]\n&gt;&gt;&gt; rotatedbbox_obj = rotatedbbox_field.validate(value)\n&gt;&gt;&gt; rotatedbbox_obj.__class__.__name__\n\"RBBox\"\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>mode</code> <p>The format in which the value to be validated is given. Only <code>\"xywht\"</code> and <code>\"xyxy\"</code> are permitted,   which respectly means the value is given by [x, y, w, h, theta] and [x1, y1, x2, y2, x3, y3, x4, y4].</p> required <code>measure</code> <p>The uint in which the angle value is given. Only <code>\"radian\"</code> and <code>\"degree\"</code> are permitted.      This parameter takes effect only when <code>mode==\"xywht\"</code>.</p> required <p>Attributes:</p> Name Type Description <code>mode</code> <p>The format in which the value to be validated is given. Only <code>\"xywht\"</code> and <code>\"xyxy\"</code> are permitted,   which respectly means the value is given by [x, y, w, h, theta] and [x1, y1, x2, y2, x3, y3, x4, y4].</p> <code>measure</code> <p>The uint in which the angle value is given. Only <code>\"radian\"</code> and <code>\"degree\"</code> are permitted.      This parameter takes effect only when <code>mode==\"xywht\"</code>.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/special.py</code> <pre><code>class RotatedBBox(BaseField):\n\"\"\"A DSDL Field to validate the given value and return a RBBox object.\n    Examples:\n        &gt;&gt;&gt; rotatedbbox_field = RotatedBBox(measure=\"degree\")\n        &gt;&gt;&gt; value = [1, 10, 100, 100, 180]\n        &gt;&gt;&gt; rotatedbbox_obj = rotatedbbox_field.validate(value)\n        &gt;&gt;&gt; rotatedbbox_obj.__class__.__name__\n        \"RBBox\"\n    Args:\n        mode: The format in which the value to be validated is given. Only `\"xywht\"` and `\"xyxy\"` are permitted,\n              which respectly means the value is given by [x, y, w, h, theta] and [x1, y1, x2, y2, x3, y3, x4, y4].\n        measure: The uint in which the angle value is given. Only `\"radian\"` and `\"degree\"` are permitted.\n                 This parameter takes effect only when `mode==\"xywht\"`.\n    Attributes:\n        mode: The format in which the value to be validated is given. Only `\"xywht\"` and `\"xyxy\"` are permitted,\n              which respectly means the value is given by [x, y, w, h, theta] and [x1, y1, x2, y2, x3, y3, x4, y4].\n        measure: The uint in which the angle value is given. Only `\"radian\"` and `\"degree\"` are permitted.\n                 This parameter takes effect only when `mode==\"xywht\"`.\n    \"\"\"\ndefault_args = {\n\"mode\": \"xywht\",\n\"measure\": \"radian\"\n}\ndata_schema = {\n\"$id\": \"/special/rotatedbbox\",\n\"title\": \"RotatedBBoxField\",\n\"description\": \"Rotated bounding box field in dsdl.\",\n\"type\": \"array\",\n\"oneOf\": [\n{\"minItems\": 5, \"maxItems\": 5,\n\"items\": [{\"type\": \"number\"}, {\"type\": \"number\"}, {\"type\": \"number\", \"minimum\": 0},\n{\"type\": \"number\", \"minimum\": 0}, {\"type\": \"number\"}]},\n{\"minItems\": 8, \"maxItems\": 8, \"items\": {\"type\": \"number\"}}\n]\n}\nargs_schema = {\n\"type\": \"object\",\n\"properties\": {\n\"measure\": {\"type\": \"string\", \"enum\": [\"radian\", \"degree\"]},\n\"mode\": {\"type\": \"string\", \"enum\": [\"xywht\", \"xyxy\"]}\n},\n\"minProperties\": 2,\n\"maxProperties\": 2,\n\"required\": [\"measure\", \"mode\"]\n}\nwhole_schema = {\n\"type\": \"object\",\n\"oneOf\": [\n{\n\"properties\": {\n\"args\": {\n\"type\": \"object\",\n\"properties\": {\n\"measure\": {\"type\": \"string\", \"enum\": [\"radian\", \"degree\"]},\n\"mode\": {\"type\": \"string\", \"enum\": [\"xywht\"]}\n},\n\"minProperties\": 2,\n\"maxProperties\": 2,\n\"required\": [\"measure\", \"mode\"]\n},\n\"value\": {\n\"type\": \"array\",\n\"minItems\": 5,\n\"maxItems\": 5,\n\"items\": [{\"type\": \"number\"}, {\"type\": \"number\"}, {\"type\": \"number\", \"minimum\": 0},\n{\"type\": \"number\", \"minimum\": 0}, {\"type\": \"number\"}]\n}\n}\n},\n{\n\"properties\": {\n\"args\": {\"type\": \"object\",\n\"properties\": {\n\"measure\": {\"type\": \"string\", \"enum\": [\"radian\", \"degree\"]},\n\"mode\": {\"type\": \"string\", \"enum\": [\"xyxy\"]}\n},\n\"minProperties\": 2,\n\"maxProperties\": 2,\n\"required\": [\"measure\", \"mode\"]},\n\"value\": {\"type\": \"array\", \"minItems\": 8, \"maxItems\": 8, \"items\": {\"type\": \"number\"}}\n}\n}\n],\n\"required\": [\"args\", \"value\"]\n}\ngeometry_class = \"RBBox\"\n</code></pre>"},{"location":"api_reference/dsdl_fields/special/#dsdl.fields.special.Text","title":"<code>Text</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate the given value and return a Text object.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; txt_field = Text()\n&gt;&gt;&gt; value = \"some text annotation\"\n&gt;&gt;&gt; txt_obj = txt_field.validate(value)\n&gt;&gt;&gt; txt_obj.__class__.__name__\n\"Text\"\n</code></pre> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/special.py</code> <pre><code>class Text(BaseField):\n\"\"\"A DSDL Field to validate the given value and return a Text object.\n    Examples:\n        &gt;&gt;&gt; txt_field = Text()\n        &gt;&gt;&gt; value = \"some text annotation\"\n        &gt;&gt;&gt; txt_obj = txt_field.validate(value)\n        &gt;&gt;&gt; txt_obj.__class__.__name__\n        \"Text\"\n    \"\"\"\ndata_schema = {\n\"$id\": \"/special/text\",\n\"title\": \"TextField\",\n\"description\": \"Text field in dsdl.\",\n\"type\": \"string\"\n}\ngeometry_class = \"Text\"\n</code></pre>"},{"location":"api_reference/dsdl_fields/special/#dsdl.fields.special.Time","title":"<code>Time</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate the given value and return a time object.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; time_field = Time(fmt=\"%Y-%m-%d %H:%M:%S\")\n&gt;&gt;&gt; value = \"2020-06-06 23:03:15\"\n&gt;&gt;&gt; time_obj = time_field.validate(value)\n&gt;&gt;&gt; time_obj.__class__.__name__\n\"time\"\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>fmt</code> <p>The time format of the given value.</p> required <p>Attributes:</p> Name Type Description <code>fmt(str)</code> <p>The time format of the given value.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/special.py</code> <pre><code>class Time(BaseField):\n\"\"\"A DSDL Field to validate the given value and return a time object.\n    Examples:\n        &gt;&gt;&gt; time_field = Time(fmt=\"%Y-%m-%d %H:%M:%S\")\n        &gt;&gt;&gt; value = \"2020-06-06 23:03:15\"\n        &gt;&gt;&gt; time_obj = time_field.validate(value)\n        &gt;&gt;&gt; time_obj.__class__.__name__\n        \"time\"\n    Args:\n        fmt: The time format of the given value.\n    Attributes:\n        fmt(str): The time format of the given value.\n    \"\"\"\ndata_schema = {\n\"$id\": \"/special/time\",\n\"title\": \"TimeField\",\n\"description\": \"Time field in dsdl.\",\n\"type\": \"string\",\n\"format\": \"time\"\n}\ngeometry_class = time.fromisoformat\n</code></pre>"},{"location":"api_reference/dsdl_fields/special/#dsdl.fields.special.UniqueID","title":"<code>UniqueID</code>","text":"<p>         Bases: <code>BaseField</code></p> <p>A DSDL Field to validate the given value and return an UniqueID object.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; id_field = UniqueID(id_type=\"image_id\")\n&gt;&gt;&gt; value = \"00000001\"\n&gt;&gt;&gt; id_obj = id_field.validate(value)\n&gt;&gt;&gt; id_obj.__class__.__name__\n\"UniqueID\"\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>id_type</code> <p>What the current unique id describes.</p> required <p>Attributes:</p> Name Type Description <code>id_type(str)</code> <p>What the current unique id describes.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/fields/special.py</code> <pre><code>class UniqueID(BaseField):\n\"\"\"A DSDL Field to validate the given value and return an UniqueID object.\n    Examples:\n        &gt;&gt;&gt; id_field = UniqueID(id_type=\"image_id\")\n        &gt;&gt;&gt; value = \"00000001\"\n        &gt;&gt;&gt; id_obj = id_field.validate(value)\n        &gt;&gt;&gt; id_obj.__class__.__name__\n        \"UniqueID\"\n    Args:\n        id_type: What the current unique id describes.\n    Attributes:\n        id_type(str): What the current unique id describes.\n    \"\"\"\ndefault_args = {\"id_type\": None}\ndata_schema = {\n\"$id\": \"/special/uniqueid\",\n\"title\": \"UniqueIDField\",\n\"description\": \"UniqueID field in dsdl.\",\n\"type\": \"string\"\n}\nargs_schema = {\n\"type\": \"object\",\n\"properties\": {\n\"id_type\": {\"type\": [\"string\", \"null\"]}\n},\n\"minProperties\": 1,\n\"maxProperties\": 1,\n\"required\": [\"id_type\"]\n}\ngeometry_class = \"UniqueID\"\n</code></pre>"},{"location":"api_reference/dsdl_geometry/box/","title":"dsdl.geometry.box","text":""},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox","title":"<code>BBox</code>","text":"<p>         Bases: <code>BaseGeometry</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/box.py</code> <pre><code>class BBox(BaseGeometry):\ndef __init__(self, data: List[_ELE_TYPE], mode):\n\"\"\"A Geometry class which abstracts a 2D bounding box object.\n        Args:\n            x: The bounding box's top left point horizontal axis.\n            y: The bounding box's top left point vertical axis.\n            width: The bounding box's width.\n            height: The bounding box's height.\n        Attributes:\n            _data(list[float]): A list which contains the bounding box's top left point horizontal axis, top left point vertical axis, width and height.\n        \"\"\"\nassert mode in (\"xyxy\", \"xywh\")\nif mode == \"xyxy\":\ndata = [data[0], data[1], data[2] - data[0], data[3] - data[1]]\nself._data = data\n@property\ndef x(self) -&gt; _ELE_TYPE:\n\"\"\"\n        Returns:\n            The bounding box's top left point horizontal axis.\n        \"\"\"\nreturn self._data[0]\n@property\ndef y(self) -&gt; _ELE_TYPE:\n\"\"\"\n        Returns:\n            The bounding box's top left point vertical axis.\n        \"\"\"\nreturn self._data[1]\n@property\ndef width(self) -&gt; _ELE_TYPE:\n\"\"\"\n        Returns:\n            The bounding box's width.\n        \"\"\"\nreturn self._data[2]\n@property\ndef height(self) -&gt; _ELE_TYPE:\n\"\"\"\n        Returns:\n            The bounding box's height.\n        \"\"\"\nreturn self._data[3]\n@property\ndef xmin(self) -&gt; _ELE_TYPE:\n\"\"\"\n        Returns:\n            The bounding box's top left point horizontal axis.\n        \"\"\"\nreturn self._data[0]\n@property\ndef ymin(self) -&gt; _ELE_TYPE:\n\"\"\"\n        Returns:\n            The bounding box's top left point vertical axis.\n        \"\"\"\nreturn self._data[1]\n@property\ndef xmax(self) -&gt; _ELE_TYPE:\n\"\"\"\n        Returns:\n            The bounding box's bottom right point horizontal axis.\n        \"\"\"\nreturn self._data[0] + self._data[2]\n@property\ndef ymax(self) -&gt; _ELE_TYPE:\n\"\"\"\n        Returns:\n            The bounding box's bottom right point vertical axis.\n        \"\"\"\nreturn self._data[1] + self._data[3]\n@property\ndef area(self) -&gt; _ELE_TYPE:\n\"\"\"\n        Returns:\n            The bounding box's area.\n        \"\"\"\nreturn self.width * self.height\n@property\ndef xyxy(self) -&gt; List[_ELE_TYPE]:\n\"\"\"\n        Returns:\n            The bounding box's [xmin ymin xmax ymax] format.\n        \"\"\"\nreturn [self.xmin, self.ymin, self.xmax, self.ymax]\n@property\ndef xywh(self) -&gt; List[_ELE_TYPE]:\n\"\"\"\n        Returns:\n            The bounding box's [x y w h] format.\n        \"\"\"\nreturn [self.xmin, self.ymin, self.width, self.height]\n@property\ndef openmmlabformat(self) -&gt; List[_ELE_TYPE]:\n\"\"\"\n        Returns:\n            The bounding box's [xmin ymin xmax ymax] format, which is used in openmmlab project.\n        \"\"\"\nreturn [self.xmin, self.ymin, self.xmax, self.ymax]\ndef to_int(self):\n\"\"\"Convert the value in `self._data` to `int` type.\n        \"\"\"\nself._data = [int(_) for _ in self._data]\ndef to_float(self):\n\"\"\"Convert the value in `self._data` to `float` type.\n        \"\"\"\nself._data = [float(_) for _ in self._data]\ndef visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current bounding box on an given image.\n        Args:\n            image: The image where the bounding box to be drawn.\n            palette: The palette which stores the color of different category name.\n            **kwargs: Other annotations which may be used when drawing the current bounding box, such as `Label` annotation.\n        Returns:\n            The image where the current bounding box has been drawn on.\n        \"\"\"\ndraw_obj = ImageDraw.Draw(image)\ncolor = (0, 255, 0)\nif \"label\" in kwargs:\nfor label in kwargs[\"label\"].values():\nif label.category_name not in palette:\npalette[label.category_name] = tuple(np.random.randint(0, 255, size=[3]))\ncolor = palette[label.category_name]\ndraw_obj.rectangle(self.xyxy, outline=(*color, 255), width=2)\ndel draw_obj\nreturn image\ndef __repr__(self):\nreturn str(self.xyxy)\n</code></pre>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.area","title":"<code>area: _ELE_TYPE</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>_ELE_TYPE</code> <p>The bounding box's area.</p>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.height","title":"<code>height: _ELE_TYPE</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>_ELE_TYPE</code> <p>The bounding box's height.</p>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.openmmlabformat","title":"<code>openmmlabformat: List[_ELE_TYPE]</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>List[_ELE_TYPE]</code> <p>The bounding box's [xmin ymin xmax ymax] format, which is used in openmmlab project.</p>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.width","title":"<code>width: _ELE_TYPE</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>_ELE_TYPE</code> <p>The bounding box's width.</p>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.x","title":"<code>x: _ELE_TYPE</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>_ELE_TYPE</code> <p>The bounding box's top left point horizontal axis.</p>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.xmax","title":"<code>xmax: _ELE_TYPE</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>_ELE_TYPE</code> <p>The bounding box's bottom right point horizontal axis.</p>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.xmin","title":"<code>xmin: _ELE_TYPE</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>_ELE_TYPE</code> <p>The bounding box's top left point horizontal axis.</p>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.xywh","title":"<code>xywh: List[_ELE_TYPE]</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>List[_ELE_TYPE]</code> <p>The bounding box's [x y w h] format.</p>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.xyxy","title":"<code>xyxy: List[_ELE_TYPE]</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>List[_ELE_TYPE]</code> <p>The bounding box's [xmin ymin xmax ymax] format.</p>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.y","title":"<code>y: _ELE_TYPE</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>_ELE_TYPE</code> <p>The bounding box's top left point vertical axis.</p>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.ymax","title":"<code>ymax: _ELE_TYPE</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>_ELE_TYPE</code> <p>The bounding box's bottom right point vertical axis.</p>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.ymin","title":"<code>ymin: _ELE_TYPE</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>_ELE_TYPE</code> <p>The bounding box's top left point vertical axis.</p>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.__init__","title":"<code>__init__(data, mode)</code>","text":"<p>A Geometry class which abstracts a 2D bounding box object.</p> <p>Parameters:</p> Name Type Description Default <code>x</code> <p>The bounding box's top left point horizontal axis.</p> required <code>y</code> <p>The bounding box's top left point vertical axis.</p> required <code>width</code> <p>The bounding box's width.</p> required <code>height</code> <p>The bounding box's height.</p> required <p>Attributes:</p> Name Type Description <code>_data(list[float])</code> <p>A list which contains the bounding box's top left point horizontal axis, top left point vertical axis, width and height.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/box.py</code> <pre><code>def __init__(self, data: List[_ELE_TYPE], mode):\n\"\"\"A Geometry class which abstracts a 2D bounding box object.\n    Args:\n        x: The bounding box's top left point horizontal axis.\n        y: The bounding box's top left point vertical axis.\n        width: The bounding box's width.\n        height: The bounding box's height.\n    Attributes:\n        _data(list[float]): A list which contains the bounding box's top left point horizontal axis, top left point vertical axis, width and height.\n    \"\"\"\nassert mode in (\"xyxy\", \"xywh\")\nif mode == \"xyxy\":\ndata = [data[0], data[1], data[2] - data[0], data[3] - data[1]]\nself._data = data\n</code></pre>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.to_float","title":"<code>to_float()</code>","text":"<p>Convert the value in <code>self._data</code> to <code>float</code> type.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/box.py</code> <pre><code>def to_float(self):\n\"\"\"Convert the value in `self._data` to `float` type.\n    \"\"\"\nself._data = [float(_) for _ in self._data]\n</code></pre>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.to_int","title":"<code>to_int()</code>","text":"<p>Convert the value in <code>self._data</code> to <code>int</code> type.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/box.py</code> <pre><code>def to_int(self):\n\"\"\"Convert the value in `self._data` to `int` type.\n    \"\"\"\nself._data = [int(_) for _ in self._data]\n</code></pre>"},{"location":"api_reference/dsdl_geometry/box/#dsdl.geometry.box.BBox.visualize","title":"<code>visualize(image, palette, **kwargs)</code>","text":"<p>Draw the current bounding box on an given image.</p> <p>Parameters:</p> Name Type Description Default <code>image</code> <p>The image where the bounding box to be drawn.</p> required <code>palette</code> <p>The palette which stores the color of different category name.</p> required <code>**kwargs</code> <p>Other annotations which may be used when drawing the current bounding box, such as <code>Label</code> annotation.</p> <code>{}</code> <p>Returns:</p> Type Description <p>The image where the current bounding box has been drawn on.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/box.py</code> <pre><code>def visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current bounding box on an given image.\n    Args:\n        image: The image where the bounding box to be drawn.\n        palette: The palette which stores the color of different category name.\n        **kwargs: Other annotations which may be used when drawing the current bounding box, such as `Label` annotation.\n    Returns:\n        The image where the current bounding box has been drawn on.\n    \"\"\"\ndraw_obj = ImageDraw.Draw(image)\ncolor = (0, 255, 0)\nif \"label\" in kwargs:\nfor label in kwargs[\"label\"].values():\nif label.category_name not in palette:\npalette[label.category_name] = tuple(np.random.randint(0, 255, size=[3]))\ncolor = palette[label.category_name]\ndraw_obj.rectangle(self.xyxy, outline=(*color, 255), width=2)\ndel draw_obj\nreturn image\n</code></pre>"},{"location":"api_reference/dsdl_geometry/insmap/","title":"dsdl.geometry.insmap","text":""},{"location":"api_reference/dsdl_geometry/insmap/#dsdl.geometry.insmap.InstanceMap","title":"<code>InstanceMap</code>","text":"<p>         Bases: <code>Image</code></p> <p>A Geometry class for instance segmentation map</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/insmap.py</code> <pre><code>class InstanceMap(Image):\n\"\"\"\n    A Geometry class for instance segmentation map\n    \"\"\"\ndef visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current instance map on an given image.\n        Args:\n            image: The image where the instance map to be drawn.\n            palette: The palette which stores the color of different category name.\n            **kwargs: Other annotations which may be used when drawing the current instance map.\n        Returns:\n            The image where the current instance map has been drawn on.\n        \"\"\"\nins_map = self.to_array()\ncolor_map = np.zeros((ins_map.shape[0], ins_map[1], 3), dtype=np.uint8)\nins_ids = np.unique(ins_map)\nfor ins_id in ins_ids:\nif ins_id == 0:\ncontinue\ncontour_color = tuple(np.random.randint(0, 255, size=[3]))\nthis_map = (ins_map == ins_id).astype(np.uint8) * 255\n_, contours, _ = cv2.findContours(this_map, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)\ncv2.drawContours(color_map, contours, -1, contour_color, 2)\noverlay = Image_.fromarray(color_map).convert(\"RGBA\")\noverlayed = Image_.blend(image, overlay, 0.5)\nreturn overlayed\n</code></pre>"},{"location":"api_reference/dsdl_geometry/insmap/#dsdl.geometry.insmap.InstanceMap.visualize","title":"<code>visualize(image, palette, **kwargs)</code>","text":"<p>Draw the current instance map on an given image.</p> <p>Parameters:</p> Name Type Description Default <code>image</code> <p>The image where the instance map to be drawn.</p> required <code>palette</code> <p>The palette which stores the color of different category name.</p> required <code>**kwargs</code> <p>Other annotations which may be used when drawing the current instance map.</p> <code>{}</code> <p>Returns:</p> Type Description <p>The image where the current instance map has been drawn on.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/insmap.py</code> <pre><code>def visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current instance map on an given image.\n    Args:\n        image: The image where the instance map to be drawn.\n        palette: The palette which stores the color of different category name.\n        **kwargs: Other annotations which may be used when drawing the current instance map.\n    Returns:\n        The image where the current instance map has been drawn on.\n    \"\"\"\nins_map = self.to_array()\ncolor_map = np.zeros((ins_map.shape[0], ins_map[1], 3), dtype=np.uint8)\nins_ids = np.unique(ins_map)\nfor ins_id in ins_ids:\nif ins_id == 0:\ncontinue\ncontour_color = tuple(np.random.randint(0, 255, size=[3]))\nthis_map = (ins_map == ins_id).astype(np.uint8) * 255\n_, contours, _ = cv2.findContours(this_map, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)\ncv2.drawContours(color_map, contours, -1, contour_color, 2)\noverlay = Image_.fromarray(color_map).convert(\"RGBA\")\noverlayed = Image_.blend(image, overlay, 0.5)\nreturn overlayed\n</code></pre>"},{"location":"api_reference/dsdl_geometry/keypoint/","title":"dsdl.geometry.keypoint","text":""},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.Coord2D","title":"<code>Coord2D</code>","text":"<p>         Bases: <code>BaseGeometry</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/keypoint.py</code> <pre><code>class Coord2D(BaseGeometry):\ndef __init__(self, x: float, y: float, visiable: int, label: Label):\n\"\"\"A Geometry class which abstracts a 2D coordinate object.\n        Args:\n            x: The horizontal axis of the current `Coord2D` object.\n            y: The vertical axis of the current `Coord2D` object.\n            visiable: Whether the current `Coord2D` object is visiable in the image. if visiable &lt;= 0, The current `Coord2D` object is not visiable.\n            label: The current `Coord2D` object's Label object.\n        \"\"\"\nself._x = x\nself._y = y\nself._visiable = visiable\nself._label = label\n@property\ndef x(self):\n\"\"\"\n        Returns:\n            The horizontal axis of the current `Coord2D` object.\n        \"\"\"\nreturn self._x\n@property\ndef y(self):\n\"\"\"\n        Returns:\n            The vertical axis of the current `Coord2D` object.\n        \"\"\"\nreturn self._y\n@property\ndef point(self):\n\"\"\"\n        Returns:\n            The horizontal and vertical axises of the current `Coord2D` object.\n        \"\"\"\nreturn [self._x, self._y]\n@property\ndef value(self):\n\"\"\"\n        Returns:\n            The value of the current `Coord2D` object.\n        \"\"\"\nreturn [self._x, self._y, self._visiable]\n@property\ndef visiable(self):\n\"\"\"\n        Returns:\n            The visiable value of the current `Coord2D` object.\n        \"\"\"\nreturn self._visiable\n@property\ndef label(self):\n\"\"\"\n        Returns:\n            The `Label` object of the current `Coord2D` object.\n        \"\"\"\nreturn self._label\n@property\ndef class_domain(self):\n\"\"\"\n        Returns:\n            The `ClassDomain` object of the current `Coord2D` object.\n        \"\"\"\nreturn self._label.class_domain\n@property\ndef name(self):\n\"\"\"\n        Returns:\n            The name of the current `Coord2D` object's `Label` object.\n        \"\"\"\nreturn self._label.name\n</code></pre>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.Coord2D.class_domain","title":"<code>class_domain</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The <code>ClassDomain</code> object of the current <code>Coord2D</code> object.</p>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.Coord2D.label","title":"<code>label</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The <code>Label</code> object of the current <code>Coord2D</code> object.</p>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.Coord2D.name","title":"<code>name</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The name of the current <code>Coord2D</code> object's <code>Label</code> object.</p>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.Coord2D.point","title":"<code>point</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The horizontal and vertical axises of the current <code>Coord2D</code> object.</p>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.Coord2D.value","title":"<code>value</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The value of the current <code>Coord2D</code> object.</p>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.Coord2D.visiable","title":"<code>visiable</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The visiable value of the current <code>Coord2D</code> object.</p>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.Coord2D.x","title":"<code>x</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The horizontal axis of the current <code>Coord2D</code> object.</p>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.Coord2D.y","title":"<code>y</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The vertical axis of the current <code>Coord2D</code> object.</p>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.Coord2D.__init__","title":"<code>__init__(x, y, visiable, label)</code>","text":"<p>A Geometry class which abstracts a 2D coordinate object.</p> <p>Parameters:</p> Name Type Description Default <code>x</code> <code>float</code> <p>The horizontal axis of the current <code>Coord2D</code> object.</p> required <code>y</code> <code>float</code> <p>The vertical axis of the current <code>Coord2D</code> object.</p> required <code>visiable</code> <code>int</code> <p>Whether the current <code>Coord2D</code> object is visiable in the image. if visiable &lt;= 0, The current <code>Coord2D</code> object is not visiable.</p> required <code>label</code> <code>Label</code> <p>The current <code>Coord2D</code> object's Label object.</p> required Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/keypoint.py</code> <pre><code>def __init__(self, x: float, y: float, visiable: int, label: Label):\n\"\"\"A Geometry class which abstracts a 2D coordinate object.\n    Args:\n        x: The horizontal axis of the current `Coord2D` object.\n        y: The vertical axis of the current `Coord2D` object.\n        visiable: Whether the current `Coord2D` object is visiable in the image. if visiable &lt;= 0, The current `Coord2D` object is not visiable.\n        label: The current `Coord2D` object's Label object.\n    \"\"\"\nself._x = x\nself._y = y\nself._visiable = visiable\nself._label = label\n</code></pre>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.KeyPoints","title":"<code>KeyPoints</code>","text":"<p>         Bases: <code>BaseGeometry</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/keypoint.py</code> <pre><code>class KeyPoints(BaseGeometry):\ndef __init__(self, value, dom: Union[List[ClassDomainMeta], ClassDomainMeta]):\n\"\"\"A Geometry class which abstracts a 2D keypoints annotation object.\n        Args:\n            value: The list of `Coord2D` objects comprise the current `KeyPoints` object.\n            dom: The class domain object which the current `KeyPoints` object belongs to.\n        \"\"\"\nif isinstance(dom, list):\nassert len(dom) == 1, \"You can only assign one class dom in KeypointField.\"\ndom = dom[0]\nkeypoints = []\nfor class_ind, p in enumerate(value, start=1):\nlabel = dom.get_label(class_ind)\ncoord2d = Coord2D(x=p[0], y=p[1], visiable=int(p[2]), label=label)\nkeypoints.append(coord2d)\nself._keypoints = keypoints\nself._dom = dom\n@property\ndef value(self):\n\"\"\"\n        Returns:\n            The list of all the `Coord2D` objects' values.\n        \"\"\"\nreturn [_.value for _ in self._keypoints]\n@property\ndef points(self):\n\"\"\"\n        Returns:\n            The list of all the `Coord2D` objects' points.\n        \"\"\"\nreturn [_.point for _ in self._keypoints]\n@property\ndef visables(self):\n\"\"\"\n        Returns:\n            The list of all the `Coord2D` objects' visiable values.\n        \"\"\"\nreturn [_.visiable for _ in self._keypoints]\n@property\ndef keypoints(self):\n\"\"\"\n        Returns:\n            The list of `Coord2D` objects comprise the current `KeyPoints` object.\n        \"\"\"\nreturn self._keypoints\n@property\ndef class_domain(self):\n\"\"\"\n        Returns:\n            The class domain object which the current `KeyPoints` object belongs to.\n        \"\"\"\nreturn self._dom\n@property\ndef names(self):\n\"\"\"\n        Returns:\n            The names of all the `Coord2D` objects comprising the current `KeyPoints` object.\n        \"\"\"\nreturn [_.name for _ in self._keypoints]\ndef __getitem__(self, item):\n\"\"\"Given the index or the category name, return the coresponding `Coord2D` object.\n        Args:\n            item: The index or the category name of one of all the `Coord2D` object.\n        Returns:\n            The coresponding `Coord2D` object.\n        \"\"\"\nassert isinstance(item, (str, int)), \"The index must be str or int type value.\"\nif isinstance(item, int):\nreturn self._keypoints[item]\nelif isinstance(item, str):\nfor ind, label_name in enumerate(self._dom.get_label_names()):\nif label_name == item:\nreturn self._keypoints[ind]\nraise ClassNotFoundError(f\"Category '{item}' not defined in domain {self._dom.__name__}.\")\ndef visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current `Keypoints` object on an given image.\n        Args:\n            image: The image where the current `Keypoints` object to be drawn.\n            palette: The palette which stores the color of different category name.\n            **kwargs: Other annotations which may be used when drawing the current `Keypoints` object.\n        Returns:\n            The image where the current `Keypoints` object has been drawn on.\n        \"\"\"\ndraw_obj = ImageDraw.Draw(image)\nline_color = (0, 255, 0)  # green\npoint_radius = 3\nskeleton = self._dom.get_attribute(\"Skeleton\")\nif skeleton is not None:\npoint_pairs = skeleton.get_point_pairs(self)\nfor point_pair in point_pairs:\np1, p2 = point_pair[:2]\nif p1.visiable &gt; 0 and p2.visiable:\ndraw_obj.line([*p1.point, *p2.point], width=2, fill=(*line_color, 255))\nfor point in self._keypoints:\nif point.visiable &gt; 0:\nlabel_ = point.label.category_name\nif label_ not in palette:\npalette[label_] = tuple(np.random.randint(0, 255, size=[3]))\npoint_color = palette[label_]\nx, y = point.point\ndraw_obj.ellipse((x - point_radius, y - point_radius, x + point_radius, y + point_radius),\nfill=(*point_color, 255))\ndel draw_obj\nreturn image\ndef __repr__(self):\nreturn str(self.value)\n</code></pre>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.KeyPoints.class_domain","title":"<code>class_domain</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The class domain object which the current <code>KeyPoints</code> object belongs to.</p>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.KeyPoints.keypoints","title":"<code>keypoints</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The list of <code>Coord2D</code> objects comprise the current <code>KeyPoints</code> object.</p>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.KeyPoints.names","title":"<code>names</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The names of all the <code>Coord2D</code> objects comprising the current <code>KeyPoints</code> object.</p>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.KeyPoints.points","title":"<code>points</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The list of all the <code>Coord2D</code> objects' points.</p>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.KeyPoints.value","title":"<code>value</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The list of all the <code>Coord2D</code> objects' values.</p>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.KeyPoints.visables","title":"<code>visables</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The list of all the <code>Coord2D</code> objects' visiable values.</p>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.KeyPoints.__getitem__","title":"<code>__getitem__(item)</code>","text":"<p>Given the index or the category name, return the coresponding <code>Coord2D</code> object.</p> <p>Parameters:</p> Name Type Description Default <code>item</code> <p>The index or the category name of one of all the <code>Coord2D</code> object.</p> required <p>Returns:</p> Type Description <p>The coresponding <code>Coord2D</code> object.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/keypoint.py</code> <pre><code>def __getitem__(self, item):\n\"\"\"Given the index or the category name, return the coresponding `Coord2D` object.\n    Args:\n        item: The index or the category name of one of all the `Coord2D` object.\n    Returns:\n        The coresponding `Coord2D` object.\n    \"\"\"\nassert isinstance(item, (str, int)), \"The index must be str or int type value.\"\nif isinstance(item, int):\nreturn self._keypoints[item]\nelif isinstance(item, str):\nfor ind, label_name in enumerate(self._dom.get_label_names()):\nif label_name == item:\nreturn self._keypoints[ind]\nraise ClassNotFoundError(f\"Category '{item}' not defined in domain {self._dom.__name__}.\")\n</code></pre>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.KeyPoints.__init__","title":"<code>__init__(value, dom)</code>","text":"<p>A Geometry class which abstracts a 2D keypoints annotation object.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <p>The list of <code>Coord2D</code> objects comprise the current <code>KeyPoints</code> object.</p> required <code>dom</code> <code>Union[List[ClassDomainMeta], ClassDomainMeta]</code> <p>The class domain object which the current <code>KeyPoints</code> object belongs to.</p> required Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/keypoint.py</code> <pre><code>def __init__(self, value, dom: Union[List[ClassDomainMeta], ClassDomainMeta]):\n\"\"\"A Geometry class which abstracts a 2D keypoints annotation object.\n    Args:\n        value: The list of `Coord2D` objects comprise the current `KeyPoints` object.\n        dom: The class domain object which the current `KeyPoints` object belongs to.\n    \"\"\"\nif isinstance(dom, list):\nassert len(dom) == 1, \"You can only assign one class dom in KeypointField.\"\ndom = dom[0]\nkeypoints = []\nfor class_ind, p in enumerate(value, start=1):\nlabel = dom.get_label(class_ind)\ncoord2d = Coord2D(x=p[0], y=p[1], visiable=int(p[2]), label=label)\nkeypoints.append(coord2d)\nself._keypoints = keypoints\nself._dom = dom\n</code></pre>"},{"location":"api_reference/dsdl_geometry/keypoint/#dsdl.geometry.keypoint.KeyPoints.visualize","title":"<code>visualize(image, palette, **kwargs)</code>","text":"<p>Draw the current <code>Keypoints</code> object on an given image.</p> <p>Parameters:</p> Name Type Description Default <code>image</code> <p>The image where the current <code>Keypoints</code> object to be drawn.</p> required <code>palette</code> <p>The palette which stores the color of different category name.</p> required <code>**kwargs</code> <p>Other annotations which may be used when drawing the current <code>Keypoints</code> object.</p> <code>{}</code> <p>Returns:</p> Type Description <p>The image where the current <code>Keypoints</code> object has been drawn on.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/keypoint.py</code> <pre><code>def visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current `Keypoints` object on an given image.\n    Args:\n        image: The image where the current `Keypoints` object to be drawn.\n        palette: The palette which stores the color of different category name.\n        **kwargs: Other annotations which may be used when drawing the current `Keypoints` object.\n    Returns:\n        The image where the current `Keypoints` object has been drawn on.\n    \"\"\"\ndraw_obj = ImageDraw.Draw(image)\nline_color = (0, 255, 0)  # green\npoint_radius = 3\nskeleton = self._dom.get_attribute(\"Skeleton\")\nif skeleton is not None:\npoint_pairs = skeleton.get_point_pairs(self)\nfor point_pair in point_pairs:\np1, p2 = point_pair[:2]\nif p1.visiable &gt; 0 and p2.visiable:\ndraw_obj.line([*p1.point, *p2.point], width=2, fill=(*line_color, 255))\nfor point in self._keypoints:\nif point.visiable &gt; 0:\nlabel_ = point.label.category_name\nif label_ not in palette:\npalette[label_] = tuple(np.random.randint(0, 255, size=[3]))\npoint_color = palette[label_]\nx, y = point.point\ndraw_obj.ellipse((x - point_radius, y - point_radius, x + point_radius, y + point_radius),\nfill=(*point_color, 255))\ndel draw_obj\nreturn image\n</code></pre>"},{"location":"api_reference/dsdl_geometry/label/","title":"dsdl.geometry.label","text":""},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label","title":"<code>Label</code>","text":"<p>         Bases: <code>BaseGeometry</code>, <code>FontMixin</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/label.py</code> <pre><code>class Label(BaseGeometry, FontMixin):\ndef __init__(self, name, supercategories=(), domain_name=None):\n\"\"\"A Geometry class which abstracts a label object.\n        Args:\n            name: The name of the current label object.\n            supercategories: The collection of the current label's super category objects.\n            domain_name: The name of the class domain which the current label object belongs to.\n        \"\"\"\nself._name = name\nself._supercategories = [_ for _ in supercategories if isinstance(_, Label)]\nself._domain_name = domain_name\n@property\ndef supercategories(self):\n\"\"\"\n        Returns:\n            The collection of the current label's super category objects.\n        \"\"\"\nreturn self._supercategories\n@property\ndef supercategories_names(self):\n\"\"\"\n        Returns:\n            The names of the current label's supercategories.\n        \"\"\"\nreturn [_.name for _ in self._supercategories]\n@property\ndef parent_names(self):\n\"\"\"\n        Returns:\n            The names of the current label's supercategories.\n        \"\"\"\nreturn [_.name for _ in self._supercategories]\n@property\ndef domain_name(self):\n\"\"\"\n        Returns:\n            The name of the class domain which the current label object belongs to.\n        \"\"\"\nreturn self._domain_name\n@property\ndef parents(self):\n\"\"\"\n        Returns:\n            The collection of the current label's super category objects.\n        \"\"\"\nreturn self._supercategories\n@property\ndef name(self):\n\"\"\"\n        Returns:\n            The name of the current label object.\n        \"\"\"\nreturn self._name\n@property\ndef registry_name(self):\n\"\"\"\n        Returns:\n            The registry name of the current label object which is unique in the `LABEL` registry.\n        \"\"\"\nreturn f\"{self._domain_name}__{self._name}\"\ndef set_domain(self, domain_name):\n\"\"\"\n        Set the `_domain_name` of the current label object.\n        \"\"\"\nif self._domain_name is None:\nself._domain_name = domain_name\n@property\ndef category_name(self):\n\"\"\"\n        Returns:\n            The name of the current label object.\n        \"\"\"\nreturn self._name\n@property\ndef openmmlabformat(self):\n\"\"\"\n        Returns:\n            The name of the current label object.\n        \"\"\"\nreturn self._name\n@property\ndef class_domain(self):\n\"\"\"\n        Returns:\n            (dsdl.geometry.ClassDomain): The class domain object which the current label object belongs to.\n        \"\"\"\nreturn CLASSDOMAIN.get(self.domain_name)\ndef index_in_domain(self):\n\"\"\"\n        Returns:\n            The index of the current label object in the class domain which it belongs to.\n        \"\"\"\nreturn self.class_domain.get_cat2ind_mapping()[self.category_name]\ndef __eq__(self, other):\n\"\"\"Compare whether the current label object is equal to the other.\n        Args:\n            other: Another Label object to be compared with the current one.\n        Returns:\n            Whether the current label object is equal to the other.\n        \"\"\"\nif self.domain_name != other.domain_name:\nreturn False\nif self.name != other.name:\nreturn False\nif len(self.parents) != len(self.parents):\nreturn False\nfor p1 in self.parents:\nfor p2 in other.parents:\nif p1 != p2:\nreturn False\nreturn True\ndef visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current label object on an given image.\n        Args:\n            image: The image where the label to be drawn.\n            palette: The palette which stores the color of different category name.\n            **kwargs: Other annotations which may be used when drawing the current label object, such as `BBox` annotation.\n        Returns:\n            The image where the current label object has been drawn on.\n        \"\"\"\ndraw_obj = ImageDraw.Draw(image)\nif self.category_name not in palette:\npalette[self.category_name] = tuple(np.random.randint(0, 255, size=[3]))\ncolor = palette[self.category_name]\nif self.font is None:\nself.set_font(ImageFont.truetype(os.path.join(os.path.dirname(__file__), \"source\", \"Arial_Font.ttf\")))\nlabel_size = draw_obj.textsize(self.category_name, self.font)\nif \"bbox\" in kwargs:\ncoords = np.array([[item.xyxy[0], item.xyxy[1] + 0.2 * label_size[1]] for item in kwargs[\"bbox\"].values()])\nelif \"polygon\" in kwargs:\ncoords = np.array([[item.point_for_draw()[0], item.point_for_draw()[1] + 0.2 * label_size[1]] for item in\nkwargs[\"polygon\"].values()])\nelse:\ncoords = np.array([[0, 0.2 * label_size[1]]])\nfor coord in coords:\ndraw_obj.rectangle([tuple(coord), tuple(coord + label_size)], fill=(*color, 255))\ndraw_obj.text(tuple(coord), self.category_name, fill=(255, 255, 255, 255), font=self.font)\ndel draw_obj\nreturn image\ndef __repr__(self):\nreturn self.category_name\n</code></pre>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label.category_name","title":"<code>category_name</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The name of the current label object.</p>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label.class_domain","title":"<code>class_domain</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>dsdl.geometry.ClassDomain</code> <p>The class domain object which the current label object belongs to.</p>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label.domain_name","title":"<code>domain_name</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The name of the class domain which the current label object belongs to.</p>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label.name","title":"<code>name</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The name of the current label object.</p>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label.openmmlabformat","title":"<code>openmmlabformat</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The name of the current label object.</p>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label.parent_names","title":"<code>parent_names</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The names of the current label's supercategories.</p>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label.parents","title":"<code>parents</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The collection of the current label's super category objects.</p>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label.registry_name","title":"<code>registry_name</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The registry name of the current label object which is unique in the <code>LABEL</code> registry.</p>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label.supercategories","title":"<code>supercategories</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The collection of the current label's super category objects.</p>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label.supercategories_names","title":"<code>supercategories_names</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The names of the current label's supercategories.</p>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label.__eq__","title":"<code>__eq__(other)</code>","text":"<p>Compare whether the current label object is equal to the other.</p> <p>Parameters:</p> Name Type Description Default <code>other</code> <p>Another Label object to be compared with the current one.</p> required <p>Returns:</p> Type Description <p>Whether the current label object is equal to the other.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/label.py</code> <pre><code>def __eq__(self, other):\n\"\"\"Compare whether the current label object is equal to the other.\n    Args:\n        other: Another Label object to be compared with the current one.\n    Returns:\n        Whether the current label object is equal to the other.\n    \"\"\"\nif self.domain_name != other.domain_name:\nreturn False\nif self.name != other.name:\nreturn False\nif len(self.parents) != len(self.parents):\nreturn False\nfor p1 in self.parents:\nfor p2 in other.parents:\nif p1 != p2:\nreturn False\nreturn True\n</code></pre>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label.__init__","title":"<code>__init__(name, supercategories=(), domain_name=None)</code>","text":"<p>A Geometry class which abstracts a label object.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <p>The name of the current label object.</p> required <code>supercategories</code> <p>The collection of the current label's super category objects.</p> <code>()</code> <code>domain_name</code> <p>The name of the class domain which the current label object belongs to.</p> <code>None</code> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/label.py</code> <pre><code>def __init__(self, name, supercategories=(), domain_name=None):\n\"\"\"A Geometry class which abstracts a label object.\n    Args:\n        name: The name of the current label object.\n        supercategories: The collection of the current label's super category objects.\n        domain_name: The name of the class domain which the current label object belongs to.\n    \"\"\"\nself._name = name\nself._supercategories = [_ for _ in supercategories if isinstance(_, Label)]\nself._domain_name = domain_name\n</code></pre>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label.index_in_domain","title":"<code>index_in_domain()</code>","text":"<p>Returns:</p> Type Description <p>The index of the current label object in the class domain which it belongs to.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/label.py</code> <pre><code>def index_in_domain(self):\n\"\"\"\n    Returns:\n        The index of the current label object in the class domain which it belongs to.\n    \"\"\"\nreturn self.class_domain.get_cat2ind_mapping()[self.category_name]\n</code></pre>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label.set_domain","title":"<code>set_domain(domain_name)</code>","text":"<p>Set the <code>_domain_name</code> of the current label object.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/label.py</code> <pre><code>def set_domain(self, domain_name):\n\"\"\"\n    Set the `_domain_name` of the current label object.\n    \"\"\"\nif self._domain_name is None:\nself._domain_name = domain_name\n</code></pre>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.Label.visualize","title":"<code>visualize(image, palette, **kwargs)</code>","text":"<p>Draw the current label object on an given image.</p> <p>Parameters:</p> Name Type Description Default <code>image</code> <p>The image where the label to be drawn.</p> required <code>palette</code> <p>The palette which stores the color of different category name.</p> required <code>**kwargs</code> <p>Other annotations which may be used when drawing the current label object, such as <code>BBox</code> annotation.</p> <code>{}</code> <p>Returns:</p> Type Description <p>The image where the current label object has been drawn on.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/label.py</code> <pre><code>def visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current label object on an given image.\n    Args:\n        image: The image where the label to be drawn.\n        palette: The palette which stores the color of different category name.\n        **kwargs: Other annotations which may be used when drawing the current label object, such as `BBox` annotation.\n    Returns:\n        The image where the current label object has been drawn on.\n    \"\"\"\ndraw_obj = ImageDraw.Draw(image)\nif self.category_name not in palette:\npalette[self.category_name] = tuple(np.random.randint(0, 255, size=[3]))\ncolor = palette[self.category_name]\nif self.font is None:\nself.set_font(ImageFont.truetype(os.path.join(os.path.dirname(__file__), \"source\", \"Arial_Font.ttf\")))\nlabel_size = draw_obj.textsize(self.category_name, self.font)\nif \"bbox\" in kwargs:\ncoords = np.array([[item.xyxy[0], item.xyxy[1] + 0.2 * label_size[1]] for item in kwargs[\"bbox\"].values()])\nelif \"polygon\" in kwargs:\ncoords = np.array([[item.point_for_draw()[0], item.point_for_draw()[1] + 0.2 * label_size[1]] for item in\nkwargs[\"polygon\"].values()])\nelse:\ncoords = np.array([[0, 0.2 * label_size[1]]])\nfor coord in coords:\ndraw_obj.rectangle([tuple(coord), tuple(coord + label_size)], fill=(*color, 255))\ndraw_obj.text(tuple(coord), self.category_name, fill=(255, 255, 255, 255), font=self.font)\ndel draw_obj\nreturn image\n</code></pre>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.LabelList","title":"<code>LabelList</code>","text":"<p>         Bases: <code>BaseGeometry</code>, <code>FontMixin</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/label.py</code> <pre><code>class LabelList(BaseGeometry, FontMixin):\ndef __init__(self, label_list):\n\"\"\"A Geometry class which abstracts a list of label objects.\n        Args:\n            label_list: A collection of `Label` objects.\n        \"\"\"\nself._label_list = list(label_list)\n@property\ndef names(self):\n\"\"\"\n        Returns:\n            All the names of the label object in the current `LabelList` object.\n        \"\"\"\nreturn [label.category_name for label in self._label_list]\n@property\ndef category_names(self):\n\"\"\"\n        Returns:\n            All the names of the label object in the current `LabelList` object.\n        \"\"\"\nreturn [label.category_name for label in self._label_list]\n@property\ndef label_list(self):\n\"\"\"\n        Returns:\n            All the `Label` objects in the current `LabelList` object.\n        \"\"\"\nreturn self._label_list\n@property\ndef class_domains(self):\n\"\"\"\n        Returns:\n            (List[dsdl.geometry.ClassDomain]): The class domain objects of all the `Label` objects in the current `LabelList` object.\n        \"\"\"\nreturn [label.class_domain for label in self._label_list]\ndef visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current `LabelList` object on an given image.\n        Args:\n            image: The image where the labels to be drawn.\n            palette: The palette which stores the color of different category name.\n            **kwargs: Other annotations which may be used when drawing the current `LabelList` object, such as `BBox` annotation.\n        Returns:\n            The image where the current `LabelList` object has been drawn on.\n        \"\"\"\ndraw_obj = ImageDraw.Draw(image)\nif self.font is None:\nself.set_font(ImageFont.truetype(os.path.join(os.path.dirname(__file__), \"source\", \"Arial_Font.ttf\")))\ny_offset = np.zeros((1, 2))\nfor label_obj in self.label_list:\ncategory_name = label_obj.category_name\nif category_name not in palette:\npalette[category_name] = tuple(np.random.randint(0, 255, size=[3]))\ncolor = palette[category_name]\nlabel_size = draw_obj.textsize(category_name, self.font)\nif \"bbox\" in kwargs:\n# coords.shape = [num_box, 2]\ncoords = y_offset + np.array(\n[[item.xyxy[0], item.xyxy[1] + 0.2 * label_size[1]] for item in kwargs[\"bbox\"].values()])\nelif \"polygon\" in kwargs:\ncoords = y_offset + np.array(\n[[item.point_for_draw()[0], item.point_for_draw()[1] + 0.2 * label_size[1]] for item in\nkwargs[\"polygon\"].values()])\nelif \"rotatedbbox\" in kwargs:\ncoords = y_offset + np.array(\n[[item.point_for_draw()[0], item.point_for_draw()[1] + 0.2 * label_size[1]] for item in\nkwargs[\"rotatedbbox\"].values()])\nelif \"image_label_list\" not in kwargs:\ncoords = y_offset + np.array([[0, 0.2 * label_size[1]]])\nelse:\ncoords = []\nkwargs[\"image_label_list\"].append(label_obj)\ny_offset += np.array([[0., 1.2 * label_size[1]]])\nfor coord in coords:\ndraw_obj.rectangle([tuple(coord), tuple(coord + label_size)], fill=(*color, 255))\ndraw_obj.text(tuple(coord), category_name, fill=(255, 255, 255, 255), font=self.font)\ndel draw_obj\nreturn image\n</code></pre>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.LabelList.category_names","title":"<code>category_names</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>All the names of the label object in the current <code>LabelList</code> object.</p>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.LabelList.class_domains","title":"<code>class_domains</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>List[dsdl.geometry.ClassDomain]</code> <p>The class domain objects of all the <code>Label</code> objects in the current <code>LabelList</code> object.</p>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.LabelList.label_list","title":"<code>label_list</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>All the <code>Label</code> objects in the current <code>LabelList</code> object.</p>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.LabelList.names","title":"<code>names</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>All the names of the label object in the current <code>LabelList</code> object.</p>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.LabelList.__init__","title":"<code>__init__(label_list)</code>","text":"<p>A Geometry class which abstracts a list of label objects.</p> <p>Parameters:</p> Name Type Description Default <code>label_list</code> <p>A collection of <code>Label</code> objects.</p> required Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/label.py</code> <pre><code>def __init__(self, label_list):\n\"\"\"A Geometry class which abstracts a list of label objects.\n    Args:\n        label_list: A collection of `Label` objects.\n    \"\"\"\nself._label_list = list(label_list)\n</code></pre>"},{"location":"api_reference/dsdl_geometry/label/#dsdl.geometry.label.LabelList.visualize","title":"<code>visualize(image, palette, **kwargs)</code>","text":"<p>Draw the current <code>LabelList</code> object on an given image.</p> <p>Parameters:</p> Name Type Description Default <code>image</code> <p>The image where the labels to be drawn.</p> required <code>palette</code> <p>The palette which stores the color of different category name.</p> required <code>**kwargs</code> <p>Other annotations which may be used when drawing the current <code>LabelList</code> object, such as <code>BBox</code> annotation.</p> <code>{}</code> <p>Returns:</p> Type Description <p>The image where the current <code>LabelList</code> object has been drawn on.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/label.py</code> <pre><code>def visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current `LabelList` object on an given image.\n    Args:\n        image: The image where the labels to be drawn.\n        palette: The palette which stores the color of different category name.\n        **kwargs: Other annotations which may be used when drawing the current `LabelList` object, such as `BBox` annotation.\n    Returns:\n        The image where the current `LabelList` object has been drawn on.\n    \"\"\"\ndraw_obj = ImageDraw.Draw(image)\nif self.font is None:\nself.set_font(ImageFont.truetype(os.path.join(os.path.dirname(__file__), \"source\", \"Arial_Font.ttf\")))\ny_offset = np.zeros((1, 2))\nfor label_obj in self.label_list:\ncategory_name = label_obj.category_name\nif category_name not in palette:\npalette[category_name] = tuple(np.random.randint(0, 255, size=[3]))\ncolor = palette[category_name]\nlabel_size = draw_obj.textsize(category_name, self.font)\nif \"bbox\" in kwargs:\n# coords.shape = [num_box, 2]\ncoords = y_offset + np.array(\n[[item.xyxy[0], item.xyxy[1] + 0.2 * label_size[1]] for item in kwargs[\"bbox\"].values()])\nelif \"polygon\" in kwargs:\ncoords = y_offset + np.array(\n[[item.point_for_draw()[0], item.point_for_draw()[1] + 0.2 * label_size[1]] for item in\nkwargs[\"polygon\"].values()])\nelif \"rotatedbbox\" in kwargs:\ncoords = y_offset + np.array(\n[[item.point_for_draw()[0], item.point_for_draw()[1] + 0.2 * label_size[1]] for item in\nkwargs[\"rotatedbbox\"].values()])\nelif \"image_label_list\" not in kwargs:\ncoords = y_offset + np.array([[0, 0.2 * label_size[1]]])\nelse:\ncoords = []\nkwargs[\"image_label_list\"].append(label_obj)\ny_offset += np.array([[0., 1.2 * label_size[1]]])\nfor coord in coords:\ndraw_obj.rectangle([tuple(coord), tuple(coord + label_size)], fill=(*color, 255))\ndraw_obj.text(tuple(coord), category_name, fill=(255, 255, 255, 255), font=self.font)\ndel draw_obj\nreturn image\n</code></pre>"},{"location":"api_reference/dsdl_geometry/media/","title":"dsdl.geometry.media","text":""},{"location":"api_reference/dsdl_geometry/media/#dsdl.geometry.media.Image","title":"<code>Image</code>","text":"<p>         Bases: <code>BaseGeometry</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/media.py</code> <pre><code>class Image(BaseGeometry):\ndef __init__(self, value, file_reader):\n\"\"\"A Geometry class which abstracts an image object.\n        Args:\n            value: The relative path of the current image object.\n            file_reader: The file reader object of the current image object.\n        \"\"\"\nself._loc = value\nself._reader = file_reader\nself.namespace = None\n_splits = value.split(\".\")\nif len(_splits) &gt; 1:\nself._ext = value.split(\".\")[-1].lower()\nelse:\nself._ext = \"\"\ndef set_namespace(self, struct_obj):\nself.namespace = struct_obj\nself._reader = struct_obj.file_reader\n@property\ndef location(self):\n\"\"\"\n        Returns:\n            The relative path of the current image.\n        \"\"\"\nreturn self._loc\ndef to_bytes(self):\n\"\"\"Turn ImageMedia object to bytes.\n        Returns:\n            The bytes of the current image.\n        \"\"\"\nreturn io.BytesIO(self._reader.read(self._loc))\ndef to_image(self):\n\"\"\"Turn ImageMedia object to a `PIL.Image` object.\n        Returns:\n            The `PIL.Image` object of the current image.\n        \"\"\"\nif self._ext in (\"tif\", \"tiff\"):\nreturn Image_.fromarray(self.to_array())\ntry:\nimg = Image_.open(self.to_bytes())\nexcept Exception as e:\nraise FileReadError(f\"Failed to convert bytes to an array. {e}\") from None\nreturn img\ndef to_array(self):\n\"\"\"Turn ImageMedia object to numpy.ndarray.\n        Returns:\n            The `np.ndarray` object of the current image.\n        \"\"\"\nif self._ext in (\"tif\", \"tiff\"):\nreturn imread(self.to_bytes())\nreturn bytes_to_numpy(self.to_bytes())\ndef __repr__(self):\nreturn f\"path:{self.location}\"\n</code></pre>"},{"location":"api_reference/dsdl_geometry/media/#dsdl.geometry.media.Image.location","title":"<code>location</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The relative path of the current image.</p>"},{"location":"api_reference/dsdl_geometry/media/#dsdl.geometry.media.Image.__init__","title":"<code>__init__(value, file_reader)</code>","text":"<p>A Geometry class which abstracts an image object.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <p>The relative path of the current image object.</p> required <code>file_reader</code> <p>The file reader object of the current image object.</p> required Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/media.py</code> <pre><code>def __init__(self, value, file_reader):\n\"\"\"A Geometry class which abstracts an image object.\n    Args:\n        value: The relative path of the current image object.\n        file_reader: The file reader object of the current image object.\n    \"\"\"\nself._loc = value\nself._reader = file_reader\nself.namespace = None\n_splits = value.split(\".\")\nif len(_splits) &gt; 1:\nself._ext = value.split(\".\")[-1].lower()\nelse:\nself._ext = \"\"\n</code></pre>"},{"location":"api_reference/dsdl_geometry/media/#dsdl.geometry.media.Image.to_array","title":"<code>to_array()</code>","text":"<p>Turn ImageMedia object to numpy.ndarray.</p> <p>Returns:</p> Type Description <p>The <code>np.ndarray</code> object of the current image.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/media.py</code> <pre><code>def to_array(self):\n\"\"\"Turn ImageMedia object to numpy.ndarray.\n    Returns:\n        The `np.ndarray` object of the current image.\n    \"\"\"\nif self._ext in (\"tif\", \"tiff\"):\nreturn imread(self.to_bytes())\nreturn bytes_to_numpy(self.to_bytes())\n</code></pre>"},{"location":"api_reference/dsdl_geometry/media/#dsdl.geometry.media.Image.to_bytes","title":"<code>to_bytes()</code>","text":"<p>Turn ImageMedia object to bytes.</p> <p>Returns:</p> Type Description <p>The bytes of the current image.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/media.py</code> <pre><code>def to_bytes(self):\n\"\"\"Turn ImageMedia object to bytes.\n    Returns:\n        The bytes of the current image.\n    \"\"\"\nreturn io.BytesIO(self._reader.read(self._loc))\n</code></pre>"},{"location":"api_reference/dsdl_geometry/media/#dsdl.geometry.media.Image.to_image","title":"<code>to_image()</code>","text":"<p>Turn ImageMedia object to a <code>PIL.Image</code> object.</p> <p>Returns:</p> Type Description <p>The <code>PIL.Image</code> object of the current image.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/media.py</code> <pre><code>def to_image(self):\n\"\"\"Turn ImageMedia object to a `PIL.Image` object.\n    Returns:\n        The `PIL.Image` object of the current image.\n    \"\"\"\nif self._ext in (\"tif\", \"tiff\"):\nreturn Image_.fromarray(self.to_array())\ntry:\nimg = Image_.open(self.to_bytes())\nexcept Exception as e:\nraise FileReadError(f\"Failed to convert bytes to an array. {e}\") from None\nreturn img\n</code></pre>"},{"location":"api_reference/dsdl_geometry/polygon/","title":"dsdl.geometry.polygon","text":""},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.Polygon","title":"<code>Polygon</code>","text":"<p>         Bases: <code>BaseGeometry</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/polygon.py</code> <pre><code>class Polygon(BaseGeometry):\ndef __init__(self, value):\n\"\"\"A Geometry class which abstracts a polygon object (which meas there may be multi closed shapes).\n        Args:\n            value: A list of a number of PolygonItem objects.\n        \"\"\"\npolygon_lst = []\nfor idx, points in enumerate(value):\npolygon_lst.append(PolygonItem(points))\nself._data = polygon_lst\n@property\ndef polygons(self):\n\"\"\"\n        Returns:\n            A list of all the PolygonItem objects in the current polygon object.\n        \"\"\"\nreturn self._data\n@property\ndef openmmlabformat(self) -&gt; List[List[float]]:\n\"\"\"\n        Returns:\n            All the points of all the polygon item. The format is `[[x1, y1, x2, y2, ...], [x1, y1, x2, y2, ...], ...]`.\n        \"\"\"\nreturn [_.openmmlabformat for _ in self._data]\ndef point_for_draw(self, mode: str = \"lt\") -&gt; [int, int]:\n\"\"\"\n        Get the point's coordinate where a legend is fit to draw.\n        Args:\n            mode: The position model. Only \"lb\", \"lt\", \"rb\", \"rt\" are permitted, which mean get the coordinate of left bottom,\n                left top, right bottom and right top corresponding.\n        Returns:\n            The coordinate correspond to the `mode`. The format is [x, y].\n        \"\"\"\nassert mode in (\"lb\", \"lt\", \"rb\", \"rt\")\nif mode == \"lt\":\np = min(self._data, key=lambda x: x.point_for_draw(mode)[0] + x.point_for_draw(mode)[1])\nelif mode == \"lb\":\np = min(self._data, key=lambda x: x.point_for_draw(mode)[0] - x.point_for_draw(mode)[1])\nelif mode == \"rt\":\np = min(self._data, key=lambda x: -x.point_for_draw(mode)[0] + x.point_for_draw(mode)[1])\nelse:  # rb\np = min(self._data, key=lambda x: -x.point_for_draw(mode)[0] - x.point_for_draw(mode)[1])\np = [int(_) for _ in p.point_for_draw(mode)]\nreturn p\ndef visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current polygon object on an given image.\n        Args:\n            image: The image where the polygon to be drawn.\n            palette: The palette which stores the color of different category name.\n            **kwargs: Other annotations which may be used when drawing the current polygon object, such as `Label` annotation.\n        Returns:\n            The image where the current polygon object has been drawn on.\n        \"\"\"\ncolor = (0, 255, 0)\nif \"label\" in kwargs:\nfor label in kwargs[\"label\"].values():\nif label.category_name not in palette:\npalette[label.category_name] = tuple(np.random.randint(0, 255, size=[3]))\ncolor = palette[label.category_name]\npoly = Image.new('RGBA', image.size[:2])\npdraw = ImageDraw.Draw(poly)\nfor polygon_item in self.polygons:\npdraw.polygon(polygon_item.to_tuple(), fill=(*color, 127), outline=(*color, 255))\nimage.paste(poly, mask=poly)\ndel pdraw\nreturn image\ndef __repr__(self):\nreturn str(self._data)\n</code></pre>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.Polygon.openmmlabformat","title":"<code>openmmlabformat: List[List[float]]</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>List[List[float]]</code> <p>All the points of all the polygon item. The format is <code>[[x1, y1, x2, y2, ...], [x1, y1, x2, y2, ...], ...]</code>.</p>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.Polygon.polygons","title":"<code>polygons</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>A list of all the PolygonItem objects in the current polygon object.</p>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.Polygon.__init__","title":"<code>__init__(value)</code>","text":"<p>A Geometry class which abstracts a polygon object (which meas there may be multi closed shapes).</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <p>A list of a number of PolygonItem objects.</p> required Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/polygon.py</code> <pre><code>def __init__(self, value):\n\"\"\"A Geometry class which abstracts a polygon object (which meas there may be multi closed shapes).\n    Args:\n        value: A list of a number of PolygonItem objects.\n    \"\"\"\npolygon_lst = []\nfor idx, points in enumerate(value):\npolygon_lst.append(PolygonItem(points))\nself._data = polygon_lst\n</code></pre>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.Polygon.point_for_draw","title":"<code>point_for_draw(mode='lt')</code>","text":"<p>Get the point's coordinate where a legend is fit to draw.</p> <p>Parameters:</p> Name Type Description Default <code>mode</code> <code>str</code> <p>The position model. Only \"lb\", \"lt\", \"rb\", \"rt\" are permitted, which mean get the coordinate of left bottom, left top, right bottom and right top corresponding.</p> <code>'lt'</code> <p>Returns:</p> Type Description <code>[int, int]</code> <p>The coordinate correspond to the <code>mode</code>. The format is [x, y].</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/polygon.py</code> <pre><code>def point_for_draw(self, mode: str = \"lt\") -&gt; [int, int]:\n\"\"\"\n    Get the point's coordinate where a legend is fit to draw.\n    Args:\n        mode: The position model. Only \"lb\", \"lt\", \"rb\", \"rt\" are permitted, which mean get the coordinate of left bottom,\n            left top, right bottom and right top corresponding.\n    Returns:\n        The coordinate correspond to the `mode`. The format is [x, y].\n    \"\"\"\nassert mode in (\"lb\", \"lt\", \"rb\", \"rt\")\nif mode == \"lt\":\np = min(self._data, key=lambda x: x.point_for_draw(mode)[0] + x.point_for_draw(mode)[1])\nelif mode == \"lb\":\np = min(self._data, key=lambda x: x.point_for_draw(mode)[0] - x.point_for_draw(mode)[1])\nelif mode == \"rt\":\np = min(self._data, key=lambda x: -x.point_for_draw(mode)[0] + x.point_for_draw(mode)[1])\nelse:  # rb\np = min(self._data, key=lambda x: -x.point_for_draw(mode)[0] - x.point_for_draw(mode)[1])\np = [int(_) for _ in p.point_for_draw(mode)]\nreturn p\n</code></pre>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.Polygon.visualize","title":"<code>visualize(image, palette, **kwargs)</code>","text":"<p>Draw the current polygon object on an given image.</p> <p>Parameters:</p> Name Type Description Default <code>image</code> <p>The image where the polygon to be drawn.</p> required <code>palette</code> <p>The palette which stores the color of different category name.</p> required <code>**kwargs</code> <p>Other annotations which may be used when drawing the current polygon object, such as <code>Label</code> annotation.</p> <code>{}</code> <p>Returns:</p> Type Description <p>The image where the current polygon object has been drawn on.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/polygon.py</code> <pre><code>def visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current polygon object on an given image.\n    Args:\n        image: The image where the polygon to be drawn.\n        palette: The palette which stores the color of different category name.\n        **kwargs: Other annotations which may be used when drawing the current polygon object, such as `Label` annotation.\n    Returns:\n        The image where the current polygon object has been drawn on.\n    \"\"\"\ncolor = (0, 255, 0)\nif \"label\" in kwargs:\nfor label in kwargs[\"label\"].values():\nif label.category_name not in palette:\npalette[label.category_name] = tuple(np.random.randint(0, 255, size=[3]))\ncolor = palette[label.category_name]\npoly = Image.new('RGBA', image.size[:2])\npdraw = ImageDraw.Draw(poly)\nfor polygon_item in self.polygons:\npdraw.polygon(polygon_item.to_tuple(), fill=(*color, 127), outline=(*color, 255))\nimage.paste(poly, mask=poly)\ndel pdraw\nreturn image\n</code></pre>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.PolygonItem","title":"<code>PolygonItem</code>","text":"<p>         Bases: <code>BaseGeometry</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/polygon.py</code> <pre><code>class PolygonItem(BaseGeometry):\ndef __init__(\nself,\npoints: List[List[float]]\n):\n\"\"\"A Geometry class which abstracts a single polygon item object (which means there is only one closed shape).\n        Args:\n            points: The coordinates of a polygon object, whose format is `[[x1, y1], [x2, y2], ...]`\n        Attributes:\n            _data(list[list[float]]): The coordinates of a polygon object, whose format is `[[x1, y1], [x2, y2], ...]`\n        \"\"\"\nself._data = points\n@property\ndef points(self) -&gt; List[List[float]]:\n\"\"\"\n        Returns:\n            The coordinates of the current polygon item. The format is `[[x1, y1], [x2, y2], ...]`.\n        \"\"\"\nreturn self._data\n@property\ndef points_x(self) -&gt; List[float]:\n\"\"\"\n        Returns:\n            The horizontal axis of all the points which the current polygon item consists of. The format is [x1, x2, x3, ...].\n        \"\"\"\nreturn [_[0] for _ in self._data]\n@property\ndef points_y(self) -&gt; List[float]:\n\"\"\"\n        Returns:\n            The vertical axis of all the points which the current polygon item consists of. The format is [y1, y2, y3, ...].\n        \"\"\"\nreturn [_[1] for _ in self._data]\ndef point_for_draw(self, mode: str = \"lt\"):\n\"\"\"\n        Get the point's coordinate where a legend is fit to draw.\n        Args:\n            mode: The position model. Only \"lb\", \"lt\", \"rb\", \"rt\" are permitted, which mean get the coordinate of left bottom,\n                left top, right bottom and right top corresponding.\n        Returns:\n            The coordinate corresponding to the `mode`, whose format is [x, y].\n        \"\"\"\nassert mode in (\"lb\", \"lt\", \"rb\", \"rt\")\nif mode == \"lt\":\np = min(self._data, key=lambda x: x[0] + x[1])\nelif mode == \"lb\":\np = min(self._data, key=lambda x: x[0] - x[1])\nelif mode == \"rt\":\np = min(self._data, key=lambda x: -x[0] + x[1])\nelse:  # rb\np = min(self._data, key=lambda x: -x[0] - x[1])\np = [int(_) for _ in p]\nreturn p\n@property\ndef openmmlabformat(self) -&gt; List[float]:\n\"\"\"\n        Returns:\n            All the points of the format [x1, y1, x2, y2, ...].\n        \"\"\"\nreturn self._flatten()\ndef to_tuple(self):\n\"\"\"\n        Returns:\n            The coordinates of the current polygon item. The format is `((x1, y1), (x2, y2), ...)`.\n        \"\"\"\nreturn tuple([(_[0], _[1]) for _ in self._data])\ndef _flatten(self) -&gt; List[float]:\nreturn [_ for point in self._data for _ in point]\ndef __repr__(self):\nreturn str(self._data)\n</code></pre>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.PolygonItem.openmmlabformat","title":"<code>openmmlabformat: List[float]</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>List[float]</code> <p>All the points of the format [x1, y1, x2, y2, ...].</p>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.PolygonItem.points","title":"<code>points: List[List[float]]</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>List[List[float]]</code> <p>The coordinates of the current polygon item. The format is <code>[[x1, y1], [x2, y2], ...]</code>.</p>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.PolygonItem.points_x","title":"<code>points_x: List[float]</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>List[float]</code> <p>The horizontal axis of all the points which the current polygon item consists of. The format is [x1, x2, x3, ...].</p>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.PolygonItem.points_y","title":"<code>points_y: List[float]</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <code>List[float]</code> <p>The vertical axis of all the points which the current polygon item consists of. The format is [y1, y2, y3, ...].</p>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.PolygonItem.__init__","title":"<code>__init__(points)</code>","text":"<p>A Geometry class which abstracts a single polygon item object (which means there is only one closed shape).</p> <p>Parameters:</p> Name Type Description Default <code>points</code> <code>List[List[float]]</code> <p>The coordinates of a polygon object, whose format is <code>[[x1, y1], [x2, y2], ...]</code></p> required <p>Attributes:</p> Name Type Description <code>_data(list[list[float]])</code> <p>The coordinates of a polygon object, whose format is <code>[[x1, y1], [x2, y2], ...]</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/polygon.py</code> <pre><code>def __init__(\nself,\npoints: List[List[float]]\n):\n\"\"\"A Geometry class which abstracts a single polygon item object (which means there is only one closed shape).\n    Args:\n        points: The coordinates of a polygon object, whose format is `[[x1, y1], [x2, y2], ...]`\n    Attributes:\n        _data(list[list[float]]): The coordinates of a polygon object, whose format is `[[x1, y1], [x2, y2], ...]`\n    \"\"\"\nself._data = points\n</code></pre>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.PolygonItem.point_for_draw","title":"<code>point_for_draw(mode='lt')</code>","text":"<p>Get the point's coordinate where a legend is fit to draw.</p> <p>Parameters:</p> Name Type Description Default <code>mode</code> <code>str</code> <p>The position model. Only \"lb\", \"lt\", \"rb\", \"rt\" are permitted, which mean get the coordinate of left bottom, left top, right bottom and right top corresponding.</p> <code>'lt'</code> <p>Returns:</p> Type Description <p>The coordinate corresponding to the <code>mode</code>, whose format is [x, y].</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/polygon.py</code> <pre><code>def point_for_draw(self, mode: str = \"lt\"):\n\"\"\"\n    Get the point's coordinate where a legend is fit to draw.\n    Args:\n        mode: The position model. Only \"lb\", \"lt\", \"rb\", \"rt\" are permitted, which mean get the coordinate of left bottom,\n            left top, right bottom and right top corresponding.\n    Returns:\n        The coordinate corresponding to the `mode`, whose format is [x, y].\n    \"\"\"\nassert mode in (\"lb\", \"lt\", \"rb\", \"rt\")\nif mode == \"lt\":\np = min(self._data, key=lambda x: x[0] + x[1])\nelif mode == \"lb\":\np = min(self._data, key=lambda x: x[0] - x[1])\nelif mode == \"rt\":\np = min(self._data, key=lambda x: -x[0] + x[1])\nelse:  # rb\np = min(self._data, key=lambda x: -x[0] - x[1])\np = [int(_) for _ in p]\nreturn p\n</code></pre>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.PolygonItem.to_tuple","title":"<code>to_tuple()</code>","text":"<p>Returns:</p> Type Description <p>The coordinates of the current polygon item. The format is <code>((x1, y1), (x2, y2), ...)</code>.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/polygon.py</code> <pre><code>def to_tuple(self):\n\"\"\"\n    Returns:\n        The coordinates of the current polygon item. The format is `((x1, y1), (x2, y2), ...)`.\n    \"\"\"\nreturn tuple([(_[0], _[1]) for _ in self._data])\n</code></pre>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.RLEPolygon","title":"<code>RLEPolygon</code>","text":"<p>         Bases: <code>BaseGeometry</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/polygon.py</code> <pre><code>class RLEPolygon(BaseGeometry):\ndef __init__(self, rle_data, image_shape):\n\"\"\"\n        rle_data: rle list\n        image_shape: [H, W]\n        \"\"\"\nself._rle_data = rle_data\nself._image_shape = image_shape\n@property\ndef rle_data(self):\nreturn self._rle_data\n@property\ndef image_shape(self):\nreturn self._image_shape\n@property\ndef mask(self):\n'''\n        # ref: https://www.kaggle.com/paulorzp/run-length-encode-and-decode\n        mask_rle: run-length as string formated (start length)\n        shape: (height,width) of array to return\n        Returns numpy array, 1 - mask, 0 - background\n        '''\ns = self._rle_data\nshape = self._image_shape\nstarts, lengths = [np.asarray(x, dtype=int) for x in (s[0:][::2], s[1:][::2])]\nstarts -= 1\nends = starts + lengths\nimg = np.zeros(shape[0] * shape[1], dtype=np.uint8)\nfor lo, hi in zip(starts, ends):\nimg[lo:hi] = 1\nreturn img.reshape(shape)\n@property\ndef openmmlabformat(self):\nreturn {\"counts\": self.rle_data, \"size\": self.image_shape}\ndef point_for_draw(self, mode: str = \"lt\") -&gt; [int, int]:\npass\ndef visualize(self, image, palette, **kwargs):\ncolor = (0, 255, 0)\nmask = self.mask\ncolor_seg = np.array((mask.shape[0], mask.shape[1], 3), dtype=np.uint8)\nif \"label\" in kwargs:\nfor label in kwargs[\"label\"].values():\nif label.category_name not in palette:\npalette[label.category_name] = tuple(np.random.randint(0, 255, size=[3]))\ncolor = palette[label.category_name]\ncolor_seg[mask == 1, :] = np.array(color)\noverlay = Image.fromarray(color_seg).convert(\"RGBA\")\noverlayed = Image.blend(image, overlay, 0.5)\nreturn overlayed\n</code></pre>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.RLEPolygon.mask","title":"<code>mask</code>  <code>property</code>","text":""},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.RLEPolygon.mask--ref-httpswwwkagglecompaulorzprun-length-encode-and-decode","title":"ref: https://www.kaggle.com/paulorzp/run-length-encode-and-decode","text":"<p>mask_rle: run-length as string formated (start length) shape: (height,width) of array to return Returns numpy array, 1 - mask, 0 - background</p>"},{"location":"api_reference/dsdl_geometry/polygon/#dsdl.geometry.polygon.RLEPolygon.__init__","title":"<code>__init__(rle_data, image_shape)</code>","text":"<p>rle_data: rle list image_shape: [H, W]</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/polygon.py</code> <pre><code>def __init__(self, rle_data, image_shape):\n\"\"\"\n    rle_data: rle list\n    image_shape: [H, W]\n    \"\"\"\nself._rle_data = rle_data\nself._image_shape = image_shape\n</code></pre>"},{"location":"api_reference/dsdl_geometry/registry/","title":"dsdl.geometry.registry","text":""},{"location":"api_reference/dsdl_geometry/registry/#dsdl.geometry.registry.LabelRegistry","title":"<code>LabelRegistry</code>","text":"Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/registry.py</code> <pre><code>class LabelRegistry:\ndef __init__(self):\n\"\"\"A collection to register given `dsdl.geometry.Label` objects.\n        \"\"\"\nself._labels = {}\ndef registry(self, label):\n\"\"\"Register a given `Label` objects into the current `Registry` object.\n        Args:\n            label(dsdl.geometry.Label): The `Label` object to be registered.\n        \"\"\"\nregistry_name = label.registry_name\nif registry_name in self._labels:\n# raise ClassHasDefinedError(f\"The label {label.registry_name} has been registered.\")\nClassHasDefinedWarning(\nf\"The label {label.registry_name} has been registered, it will be replaced bt this updated one.\")\nself._labels[registry_name] = label\ndef get(self, registry_name):\n\"\"\"Get the `Label` object when given the registry name.\n        Args:\n            name: The registry name to be queried.\n        Returns:\n            (dsdl.geometry.Label): The `Label` object coresponding the given registry name.\n        \"\"\"\nif registry_name not in self._labels:\nraise ClassNotFoundError\nreturn self._labels[registry_name]\ndef __contains__(self, item):\n\"\"\"Whether the current `Registry` object contains a given object.\n        Args:\n            item(str or dsdl.geometry.Label): The object or the registry name to be quried.\n        Returns:\n            Whether the current `Registry` object contains a given object.\n        \"\"\"\nif isinstance(item, str):\nreturn item in self._labels\nelif hasattr(item, \"registry_name\"):\nreturn item.registry_name in self._labels\nelse:\nreturn False\ndef clear(self):\n\"\"\"Clear all the registered objects in the current `Registry` object.\n        \"\"\"\nself._labels = {}\n</code></pre>"},{"location":"api_reference/dsdl_geometry/registry/#dsdl.geometry.registry.LabelRegistry.__contains__","title":"<code>__contains__(item)</code>","text":"<p>Whether the current <code>Registry</code> object contains a given object.</p> <p>Parameters:</p> Name Type Description Default <code>item(str</code> <code>or dsdl.geometry.Label</code> <p>The object or the registry name to be quried.</p> required <p>Returns:</p> Type Description <p>Whether the current <code>Registry</code> object contains a given object.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/registry.py</code> <pre><code>def __contains__(self, item):\n\"\"\"Whether the current `Registry` object contains a given object.\n    Args:\n        item(str or dsdl.geometry.Label): The object or the registry name to be quried.\n    Returns:\n        Whether the current `Registry` object contains a given object.\n    \"\"\"\nif isinstance(item, str):\nreturn item in self._labels\nelif hasattr(item, \"registry_name\"):\nreturn item.registry_name in self._labels\nelse:\nreturn False\n</code></pre>"},{"location":"api_reference/dsdl_geometry/registry/#dsdl.geometry.registry.LabelRegistry.__init__","title":"<code>__init__()</code>","text":"<p>A collection to register given <code>dsdl.geometry.Label</code> objects.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/registry.py</code> <pre><code>def __init__(self):\n\"\"\"A collection to register given `dsdl.geometry.Label` objects.\n    \"\"\"\nself._labels = {}\n</code></pre>"},{"location":"api_reference/dsdl_geometry/registry/#dsdl.geometry.registry.LabelRegistry.clear","title":"<code>clear()</code>","text":"<p>Clear all the registered objects in the current <code>Registry</code> object.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/registry.py</code> <pre><code>def clear(self):\n\"\"\"Clear all the registered objects in the current `Registry` object.\n    \"\"\"\nself._labels = {}\n</code></pre>"},{"location":"api_reference/dsdl_geometry/registry/#dsdl.geometry.registry.LabelRegistry.get","title":"<code>get(registry_name)</code>","text":"<p>Get the <code>Label</code> object when given the registry name.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <p>The registry name to be queried.</p> required <p>Returns:</p> Type Description <code>dsdl.geometry.Label</code> <p>The <code>Label</code> object coresponding the given registry name.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/registry.py</code> <pre><code>def get(self, registry_name):\n\"\"\"Get the `Label` object when given the registry name.\n    Args:\n        name: The registry name to be queried.\n    Returns:\n        (dsdl.geometry.Label): The `Label` object coresponding the given registry name.\n    \"\"\"\nif registry_name not in self._labels:\nraise ClassNotFoundError\nreturn self._labels[registry_name]\n</code></pre>"},{"location":"api_reference/dsdl_geometry/registry/#dsdl.geometry.registry.LabelRegistry.registry","title":"<code>registry(label)</code>","text":"<p>Register a given <code>Label</code> objects into the current <code>Registry</code> object.</p> <p>Parameters:</p> Name Type Description Default <code>label(dsdl.geometry.Label)</code> <p>The <code>Label</code> object to be registered.</p> required Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/registry.py</code> <pre><code>def registry(self, label):\n\"\"\"Register a given `Label` objects into the current `Registry` object.\n    Args:\n        label(dsdl.geometry.Label): The `Label` object to be registered.\n    \"\"\"\nregistry_name = label.registry_name\nif registry_name in self._labels:\n# raise ClassHasDefinedError(f\"The label {label.registry_name} has been registered.\")\nClassHasDefinedWarning(\nf\"The label {label.registry_name} has been registered, it will be replaced bt this updated one.\")\nself._labels[registry_name] = label\n</code></pre>"},{"location":"api_reference/dsdl_geometry/registry/#dsdl.geometry.registry.Registry","title":"<code>Registry</code>","text":"Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/registry.py</code> <pre><code>class Registry:\ndef __init__(self, name):\n\"\"\"A collection to register given `dsdl.types.Struct` classes or `dsdl.geometry.ClassDomain` classes.\n        Args:\n            name: The name of the current `Registry` object.\n        \"\"\"\nself._name = name\nself._map = dict()\nself._names_contained = []\n@property\ndef name(self):\n\"\"\"\n        Returns:\n            The name of the current `Registry` object.\n        \"\"\"\nreturn self._name\ndef register(self, name, cls):\n\"\"\"Register a given `Struct` or `ClassDomain` class into the current `Registry` object.\n        Args:\n            name(str): The registry name of the given `Struct` class.\n            cls(dsdl.types.Struct or dsdl.geometry.ClassDomain): The `Struct` class to be registered.\n        \"\"\"\n# NOTICE: Since this method is called when models are imported,\n# it cannot perform imports because of the risk of import loops.\nif name in self._map:\n# raise ClassHasDefinedError\nClassHasDefinedWarning(f\"Class '{name}' has been registered, it will be replaced by this updated one.\")\nelse:\nself._names_contained.append(name)\nself._map[name] = cls\ndef get(self, name):\n\"\"\"Get the `Struct` class when given the registry name.\n        Args:\n            name: The registry name to be queried.\n        Returns:\n            (dsdl.types.Struct or dsdl.geometry.ClassDomain): The `Struct` class coresponding the given registry name.\n        \"\"\"\nif name not in self._map:\nraise ClassNotFoundError(f\"Class '{name}' is not defined.\")\nreturn self._map[name]\ndef clear(self):\n\"\"\"Clear all the registered classes in the current `Registry` object.\n        \"\"\"\nself._map = {}\ndef names_contained(self):\n\"\"\"Return all the registered classes' names in the current `Registry` object.\n        \"\"\"\nreturn self._names_contained\ndef __contains__(self, name):\nreturn name in self._names_contained\n</code></pre>"},{"location":"api_reference/dsdl_geometry/registry/#dsdl.geometry.registry.Registry.name","title":"<code>name</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The name of the current <code>Registry</code> object.</p>"},{"location":"api_reference/dsdl_geometry/registry/#dsdl.geometry.registry.Registry.__init__","title":"<code>__init__(name)</code>","text":"<p>A collection to register given <code>dsdl.types.Struct</code> classes or <code>dsdl.geometry.ClassDomain</code> classes.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <p>The name of the current <code>Registry</code> object.</p> required Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/registry.py</code> <pre><code>def __init__(self, name):\n\"\"\"A collection to register given `dsdl.types.Struct` classes or `dsdl.geometry.ClassDomain` classes.\n    Args:\n        name: The name of the current `Registry` object.\n    \"\"\"\nself._name = name\nself._map = dict()\nself._names_contained = []\n</code></pre>"},{"location":"api_reference/dsdl_geometry/registry/#dsdl.geometry.registry.Registry.clear","title":"<code>clear()</code>","text":"<p>Clear all the registered classes in the current <code>Registry</code> object.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/registry.py</code> <pre><code>def clear(self):\n\"\"\"Clear all the registered classes in the current `Registry` object.\n    \"\"\"\nself._map = {}\n</code></pre>"},{"location":"api_reference/dsdl_geometry/registry/#dsdl.geometry.registry.Registry.get","title":"<code>get(name)</code>","text":"<p>Get the <code>Struct</code> class when given the registry name.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <p>The registry name to be queried.</p> required <p>Returns:</p> Type Description <code>dsdl.types.Struct or dsdl.geometry.ClassDomain</code> <p>The <code>Struct</code> class coresponding the given registry name.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/registry.py</code> <pre><code>def get(self, name):\n\"\"\"Get the `Struct` class when given the registry name.\n    Args:\n        name: The registry name to be queried.\n    Returns:\n        (dsdl.types.Struct or dsdl.geometry.ClassDomain): The `Struct` class coresponding the given registry name.\n    \"\"\"\nif name not in self._map:\nraise ClassNotFoundError(f\"Class '{name}' is not defined.\")\nreturn self._map[name]\n</code></pre>"},{"location":"api_reference/dsdl_geometry/registry/#dsdl.geometry.registry.Registry.names_contained","title":"<code>names_contained()</code>","text":"<p>Return all the registered classes' names in the current <code>Registry</code> object.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/registry.py</code> <pre><code>def names_contained(self):\n\"\"\"Return all the registered classes' names in the current `Registry` object.\n    \"\"\"\nreturn self._names_contained\n</code></pre>"},{"location":"api_reference/dsdl_geometry/registry/#dsdl.geometry.registry.Registry.register","title":"<code>register(name, cls)</code>","text":"<p>Register a given <code>Struct</code> or <code>ClassDomain</code> class into the current <code>Registry</code> object.</p> <p>Parameters:</p> Name Type Description Default <code>name(str)</code> <p>The registry name of the given <code>Struct</code> class.</p> required <code>cls(dsdl.types.Struct</code> <code>or dsdl.geometry.ClassDomain</code> <p>The <code>Struct</code> class to be registered.</p> required Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/registry.py</code> <pre><code>def register(self, name, cls):\n\"\"\"Register a given `Struct` or `ClassDomain` class into the current `Registry` object.\n    Args:\n        name(str): The registry name of the given `Struct` class.\n        cls(dsdl.types.Struct or dsdl.geometry.ClassDomain): The `Struct` class to be registered.\n    \"\"\"\n# NOTICE: Since this method is called when models are imported,\n# it cannot perform imports because of the risk of import loops.\nif name in self._map:\n# raise ClassHasDefinedError\nClassHasDefinedWarning(f\"Class '{name}' has been registered, it will be replaced by this updated one.\")\nelse:\nself._names_contained.append(name)\nself._map[name] = cls\n</code></pre>"},{"location":"api_reference/dsdl_geometry/rotate_box/","title":"dsdl.geometry.rotate_box","text":""},{"location":"api_reference/dsdl_geometry/rotate_box/#dsdl.geometry.rotate_box.RBBox","title":"<code>RBBox</code>","text":"<p>         Bases: <code>BaseGeometry</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/rotate_box.py</code> <pre><code>class RBBox(BaseGeometry):\ndef __init__(self, value, mode=\"xywht\", measure=\"radian\"):\n\"\"\"A Geometry class which abstracts a rotated bounding box object.\n        Args:\n            value: The value of the current rotated bounding box.\n                   When the `mode` is `\"xywht\"`,\n                   the format is [x, y, w, h, t], which are the bounding box's center point horizontal axis,\n                   the bounding box's center point vertical axis, the bounding box's width the bounxing box's height,\n                   and the bounding box's rotate angle (in radians).\n                   Whe the `mode` is `\"xyxy\"`,\n                   the format is `[[x1, y1], [x2, y2], [x3, y3], [x4, y4]]`, which represents the coordinates of the bounding box's four vertices.\n            mode: The mode of the given `value`. Only `\"xywht\"` and `\"xyxy\"` are permitted.\n        \"\"\"\nassert mode in (\"xywht\", \"xyxy\") and measure in (\"radian\", \"degree\")\nif mode == \"xywht\":\nself._polygon = None\nif measure == \"degree\":\nvalue = value.copy()\nvalue[-1] = value[-1] / 180 * math.pi\nself._rbbox = value\nelse:\nself._polygon = [value[i:i + 2] for i in (0, 2, 4, 6)]\nself._rbbox = None\n@staticmethod\ndef rbbox2polygon(value):\n\"\"\"Convert the `xywht` mode bounding box into `xyxy` mode.\n        Args:\n            value: The `xywht` mode bounding box's value.\n        Returns:\n            The coresponding `xyxy` mode bounding box's value.\n        \"\"\"\nx, y, width, height, angle = value\ncosA, sinA = math.cos(angle), math.sin(angle)\ndef _rotate(p_):  # clockwise\nx_, y_ = p_\nx_r = (x_ - x) * cosA - (y_ - y) * sinA + x\ny_r = (x_ - x) * sinA + (y_ - y) * cosA + y\nreturn [x_r, y_r]\nx_l, x_r, y_t, y_b = x - width / 2, x + width / 2, y - height / 2, y + height / 2\np_lt, p_lb, p_rt, p_rb = [x_l, y_t], [x_l, y_b], [x_r, y_t], [x_r, y_b]\nreturn [_rotate(p_lt), _rotate(p_lb), _rotate(p_rb), _rotate(p_rt)]\ndef point_for_draw(self, mode: str = \"lt\"):\n\"\"\"\n        Get the point's coordinate where a legend is fit to draw.\n        Args:\n            mode: The position model. Only \"lb\", \"lt\", \"rb\", \"rt\" are permitted, which mean get the coordinate of left bottom,\n                left top, right bottom and right top corresponding.\n        Returns:\n            The coordinate corresponding to the `mode`, whose format is [x, y].\n        \"\"\"\nassert mode in (\"lb\", \"lt\", \"rb\", \"rt\")\nif mode == \"lt\":\np = min(self.polygon_value, key=lambda x: x[0] + x[1])\nelif mode == \"lb\":\np = min(self.polygon_value, key=lambda x: x[0] - x[1])\nelif mode == \"rt\":\np = min(self.polygon_value, key=lambda x: -x[0] + x[1])\nelse:  # rb\np = min(self.polygon_value, key=lambda x: -x[0] - x[1])\np = [int(_) for _ in p]\nreturn p\n@staticmethod\ndef polygon2rbbox(value):\n\"\"\"Converted the `xyxy` mode bounding box into `xywht` mode.\n        Args:\n            value: The `xyxy` mode bounding box's value.\n        Returns:\n            The coresponding `xywht` mode bounding box's value.\n        \"\"\"\nres = cv2.minAreaRect(np.array(value).astype(np.int32))\nx, y = res[0]\nwidth, height = res[1]  # width is \"first edge\"\nangle = res[2]\nif width &lt; height:\nwidth, height = height, width\nangle = angle + 90\nangle = 1 - angle / 180 * math.pi\nreturn [x, y, width, height, angle]\n@property\ndef polygon_value(self):\n\"\"\"Get the `xyxy` mode bounding box's value.\n        Returns:\n            The `xyxy` mode bounding box's value.\n        \"\"\"\nif self._polygon is None:\nself._polygon = self.rbbox2polygon(self._rbbox)\nreturn self._polygon\n@property\ndef rbbox_value(self):\n\"\"\"Get the `xywht` mode bounding box's value.\n        Returns:\n            The `xywht` mode bounding box's value.\n        \"\"\"\nif self._rbbox is None:\nself._rbbox = self.polygon2rbbox(self._polygon)\nreturn self._rbbox\ndef visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current rotated bounding box on an given image.\n        Args:\n            image: The image where the rotated bounding box to be drawn.\n            palette: The palette which stores the color of different category name.\n            **kwargs: Other annotations which may be used when drawing the current bounding box, such as `Label` annotation.\n        Returns:\n            The image where the current rotated bounding box has been drawn on.\n        \"\"\"\ncolor = (0, 255, 0)\nif \"label\" in kwargs:\nfor label in kwargs[\"label\"].values():\nif label.category_name not in palette:\npalette[label.category_name] = tuple(np.random.randint(0, 255, size=[3]))\ncolor = palette[label.category_name]\npoly = Image.new('RGBA', image.size[:2])\npdraw = ImageDraw.Draw(poly)\npdraw.polygon([tuple(_) for _ in self.polygon_value], fill=(*color, 127), outline=(*color, 255))\nimage.paste(poly, mask=poly)\ndel pdraw\nreturn image\ndef __repr__(self):\nx, y, w, h, angle = self.rbbox_value\nx, y, w, h, angle = int(x), int(y), int(w), int(h), int(angle / math.pi * 180)\nreturn f\"[{x}, {y}, {w}, {h}, {angle}\u00b0]\"\n</code></pre>"},{"location":"api_reference/dsdl_geometry/rotate_box/#dsdl.geometry.rotate_box.RBBox.polygon_value","title":"<code>polygon_value</code>  <code>property</code>","text":"<p>Get the <code>xyxy</code> mode bounding box's value.</p> <p>Returns:</p> Type Description <p>The <code>xyxy</code> mode bounding box's value.</p>"},{"location":"api_reference/dsdl_geometry/rotate_box/#dsdl.geometry.rotate_box.RBBox.rbbox_value","title":"<code>rbbox_value</code>  <code>property</code>","text":"<p>Get the <code>xywht</code> mode bounding box's value.</p> <p>Returns:</p> Type Description <p>The <code>xywht</code> mode bounding box's value.</p>"},{"location":"api_reference/dsdl_geometry/rotate_box/#dsdl.geometry.rotate_box.RBBox.__init__","title":"<code>__init__(value, mode='xywht', measure='radian')</code>","text":"<p>A Geometry class which abstracts a rotated bounding box object.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <p>The value of the current rotated bounding box.    When the <code>mode</code> is <code>\"xywht\"</code>,    the format is [x, y, w, h, t], which are the bounding box's center point horizontal axis,    the bounding box's center point vertical axis, the bounding box's width the bounxing box's height,    and the bounding box's rotate angle (in radians).    Whe the <code>mode</code> is <code>\"xyxy\"</code>,    the format is <code>[[x1, y1], [x2, y2], [x3, y3], [x4, y4]]</code>, which represents the coordinates of the bounding box's four vertices.</p> required <code>mode</code> <p>The mode of the given <code>value</code>. Only <code>\"xywht\"</code> and <code>\"xyxy\"</code> are permitted.</p> <code>'xywht'</code> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/rotate_box.py</code> <pre><code>def __init__(self, value, mode=\"xywht\", measure=\"radian\"):\n\"\"\"A Geometry class which abstracts a rotated bounding box object.\n    Args:\n        value: The value of the current rotated bounding box.\n               When the `mode` is `\"xywht\"`,\n               the format is [x, y, w, h, t], which are the bounding box's center point horizontal axis,\n               the bounding box's center point vertical axis, the bounding box's width the bounxing box's height,\n               and the bounding box's rotate angle (in radians).\n               Whe the `mode` is `\"xyxy\"`,\n               the format is `[[x1, y1], [x2, y2], [x3, y3], [x4, y4]]`, which represents the coordinates of the bounding box's four vertices.\n        mode: The mode of the given `value`. Only `\"xywht\"` and `\"xyxy\"` are permitted.\n    \"\"\"\nassert mode in (\"xywht\", \"xyxy\") and measure in (\"radian\", \"degree\")\nif mode == \"xywht\":\nself._polygon = None\nif measure == \"degree\":\nvalue = value.copy()\nvalue[-1] = value[-1] / 180 * math.pi\nself._rbbox = value\nelse:\nself._polygon = [value[i:i + 2] for i in (0, 2, 4, 6)]\nself._rbbox = None\n</code></pre>"},{"location":"api_reference/dsdl_geometry/rotate_box/#dsdl.geometry.rotate_box.RBBox.point_for_draw","title":"<code>point_for_draw(mode='lt')</code>","text":"<p>Get the point's coordinate where a legend is fit to draw.</p> <p>Parameters:</p> Name Type Description Default <code>mode</code> <code>str</code> <p>The position model. Only \"lb\", \"lt\", \"rb\", \"rt\" are permitted, which mean get the coordinate of left bottom, left top, right bottom and right top corresponding.</p> <code>'lt'</code> <p>Returns:</p> Type Description <p>The coordinate corresponding to the <code>mode</code>, whose format is [x, y].</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/rotate_box.py</code> <pre><code>def point_for_draw(self, mode: str = \"lt\"):\n\"\"\"\n    Get the point's coordinate where a legend is fit to draw.\n    Args:\n        mode: The position model. Only \"lb\", \"lt\", \"rb\", \"rt\" are permitted, which mean get the coordinate of left bottom,\n            left top, right bottom and right top corresponding.\n    Returns:\n        The coordinate corresponding to the `mode`, whose format is [x, y].\n    \"\"\"\nassert mode in (\"lb\", \"lt\", \"rb\", \"rt\")\nif mode == \"lt\":\np = min(self.polygon_value, key=lambda x: x[0] + x[1])\nelif mode == \"lb\":\np = min(self.polygon_value, key=lambda x: x[0] - x[1])\nelif mode == \"rt\":\np = min(self.polygon_value, key=lambda x: -x[0] + x[1])\nelse:  # rb\np = min(self.polygon_value, key=lambda x: -x[0] - x[1])\np = [int(_) for _ in p]\nreturn p\n</code></pre>"},{"location":"api_reference/dsdl_geometry/rotate_box/#dsdl.geometry.rotate_box.RBBox.polygon2rbbox","title":"<code>polygon2rbbox(value)</code>  <code>staticmethod</code>","text":"<p>Converted the <code>xyxy</code> mode bounding box into <code>xywht</code> mode.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <p>The <code>xyxy</code> mode bounding box's value.</p> required <p>Returns:</p> Type Description <p>The coresponding <code>xywht</code> mode bounding box's value.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/rotate_box.py</code> <pre><code>@staticmethod\ndef polygon2rbbox(value):\n\"\"\"Converted the `xyxy` mode bounding box into `xywht` mode.\n    Args:\n        value: The `xyxy` mode bounding box's value.\n    Returns:\n        The coresponding `xywht` mode bounding box's value.\n    \"\"\"\nres = cv2.minAreaRect(np.array(value).astype(np.int32))\nx, y = res[0]\nwidth, height = res[1]  # width is \"first edge\"\nangle = res[2]\nif width &lt; height:\nwidth, height = height, width\nangle = angle + 90\nangle = 1 - angle / 180 * math.pi\nreturn [x, y, width, height, angle]\n</code></pre>"},{"location":"api_reference/dsdl_geometry/rotate_box/#dsdl.geometry.rotate_box.RBBox.rbbox2polygon","title":"<code>rbbox2polygon(value)</code>  <code>staticmethod</code>","text":"<p>Convert the <code>xywht</code> mode bounding box into <code>xyxy</code> mode.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <p>The <code>xywht</code> mode bounding box's value.</p> required <p>Returns:</p> Type Description <p>The coresponding <code>xyxy</code> mode bounding box's value.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/rotate_box.py</code> <pre><code>@staticmethod\ndef rbbox2polygon(value):\n\"\"\"Convert the `xywht` mode bounding box into `xyxy` mode.\n    Args:\n        value: The `xywht` mode bounding box's value.\n    Returns:\n        The coresponding `xyxy` mode bounding box's value.\n    \"\"\"\nx, y, width, height, angle = value\ncosA, sinA = math.cos(angle), math.sin(angle)\ndef _rotate(p_):  # clockwise\nx_, y_ = p_\nx_r = (x_ - x) * cosA - (y_ - y) * sinA + x\ny_r = (x_ - x) * sinA + (y_ - y) * cosA + y\nreturn [x_r, y_r]\nx_l, x_r, y_t, y_b = x - width / 2, x + width / 2, y - height / 2, y + height / 2\np_lt, p_lb, p_rt, p_rb = [x_l, y_t], [x_l, y_b], [x_r, y_t], [x_r, y_b]\nreturn [_rotate(p_lt), _rotate(p_lb), _rotate(p_rb), _rotate(p_rt)]\n</code></pre>"},{"location":"api_reference/dsdl_geometry/rotate_box/#dsdl.geometry.rotate_box.RBBox.visualize","title":"<code>visualize(image, palette, **kwargs)</code>","text":"<p>Draw the current rotated bounding box on an given image.</p> <p>Parameters:</p> Name Type Description Default <code>image</code> <p>The image where the rotated bounding box to be drawn.</p> required <code>palette</code> <p>The palette which stores the color of different category name.</p> required <code>**kwargs</code> <p>Other annotations which may be used when drawing the current bounding box, such as <code>Label</code> annotation.</p> <code>{}</code> <p>Returns:</p> Type Description <p>The image where the current rotated bounding box has been drawn on.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/rotate_box.py</code> <pre><code>def visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current rotated bounding box on an given image.\n    Args:\n        image: The image where the rotated bounding box to be drawn.\n        palette: The palette which stores the color of different category name.\n        **kwargs: Other annotations which may be used when drawing the current bounding box, such as `Label` annotation.\n    Returns:\n        The image where the current rotated bounding box has been drawn on.\n    \"\"\"\ncolor = (0, 255, 0)\nif \"label\" in kwargs:\nfor label in kwargs[\"label\"].values():\nif label.category_name not in palette:\npalette[label.category_name] = tuple(np.random.randint(0, 255, size=[3]))\ncolor = palette[label.category_name]\npoly = Image.new('RGBA', image.size[:2])\npdraw = ImageDraw.Draw(poly)\npdraw.polygon([tuple(_) for _ in self.polygon_value], fill=(*color, 127), outline=(*color, 255))\nimage.paste(poly, mask=poly)\ndel pdraw\nreturn image\n</code></pre>"},{"location":"api_reference/dsdl_geometry/segmap/","title":"dsdl.geometry.segmap","text":""},{"location":"api_reference/dsdl_geometry/segmap/#dsdl.geometry.segmap.SegmentationMap","title":"<code>SegmentationMap</code>","text":"<p>         Bases: <code>Image</code></p> <p>A Geometry class for semantic segmentation map.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/segmap.py</code> <pre><code>class SegmentationMap(Image):\n\"\"\"\n    A Geometry class for semantic segmentation map.\n    \"\"\"\ndef __init__(self, value, dom, file_reader):\n\"\"\"A Geometry class which abstracts a semantic segmentation map object.\n        Args:\n            value: The relative path of the current semantic segmentation map image.\n            file_reader: The file reader object of the current semantic segmentation map image.\n            dom: The current semantic segmentation map's class domain.\n        \"\"\"\nsuper().__init__(value, file_reader)\nif isinstance(dom, list):\nassert len(dom) == 1, \"You can only assign one class dom in LabelMapField.\"\ndom = dom[0]\nself._dom = dom\n@property\ndef class_domain(self):\n\"\"\"\n        Returns:\n            The current semantic segmentation map's class domain.\n        \"\"\"\nreturn self._dom\ndef visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current semantic segmentation map on an given image.\n        Args:\n            image: The image where the semantic segmentation map to be drawn.\n            palette: The palette which stores the color of different category name.\n            **kwargs: Other annotations which may be used when drawing the current semantic segmentation map.\n        Returns:\n            The image where the current semantic segmentation map has been drawn on.\n        \"\"\"\nseg = self.to_array()\ncolor_seg = np.zeros((seg.shape[0], seg.shape[1], 3), dtype=np.uint8)\ncategory_ids = np.unique(seg)\nif self.class_domain.__name__ == \"_LabelMapDefaultDomain\":\ncategory_ids = category_ids + 1\nlabel_lst = []\nfor category_id in category_ids:\nif int(category_id) &gt; len(self._dom) or int(category_id) &lt; 1:\ncontinue\nlabel = self._dom.get_label(int(category_id))\ncategory_name = label.category_name\nif category_name not in palette:\npalette[category_name] = tuple(np.random.randint(0, 255, size=[3]))\nlabel_lst.append(label)\ncolor_seg[seg == category_id, :] = np.array(palette[category_name])\noverlay = Image_.fromarray(color_seg).convert(\"RGBA\")\noverlayed = Image_.blend(image, overlay, 0.5)\nLabelList(label_lst).visualize(image=overlayed, palette=palette, bbox={\"temp\": BBox([0, 0, 0, 0])})\nreturn overlayed\n</code></pre>"},{"location":"api_reference/dsdl_geometry/segmap/#dsdl.geometry.segmap.SegmentationMap.class_domain","title":"<code>class_domain</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The current semantic segmentation map's class domain.</p>"},{"location":"api_reference/dsdl_geometry/segmap/#dsdl.geometry.segmap.SegmentationMap.__init__","title":"<code>__init__(value, dom, file_reader)</code>","text":"<p>A Geometry class which abstracts a semantic segmentation map object.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <p>The relative path of the current semantic segmentation map image.</p> required <code>file_reader</code> <p>The file reader object of the current semantic segmentation map image.</p> required <code>dom</code> <p>The current semantic segmentation map's class domain.</p> required Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/segmap.py</code> <pre><code>def __init__(self, value, dom, file_reader):\n\"\"\"A Geometry class which abstracts a semantic segmentation map object.\n    Args:\n        value: The relative path of the current semantic segmentation map image.\n        file_reader: The file reader object of the current semantic segmentation map image.\n        dom: The current semantic segmentation map's class domain.\n    \"\"\"\nsuper().__init__(value, file_reader)\nif isinstance(dom, list):\nassert len(dom) == 1, \"You can only assign one class dom in LabelMapField.\"\ndom = dom[0]\nself._dom = dom\n</code></pre>"},{"location":"api_reference/dsdl_geometry/segmap/#dsdl.geometry.segmap.SegmentationMap.visualize","title":"<code>visualize(image, palette, **kwargs)</code>","text":"<p>Draw the current semantic segmentation map on an given image.</p> <p>Parameters:</p> Name Type Description Default <code>image</code> <p>The image where the semantic segmentation map to be drawn.</p> required <code>palette</code> <p>The palette which stores the color of different category name.</p> required <code>**kwargs</code> <p>Other annotations which may be used when drawing the current semantic segmentation map.</p> <code>{}</code> <p>Returns:</p> Type Description <p>The image where the current semantic segmentation map has been drawn on.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/segmap.py</code> <pre><code>def visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current semantic segmentation map on an given image.\n    Args:\n        image: The image where the semantic segmentation map to be drawn.\n        palette: The palette which stores the color of different category name.\n        **kwargs: Other annotations which may be used when drawing the current semantic segmentation map.\n    Returns:\n        The image where the current semantic segmentation map has been drawn on.\n    \"\"\"\nseg = self.to_array()\ncolor_seg = np.zeros((seg.shape[0], seg.shape[1], 3), dtype=np.uint8)\ncategory_ids = np.unique(seg)\nif self.class_domain.__name__ == \"_LabelMapDefaultDomain\":\ncategory_ids = category_ids + 1\nlabel_lst = []\nfor category_id in category_ids:\nif int(category_id) &gt; len(self._dom) or int(category_id) &lt; 1:\ncontinue\nlabel = self._dom.get_label(int(category_id))\ncategory_name = label.category_name\nif category_name not in palette:\npalette[category_name] = tuple(np.random.randint(0, 255, size=[3]))\nlabel_lst.append(label)\ncolor_seg[seg == category_id, :] = np.array(palette[category_name])\noverlay = Image_.fromarray(color_seg).convert(\"RGBA\")\noverlayed = Image_.blend(image, overlay, 0.5)\nLabelList(label_lst).visualize(image=overlayed, palette=palette, bbox={\"temp\": BBox([0, 0, 0, 0])})\nreturn overlayed\n</code></pre>"},{"location":"api_reference/dsdl_geometry/shape/","title":"dsdl.geometry.shape","text":""},{"location":"api_reference/dsdl_geometry/shape/#dsdl.geometry.shape.ImageShape","title":"<code>ImageShape</code>","text":"<p>         Bases: <code>Shape</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/shape.py</code> <pre><code>class ImageShape(Shape):\ndef __init__(self, value, mode=\"hw\"):\n\"\"\"A Geometry class which abstracts an image's shape.\n        Args:\n            value: A list which contains the width and height of the image.\n            mode: The shape mode, value should be `\"hw\"` or `\"wh\"`. When `mode==\"hw\"`, the `value` arg should be image's [height, width]\n                when `mode==\"wh\"', the `value` arg should be images's [width, height]\n        Attributes:\n            _width(int): The width of the image.\n            _height(int): The height of the image.\n        \"\"\"\nassert mode.lower() in (\"hw\", \"wh\")\nsuper(ImageShape, self).__init__(value, mode.lower(), \"image\")\nif mode == \"hw\":\nself._height, self._width = value[0], value[1]\nelse:\nself._width, self._height = value[0], value[1]\n@property\ndef height(self):\n\"\"\"\n        Returns:\n            The height of the image.\n        \"\"\"\nreturn self._height\n@property\ndef width(self):\n\"\"\"\n        Returns:\n            The width of the image.\n        \"\"\"\nreturn self._width\ndef __repr__(self):\nreturn f\"image height: {self.height}; image width: {self.width}\"\n</code></pre>"},{"location":"api_reference/dsdl_geometry/shape/#dsdl.geometry.shape.ImageShape.height","title":"<code>height</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The height of the image.</p>"},{"location":"api_reference/dsdl_geometry/shape/#dsdl.geometry.shape.ImageShape.width","title":"<code>width</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The width of the image.</p>"},{"location":"api_reference/dsdl_geometry/shape/#dsdl.geometry.shape.ImageShape.__init__","title":"<code>__init__(value, mode='hw')</code>","text":"<p>A Geometry class which abstracts an image's shape.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <p>A list which contains the width and height of the image.</p> required <code>mode</code> <p>The shape mode, value should be <code>\"hw\"</code> or <code>\"wh\"</code>. When <code>mode==\"hw\"</code>, the <code>value</code> arg should be image's [height, width] when <code>mode==\"wh\"', the</code>value` arg should be images's [width, height]</p> <code>'hw'</code> <p>Attributes:</p> Name Type Description <code>_width(int)</code> <p>The width of the image.</p> <code>_height(int)</code> <p>The height of the image.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/shape.py</code> <pre><code>def __init__(self, value, mode=\"hw\"):\n\"\"\"A Geometry class which abstracts an image's shape.\n    Args:\n        value: A list which contains the width and height of the image.\n        mode: The shape mode, value should be `\"hw\"` or `\"wh\"`. When `mode==\"hw\"`, the `value` arg should be image's [height, width]\n            when `mode==\"wh\"', the `value` arg should be images's [width, height]\n    Attributes:\n        _width(int): The width of the image.\n        _height(int): The height of the image.\n    \"\"\"\nassert mode.lower() in (\"hw\", \"wh\")\nsuper(ImageShape, self).__init__(value, mode.lower(), \"image\")\nif mode == \"hw\":\nself._height, self._width = value[0], value[1]\nelse:\nself._width, self._height = value[0], value[1]\n</code></pre>"},{"location":"api_reference/dsdl_geometry/shape/#dsdl.geometry.shape.Shape","title":"<code>Shape</code>","text":"<p>         Bases: <code>BaseGeometry</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/shape.py</code> <pre><code>class Shape(BaseGeometry):\ndef __init__(self, value, mode, media):\n\"\"\"A Geometry class which abstracts a media's shape.\n        Args:\n            value: A list which contains the shape information of the media.\n            mode: The shape mode, which represents the format of media'shape. For Exsample, an image shape's mode can be \"hw\" or \"wh\".\n            media: The media type, such as \"image\", \"video\" and so on.\n        Attributes:\n            _value(list[int]): The shape value of the media.\n            _media_type(str): The type of the media.\n            _mode(str): The mode of the media's shape.\n        \"\"\"\nmedia = media.lower()\nmode = mode.lower()\nself._media_type = media\nself._value = value\nself._mode = mode\n@property\ndef media_type(self):\n\"\"\"\n        Returns:\n            The media type of the current Shape object.\n        \"\"\"\nreturn self._media_type\n@property\ndef value(self):\n\"\"\"\n        Returns:\n            The shape value.\n        \"\"\"\nreturn self._value\n@property\ndef mode(self):\n\"\"\"\n        Returns:\n            The mode of the shape.\n        \"\"\"\nreturn self._mode\ndef __repr__(self):\nreturn f\"{self.media_type} shape: {self.value}\"\n</code></pre>"},{"location":"api_reference/dsdl_geometry/shape/#dsdl.geometry.shape.Shape.media_type","title":"<code>media_type</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The media type of the current Shape object.</p>"},{"location":"api_reference/dsdl_geometry/shape/#dsdl.geometry.shape.Shape.mode","title":"<code>mode</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The mode of the shape.</p>"},{"location":"api_reference/dsdl_geometry/shape/#dsdl.geometry.shape.Shape.value","title":"<code>value</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The shape value.</p>"},{"location":"api_reference/dsdl_geometry/shape/#dsdl.geometry.shape.Shape.__init__","title":"<code>__init__(value, mode, media)</code>","text":"<p>A Geometry class which abstracts a media's shape.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <p>A list which contains the shape information of the media.</p> required <code>mode</code> <p>The shape mode, which represents the format of media'shape. For Exsample, an image shape's mode can be \"hw\" or \"wh\".</p> required <code>media</code> <p>The media type, such as \"image\", \"video\" and so on.</p> required <p>Attributes:</p> Name Type Description <code>_value(list[int])</code> <p>The shape value of the media.</p> <code>_media_type(str)</code> <p>The type of the media.</p> <code>_mode(str)</code> <p>The mode of the media's shape.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/shape.py</code> <pre><code>def __init__(self, value, mode, media):\n\"\"\"A Geometry class which abstracts a media's shape.\n    Args:\n        value: A list which contains the shape information of the media.\n        mode: The shape mode, which represents the format of media'shape. For Exsample, an image shape's mode can be \"hw\" or \"wh\".\n        media: The media type, such as \"image\", \"video\" and so on.\n    Attributes:\n        _value(list[int]): The shape value of the media.\n        _media_type(str): The type of the media.\n        _mode(str): The mode of the media's shape.\n    \"\"\"\nmedia = media.lower()\nmode = mode.lower()\nself._media_type = media\nself._value = value\nself._mode = mode\n</code></pre>"},{"location":"api_reference/dsdl_geometry/text/","title":"dsdl.geometry.text","text":""},{"location":"api_reference/dsdl_geometry/text/#dsdl.geometry.text.Text","title":"<code>Text</code>","text":"<p>         Bases: <code>BaseGeometry</code>, <code>FontMixin</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/text.py</code> <pre><code>class Text(BaseGeometry, FontMixin):\ndef __init__(self, value):\n\"\"\"A Geometry class which abstracts a text annotation object.\n        Args:\n            value: The text annotation.\n        \"\"\"\nself._text = value\n@property\ndef value(self):\n\"\"\"\n        Returns:\n            The text of the current text annotation.\n        \"\"\"\nreturn self._text\n@property\ndef text(self):\n\"\"\"\n        Returns:\n            The text of the current text annotation.\n        \"\"\"\nreturn self._text\ndef visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current text annotation on an given image.\n        Args:\n            image: The image where the text annotation to be drawn.\n            palette: The palette which stores the color of different category name.\n            **kwargs: Other annotations which may be used when drawing the current text annotation, such as `BBox` annotation.\n        Returns:\n            The image where the current text annotation has been drawn on.\n        \"\"\"\ndraw_obj = ImageDraw.Draw(image)\ntext_color = (0, 255, 0)  # green\nif self.font is None:\nself.set_font(ImageFont.truetype(os.path.join(os.path.dirname(__file__), \"source\", \"Arial_Font.ttf\")))\nlabel_size = draw_obj.textsize(self.value, self.font)\nif \"bbox\" in kwargs:\ncoords = np.array([[item.xyxy[0], item.xyxy[3] - 1.2 * label_size[1]] for item in kwargs[\"bbox\"].values()])\nelif \"polygon\" in kwargs:\ncoords = np.array(\n[[item.point_for_draw(\"lb\")[0], item.point_for_draw(\"lb\")[1] - 1.2 * label_size[1]] for item in\nkwargs[\"polygon\"].values()])\nelif \"rotatedbbox\" in kwargs:\ncoords = np.array(\n[[item.point_for_draw(\"lb\")[0], item.point_for_draw(\"lb\")[1] - 1.2 * label_size[1]] for item in\nkwargs[\"rotatedbbox\"].values()])\nelse:\ncoords = np.array([[0, image.size[1] - 1.2 * label_size[1]]])\nfor coord in coords:\ndraw_obj.rectangle([tuple(coord), tuple(coord + label_size)], fill=(*text_color, 255))\ndraw_obj.text(tuple(coord), self.value, fill=(255, 255, 255, 255), font=self.font)\ndel draw_obj\nreturn image\ndef __repr__(self):\nreturn self._text\n</code></pre>"},{"location":"api_reference/dsdl_geometry/text/#dsdl.geometry.text.Text.text","title":"<code>text</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The text of the current text annotation.</p>"},{"location":"api_reference/dsdl_geometry/text/#dsdl.geometry.text.Text.value","title":"<code>value</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The text of the current text annotation.</p>"},{"location":"api_reference/dsdl_geometry/text/#dsdl.geometry.text.Text.__init__","title":"<code>__init__(value)</code>","text":"<p>A Geometry class which abstracts a text annotation object.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <p>The text annotation.</p> required Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/text.py</code> <pre><code>def __init__(self, value):\n\"\"\"A Geometry class which abstracts a text annotation object.\n    Args:\n        value: The text annotation.\n    \"\"\"\nself._text = value\n</code></pre>"},{"location":"api_reference/dsdl_geometry/text/#dsdl.geometry.text.Text.visualize","title":"<code>visualize(image, palette, **kwargs)</code>","text":"<p>Draw the current text annotation on an given image.</p> <p>Parameters:</p> Name Type Description Default <code>image</code> <p>The image where the text annotation to be drawn.</p> required <code>palette</code> <p>The palette which stores the color of different category name.</p> required <code>**kwargs</code> <p>Other annotations which may be used when drawing the current text annotation, such as <code>BBox</code> annotation.</p> <code>{}</code> <p>Returns:</p> Type Description <p>The image where the current text annotation has been drawn on.</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/text.py</code> <pre><code>def visualize(self, image, palette, **kwargs):\n\"\"\"Draw the current text annotation on an given image.\n    Args:\n        image: The image where the text annotation to be drawn.\n        palette: The palette which stores the color of different category name.\n        **kwargs: Other annotations which may be used when drawing the current text annotation, such as `BBox` annotation.\n    Returns:\n        The image where the current text annotation has been drawn on.\n    \"\"\"\ndraw_obj = ImageDraw.Draw(image)\ntext_color = (0, 255, 0)  # green\nif self.font is None:\nself.set_font(ImageFont.truetype(os.path.join(os.path.dirname(__file__), \"source\", \"Arial_Font.ttf\")))\nlabel_size = draw_obj.textsize(self.value, self.font)\nif \"bbox\" in kwargs:\ncoords = np.array([[item.xyxy[0], item.xyxy[3] - 1.2 * label_size[1]] for item in kwargs[\"bbox\"].values()])\nelif \"polygon\" in kwargs:\ncoords = np.array(\n[[item.point_for_draw(\"lb\")[0], item.point_for_draw(\"lb\")[1] - 1.2 * label_size[1]] for item in\nkwargs[\"polygon\"].values()])\nelif \"rotatedbbox\" in kwargs:\ncoords = np.array(\n[[item.point_for_draw(\"lb\")[0], item.point_for_draw(\"lb\")[1] - 1.2 * label_size[1]] for item in\nkwargs[\"rotatedbbox\"].values()])\nelse:\ncoords = np.array([[0, image.size[1] - 1.2 * label_size[1]]])\nfor coord in coords:\ndraw_obj.rectangle([tuple(coord), tuple(coord + label_size)], fill=(*text_color, 255))\ndraw_obj.text(tuple(coord), self.value, fill=(255, 255, 255, 255), font=self.font)\ndel draw_obj\nreturn image\n</code></pre>"},{"location":"api_reference/dsdl_geometry/uniqueid/","title":"dsdl.geometry.uniqueid","text":""},{"location":"api_reference/dsdl_geometry/uniqueid/#dsdl.geometry.uniqueid.UniqueID","title":"<code>UniqueID</code>","text":"<p>         Bases: <code>BaseGeometry</code></p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/uniqueid.py</code> <pre><code>class UniqueID(BaseGeometry):\ndef __init__(self, value, id_type):\n\"\"\"A Geometry class which abstracts an unique id object.\n        Args:\n            value: The unique id value.\n            id_type: The role which the current unique id plays, such as \"frame id\", \"image id\" or \"annotation id\".\n        Attributes:\n            _value: The unique id value.\n            _field_key: The role which the current unique id plays, such as \"frame id\", \"image id\" or \"annotation id\".\n        \"\"\"\nself._value = value\nself._field_key = id_type\n@property\ndef value(self):\n\"\"\"\n        Returns:\n            The value of the current unique id.\n        \"\"\"\nreturn self._value\ndef __eq__(self, other):\nreturn self.value == other.value\ndef __repr__(self):\nreturn f\"ID type: {self._field_key} ID value: {self.value}\"\n</code></pre>"},{"location":"api_reference/dsdl_geometry/uniqueid/#dsdl.geometry.uniqueid.UniqueID.value","title":"<code>value</code>  <code>property</code>","text":"<p>Returns:</p> Type Description <p>The value of the current unique id.</p>"},{"location":"api_reference/dsdl_geometry/uniqueid/#dsdl.geometry.uniqueid.UniqueID.__init__","title":"<code>__init__(value, id_type)</code>","text":"<p>A Geometry class which abstracts an unique id object.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <p>The unique id value.</p> required <code>id_type</code> <p>The role which the current unique id plays, such as \"frame id\", \"image id\" or \"annotation id\".</p> required <p>Attributes:</p> Name Type Description <code>_value</code> <p>The unique id value.</p> <code>_field_key</code> <p>The role which the current unique id plays, such as \"frame id\", \"image id\" or \"annotation id\".</p> Source code in <code>/Users/bin/opt/anaconda3/envs/dsdl/lib/python3.8/site-packages/dsdl/geometry/uniqueid.py</code> <pre><code>def __init__(self, value, id_type):\n\"\"\"A Geometry class which abstracts an unique id object.\n    Args:\n        value: The unique id value.\n        id_type: The role which the current unique id plays, such as \"frame id\", \"image id\" or \"annotation id\".\n    Attributes:\n        _value: The unique id value.\n        _field_key: The role which the current unique id plays, such as \"frame id\", \"image id\" or \"annotation id\".\n    \"\"\"\nself._value = value\nself._field_key = id_type\n</code></pre>"},{"location":"dsdl_language/install/","title":"\u5b89\u88c5\u90e8\u7f72","text":""},{"location":"dsdl_language/overview/","title":"\u8bed\u8a00\u7279\u6027","text":"<p>\u6570\u636e\u662f\u4eba\u5de5\u667a\u80fd\u7684\u57fa\u77f3\u3002\u6570\u636e\u83b7\u53d6\u3001\u4f20\u64ad\u548c\u4f7f\u7528\u7684\u6548\u7387\u76f4\u63a5\u5f71\u54cd\u79d1\u6280\u53d1\u5c55\u548c\u5e94\u7528\u8fdb\u6b65\u3002\u5728\u4eba\u5de5\u667a\u80fd\u6f2b\u957f\u5386\u53f2\u4e2d\uff0c\u5927\u91cf\u7684\u6570\u636e\u96c6\u88ab\u5236\u9020\u548c\u53d1\u5e03\u63a8\u52a8\u6574\u4e2a\u9886\u57df\u7684\u53d1\u5c55\u3002\u7136\u800c\uff0c\u8fd9\u4e9b\u6570\u636e\u96c6\u57fa\u4e8e\u4e0d\u540c\u7684\u5f62\u5f0f\u5b9a\u4e49\uff0c\u4f7f\u5f97\u5176\u5728\u4f20\u64ad\u3001\u878d\u5408\u548c\u4f7f\u7528\u65f6\u6210\u672c\u8f83\u9ad8\u3002\u8fd9\u901a\u5e38\u8868\u73b0\u4e3a\u6bcf\u4e2a\u4f7f\u7528\u8005/\u56e2\u961f\u9700\u8981\u5236\u5b9a\u4e00\u5957\u65b0\u7684\u683c\u5f0f\uff0c\u5f00\u53d1\u5b9a\u5236\u5316\u5de5\u5177\u6216\u811a\u672c\u5c06\u65b0\u7684\u6570\u636e\u96c6\u6807\u51c6\u5316\u5408\u5e76\u5230\u5df2\u6709\u7684\u5de5\u4f5c\u6d41\u3002</p> <p>\u4e3a\u4e86\u514b\u670d\u4e0a\u8ff0\u95ee\u9898\uff0c\u6211\u4eec\u8bbe\u8ba1\u4e86\u4e00\u5957\u6570\u636e\u96c6\u63cf\u8ff0\u8bed\u8a00DSDL(Data Set Description Language)\u3002</p>"},{"location":"dsdl_language/overview/#1","title":"1. \u8bbe\u8ba1\u76ee\u6807","text":"<p>DSDL\u7684\u8bbe\u8ba1\u76ee\u6807\u603b\u5171\u6709\u4e09\u70b9\uff1a\u901a\u7528\u6027(Generic)\uff0c\u4fbf\u643a\u6027(Portable)\uff0c\u4ee5\u53ca\u53ef\u62d3\u5c55\u6027(Extensible)\u3002\u4e09\u79cd\u7279\u6027\u603b\u79f0\u4e3aGPE\u3002</p>"},{"location":"dsdl_language/overview/#11","title":"1.1 \u901a\u7528\u6027","text":"<p>\u8be5\u8bed\u8a00\u4e3b\u8981\u76ee\u7684\u662f\u63d0\u4f9b\u4e00\u79cd\u7edf\u4e00\u8868\u793a\u7684\u6807\u51c6\uff0c\u53ef\u4ee5\u8986\u76d6\u5404\u4e2a\u9886\u57df\u7684\u4eba\u5de5\u667a\u80fd\u6570\u636e\uff0c\u800c\u4e0d\u662f\u57fa\u4e8e\u7279\u5b9a\u7684\u4e00\u79cd\u4efb\u52a1\u6216\u8005\u67d0\u4e2a\u9886\u57df\u8bbe\u8ba1\u3002\u8be5\u8bed\u8a00\u5e94\u8be5\u53ef\u4ee5\u7528\u4e00\u81f4\u7684\u683c\u5f0f\u6765\u8868\u8fbe\u4e0d\u540c\u6a21\u6001\u548c\u7ed3\u6784\u7684\u6570\u636e\u3002</p>"},{"location":"dsdl_language/overview/#12","title":"1.2 \u4fbf\u643a\u6027","text":"<p>\u5199\u5b8c\u65e0\u9700\u4fee\u6539\uff0c\u968f\u5904\u5206\u53d1\u3002 </p> <p>\u6570\u636e\u96c6\u63cf\u8ff0\u53ef\u4ee5\u88ab\u5e7f\u6cdb\u7684\u5206\u53d1\u548c\u4ea4\u6362\uff0c\u4e0d\u9700\u8981\u4fee\u6539\u5c31\u53ef\u4ee5\u5728\u5404\u79cd\u73af\u5883\u4e0b\u4f7f\u7528\u3002\u8fd9\u4e00\u76ee\u6807\u7684\u5b9e\u73b0\u5bf9\u4e8e\u5efa\u7acb\u5f00\u53d1\u7e41\u8363\u751f\u6001\u81f3\u5173\u91cd\u8981\u3002\u4e3a\u6b64\u6211\u4eec\u9700\u8981\u4ed4\u7ec6\u68c0\u67e5\u5b9e\u73b0\u7ec6\u8282\uff0c\u4f7f\u5176\u5bf9\u5e95\u5c42\u8bbe\u65bd\u6216\u7ec4\u7ec7\u65e0\u611f\u77e5\uff0c\u4ece\u800c\u53bb\u9664\u57fa\u4e8e\u7279\u5b9a\u5047\u8bbe\u7684\u65e0\u5fc5\u8981\u4f9d\u8d56\u3002</p>"},{"location":"dsdl_language/overview/#13","title":"1.3 \u53ef\u62d3\u5c55\u6027","text":"<p>\u5728\u4e0d\u9700\u8981\u4fee\u6539\u6838\u5fc3\u6807\u51c6\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u62d3\u5c55\u8868\u8ff0\u7684\u8fb9\u754c\u3002\u5bf9\u4e8eC++\u6216\u8005Python\u7b49\u7f16\u7a0b\u8bed\u8a00\uff0c\u5e94\u7528\u8fb9\u754c\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u94fe\u63a5\u5e93\u6216\u8005\u8f6f\u4ef6\u5305\u5f97\u4ee5\u663e\u8457\u62d3\u5c55\uff0c\u800c\u6838\u5fc3\u8bed\u6cd5\u53ef\u4ee5\u5728\u5f88\u957f\u7684\u65f6\u95f4\u5185\u4fdd\u6301\u7a33\u5b9a\u3002\u57fa\u4e8e\u94fe\u63a5\u5e93\u548c\u5305\uff0c\u53ef\u4ee5\u5f62\u6210\u4e30\u5bcc\u7684\u751f\u6001\u7cfb\u7edf\uff0c\u4f7f\u5bf9\u5e94\u8bed\u8a00\u53ef\u4ee5\u957f\u65f6\u95f4\u4fdd\u6301\u6d3b\u8dc3\u5ea6\u548c\u53d1\u5c55\u3002</p>"},{"location":"dsdl_language/overview/#2","title":"2. \u8bbe\u8ba1\u603b\u89c8","text":"<p>\u6570\u636e\u96c6\u672c\u8d28\u4e0a\u662f\u5b58\u50a8\u5728\u6c38\u4e45\u5b58\u50a8\u4e2d\u7684\u6570\u636e\u7ed3\u6784\u3002\u901a\u5e38\u7531\u975e\u7ed3\u6784\u5316\u76ee\u6807\uff08\u5982\u56fe\u50cf\u3001\u89c6\u9891\u3001\u97f3\u9891\u3001\u6587\u672c\u7b49\uff09\u548c\u4e0e\u4e4b\u5173\u8054\u7684\u6807\u6ce8\u7ec4\u6210\u3002\u8fd9\u4e9b\u5143\u7d20\u6309\u7167\u7279\u5b9a\u7684\u65b9\u5f0f\u7ec4\u5408\u4e3a\u4e00\u4e2a\u6570\u636e\u96c6\u3002</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u4e0a\u8ff0\u63d0\u5230\u7684\u975e\u7ed3\u6784\u5316\u76ee\u6807\u901a\u5e38\u5305\u542b\u5927\u91cf\u7684\u6570\u636e\u3002\u4e3a\u4e86\u65b9\u4fbf\u6570\u636e\u7684\u5feb\u901f\u5206\u53d1\uff0c\u6211\u4eec\u7684\u8bbe\u8ba1\u5c06\u4e00\u4e2a\u6570\u636e\u96c6\u7684\u7ed3\u6784\u5316\u63cf\u8ff0\u4e0e\u975e\u7ed3\u6784\u5316\u5185\u5bb9\u5206\u79bb\u5f00\u3002</p> <p>\u4e0b\u9762\u662f\u8bed\u8a00\u8bbe\u8ba1\u7684\u5168\u9762\u603b\u7ed3\uff1a</p>"},{"location":"dsdl_language/overview/#21","title":"2.1 \u57fa\u7840\u6570\u636e\u6a21\u578b","text":"<p>DSDL\u4f7f\u7528\u57fa\u672c\u5143\u7d20\u7684\u96c6\u5408\u6765\u63cf\u8ff0\u4e00\u4e2a\u6570\u636e\u96c6\uff0c\u57fa\u672c\u5143\u7d20\u7531structs, lists, sets\u7b49\u5bb9\u5668\u7ec4\u6210\u3002</p> <ul> <li>\u57fa\u7840\u5143\u7d20(Basic elements) \uff1a\u6570\u636e\u96c6\u63cf\u8ff0\u4e2d\u7684\u72ec\u7acb\u5355\u5143\uff0c\u4e0d\u4ec5\u5305\u542b\u4e86\u8bf8\u5982\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u7b49\u57fa\u7840\u7c7b\u578b\uff0c\u4e5f\u5305\u542b\u4e86\u90a3\u4e9b\u53ef\u4ee5\u4fbf\u4e8e\u76ee\u6807\u5b9a\u4f4d\u3001\u6807\u6ce8\u7ed3\u679c\u8868\u8fbe\u7684\u5143\u7d20\u3002</li> <li>\u975e\u7ed3\u6784\u5316\u76ee\u6807(Unstructured objects)\uff1a\u4f8b\u5982\u56fe\u50cf\u3001\u89c6\u9891\u3001\u97f3\u9891\u3001\u6587\u672c\u7b49\u7279\u6b8a\u7684\u57fa\u672c\u5143\u7d20\uff0c\u56e0\u4e3a\u4ed6\u4eec\u5728\u6570\u636e\u96c6\u63cf\u8ff0\u4e2d\u662f\u4e0d\u53ef\u89c1\u7684\u3002\u5177\u4f53\u800c\u8a00\uff0c\u975e\u7ed3\u6784\u5316\u76ee\u6807\u7531\u76ee\u6807\u5b9a\u4f4d\u5668\u8868\u793a\uff0c\u7528\u6765\u6307\u5b9a\u5b83\u7684\u5b58\u653e\u4f4d\u7f6e\u800c\u4e0d\u662f\u5c06\u6574\u4e2a\u5a92\u4f53\u6587\u4ef6\u653e\u5165\u63cf\u8ff0\u4e2d\u3002\u53e6\u5916\uff0c\u53ef\u9009\u62e9\u7684\u989d\u5916\u63cf\u8ff0\u7b26\u53ef\u4ee5\u7528\u6765\u63d0\u4f9b\u76ee\u6807\u7684\u989d\u5916\u4fe1\u606f\uff0c\u4f8b\u5982\u4e00\u4e2a\u56fe\u50cf\u7684\u683c\u5f0f\u6216\u8005\u5206\u8fa8\u7387\u3002</li> <li>\u805a\u5408\u4f53(Aggregates)\uff1a\u5c06\u57fa\u7840\u5143\u7d20\u7ec4\u5408\u6210\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\u3002DSDL\u63d0\u4f9blist\u548cstruct\u7c7b\u578b\u6765\u8868\u793a\u6570\u636e\u7ed3\u6784\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5355\u4e2a\u6837\u672c\u7531\u4e00\u4e2a\u7ed3\u6784\u4f53\u8868\u793a\uff08\u591a\u4e2a\u5b57\u6bb5\u7684\u805a\u5408\uff09\uff0c\u800c\u6570\u636e\u96c6\u53c8\u7531\u4e00\u4e2a\u6837\u672c\u5217\u8868\u7ec4\u6210\u3002</li> </ul>"},{"location":"dsdl_language/overview/#22","title":"2.2 \u62d3\u5c55\u7c7b\u578b\u7cfb\u7edf","text":"<p>\u5728DSDL\u4e2d\uff0c\u6240\u6709\u7684\u5143\u7d20\u548c\u7ed3\u6784\u4f53\u5355\u5143\u90fd\u6709\u7c7b\u578b\u3002</p> <p>DSDL\u91c7\u7528\u4e86\u4e00\u79cd\u7b80\u5355\u800c_\u6613\u62d3\u5c55_\u7684\u7c7b\u578b\u7cfb\u7edf\u3002\u5177\u4f53\u5730\uff0cDSDL\u6709\u4e09\u79cd\u7c7b\u578b\uff1a</p> <ul> <li> <p>\u57fa\u7840\u7c7b\u578b(Primitive types)\uff1a\u5305\u542b\u5e03\u5c14\u7c7b\u578b\u3001\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u7b49\u57fa\u7840\u5143\u7d20\u503c\u7684\u7c7b\u578b\u3002 DSDL\u63d0\u4f9b\u4e86\u57fa\u7840\u7c7b\u578b\u7684\u7edf\u4e00\u5927\u96c6\u5408\u3002</p> </li> <li> <p>\u975e\u7ed3\u6784\u76ee\u6807\u7c7b(Unstructured object classes)\uff1a\u975e\u7ed3\u6784\u5316\u76ee\u6807\u7684\u62bd\u8c61\u3002\u4f8b\u5982\uff1a\u56fe\u50cf\u3001\u89c6\u9891\u3001\u97f3\u9891\u3001\u70b9\u4e91\u3001\u6587\u672c\u7b49\u7b49\u3002\u8fd9\u4e9b\u76ee\u6807\u5c3d\u7ba1\u5185\u90e8\u7ed3\u6784\u4e30\u5bcc\u591a\u6837\uff0c\u4f46\u5728\u6570\u636e\u96c6\u5b9a\u4e49\u4e2d\u4f1a\u88ab\u5f53\u6210\u4e0d\u53ef\u5206\u5272\u7684\u5355\u5143\u3002DSDL\u63d0\u4f9b\u4e00\u7cfb\u5217\u9884\u5b9a\u4e49\u597d\u7684\u975e\u7ed3\u6784\u5316\u76ee\u6807\u7c7b\u96c6\u5408\uff0c\u8986\u76d6\u5e38\u7528\u7684\u5e94\u7528\u573a\u666f\uff0c\u540c\u65f6\u5141\u8bb8\u5f00\u6e90\u529b\u91cf\u62d3\u5c55\u8be5\u96c6\u5408\uff0c\u901a\u8fc7\u6700\u5c0f\u63a5\u53e3\u96c6\u5408\u6ce8\u518c\u975e\u7ed3\u6784\u5316\u76ee\u6807\u7c7b\u8fbe\u5230\u8fd9\u4e00\u76ee\u7684\u3002</p> </li> <li> <p>\u7ed3\u6784\u4f53\u7c7b(Struct classes)\uff1aDSDL\u4e2d\u805a\u5408\u6570\u636e\u7ed3\u6784\u7684\u62bd\u8c61\u3002\u7ed3\u6784\u4f53\u7c7b\u4e2d\u7684\u6bcf\u4e2a\u5b9e\u4f8b\u88ab\u79f0\u4e3a\u4e00\u4e2a\u7ed3\u6784\u4f53(struct)\uff0c\u5305\u542b\u591a\u4e2a\u5b57\u6bb5\uff0c\u6bcf\u4e2a\u5b57\u6bb5\u6709\u81ea\u5df1\u7c7b\u578b\u3002\u7ed3\u6784\u4f53\u7684\u4e00\u4e2a\u91cd\u8981\u5e94\u7528\u662f\u8868\u8ff0\u6570\u636e\u6837\u672c\u3002DSDL\u4e3a\u6807\u51c6\u5e93\u4e2d\u7684\u5e38\u89c1\u4efb\u52a1\u63d0\u4f9b\u4e00\u5957\u9884\u5b9a\u4e49\u7684\u7ed3\u6784\u4f53\u7c7b\uff0c\u540c\u65f6\u5141\u8bb8\u7528\u6237\u9488\u5bf9\u7279\u6b8a\u4efb\u52a1\u81ea\u5b9a\u4e49\u7ed3\u6784\u4f53\u7c7b\u3002</p> </li> </ul> <p>\u6ce8\u610f\uff1a\u7c7b\u578b\u5fc5\u987b\u5728\u4f7f\u7528\u524d\u88ab\u5b9a\u4e49\uff08\u65e0\u8bba\u662f\u5185\u7f6e\u7c7b\u578b\u3001\u7b2c\u4e09\u65b9\u5b9a\u4e49\u7c7b\u578b\uff0c\u53c8\u6216\u8005\u662f\u7528\u6237\u81ea\u5b9a\u4e49\u7c7b\u578b\uff09\u3002\u5faa\u73af\u5f15\u7528(circular references)\u5728\u5f53\u524dDSDL\u4e2d\u662f\u4e0d\u5141\u8bb8\u7684\u3002</p>"},{"location":"dsdl_language/overview/#23-object-locators","title":"2.3 \u76ee\u6807\u5b9a\u4f4d\u5668 (Object locators)","text":"<p>\u5982\u524d\u6240\u8ff0\uff0c\u975e\u7ed3\u6784\u5316\u76ee\u6807\u5e76\u6ca1\u6709\u5b8c\u5168\u5d4c\u5165\u5230\u6570\u636e\u96c6\u63cf\u8ff0\u4e2d\u3002 \u5f85\u4e4b\u7531\u76ee\u6807\u5b9a\u4f4d\u5668\u6765\u8868\u793a\u3002\u5177\u4f53\u5730\uff0c\u76ee\u6807\u5b9a\u4f4d\u5668\u662f\u4e00\u79cd\u7279\u6b8a\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\u7c7b\u578b\u3002\u5f53\u5bf9\u5e94\u7684\u76ee\u6807\u88ab\u52a0\u8f7d\u65f6\u4f1a\u7ecf\u8fc7DSDL\u89e3\u6790\u5668\u8f6c\u6362\u6210\u4e00\u4e2a\u771f\u6b63\u7684\u5730\u5740\u3002</p> <p>\u76ee\u6807\u5b9a\u4f4d\u5668\u7684\u5f15\u5165\u4f7f\u7528\u5206\u79bb\u6570\u636e\u96c6\u4e2d\u7ed3\u6784\u5316\u63cf\u8ff0\u548c\u975e\u7ed3\u6784\u5316\u5a92\u4f53\u6587\u4ef6\u7684\u5173\u952e\u3002\u8fd9\u79cd\u65b9\u5f0f\u4f7f\u5f97\u65e0\u9700\u79fb\u52a8\u5927\u4f53\u91cf\u7684\u5a92\u4f53\u6570\u636e\uff0c\u4f7f\u6570\u636e\u96c6\u63cf\u8ff0\u5206\u53d1\u66f4\u52a0\u8f7b\u91cf\u5316\u3002\u4e0e\u6b64\u540c\u65f6\u5141\u8bb8\u5feb\u901f\u7684\u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u64cd\u4f5c\uff0c\u5982\uff1a\u7ec4\u5408\u591a\u4e2a\u96c6\u5408\u3001\u5408\u5e76\u5c5e\u6027\u6216\u8005\u53d6\u67d0\u4e2a\u5b50\u96c6\u3002</p>"},{"location":"dsdl_language/overview/#24-yamljson","title":"2.4 \u57fa\u4e8eYAML\u6216\u8005JSON","text":"<p>DSDL\u5c5e\u4e8e\u7279\u5b9a\u9886\u57df\u7684\u8bed\u8a00\uff0c\u57fa\u4e8e\u5f53\u524d\u6d41\u884c\u7684\u6570\u636e\u4ea4\u4e92\u8bed\u8a00YAML\u6216\u8005JSON\u8fdb\u884c\u5b9a\u4e49\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cYAML\u6216JSON\u4e2d\u7684\u5143\u7d20\u5728\u8bed\u8a00\u7ea7\u522b\u4e0a\u5e76\u4e0d\u4e0e\u7279\u5b9a\u7684\u542b\u4e49\u76f8\u5173\u8054\u3002\u800c\u6211\u4eec\u901a\u8fc7\u8d4b\u4e88\u8fd9\u4e9b\u5143\u7d20\u4ee5\u7279\u5b9a\u8bed\u4e49\uff0cDSDL\u53ef\u4ee5\u4ee5\u4e00\u79cd\u6709\u610f\u4e49\u7684\u65b9\u5f0f\u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u63cf\u8ff0\u3002</p> <p>\u8fd9\u79cd\u8bbe\u8ba1\u4f7f\u5f97\u4f7f\u7528\u8005\u53ef\u4ee5\u4f7f\u7528YAML\u548cJSON\u8bed\u8a00\u5bf9\u5e94\u7684\u4e30\u5bcc\u5de5\u5177\u7cfb\u7edf\u3002\u57fa\u4e8e\u8fd9\u4e9b\u5de5\u5177\uff0c\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u6784\u5efa\u4e00\u5957\u5b8c\u6574\u7cfb\u7edf\uff1a\u652f\u6301\u89e3\u6790\u3001\u6821\u9a8c\u548c\u67e5\u8be2\u7b49\u529f\u80fd\uff0c\u5e76\u57fa\u4e8e\u4e92\u8054\u7f51\u751f\u6001\u7cfb\u7edf\u8fdb\u884c\u4fbf\u6377\u5730\u4ea4\u4e92\u3002</p>"},{"location":"dsdl_language/tutorial/","title":"\u4f7f\u7528\u6559\u7a0b","text":""},{"location":"dsdl_language/examples/cv/","title":"\u8ba1\u7b97\u673a\u89c6\u89c9","text":"<pre><code>\u672c\u7ae0\u8282\u5b9a\u4e49\u7684\u6240\u6709\u7c7b\u90fd\u5c06\u901a\u8fc7\u6807\u51c6\u5e93cv\u63d0\u4f9b\u3002\u666e\u901a\u7528\u6237\u53ea\u9700\u901a\u8fc7import\u65b9\u5f0f\u5bfc\u5165cv\u6807\u51c6\u5e93\uff0c\u65e0\u9700\u81ea\u5df1\u5199\u7c7b\u522b\u5b9a\u4e49\u3002\n\n\u5728\u4e0b\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u540d\u4e3a``MyClassDom``\u7684\u7c7b\u522b\u57df\u3002\n</code></pre>"},{"location":"dsdl_language/examples/cv/#_2","title":"\u56fe\u50cf\u5206\u7c7b","text":"<p>\u56fe\u50cf\u5206\u7c7b\u4efb\u52a1\u662f\u7ed9\u6bcf\u5f20\u56fe\u50cf\u5206\u914d\u4e00\u4e2a\u7c7b\u522b\u6807\u7b7e\u3002</p> <p>\u7c7b\u5b9a\u4e49\u793a\u4f8b:</p> <pre><code>ImageClassificationSample:\n# Each sample contains an image together with a class label (optional).\n$def: struct\n$params: ['cdom'] $fields:\nimage: Image\nlabel: Label[dom=$cdom]\n$optional: ['label']\n</code></pre> <p>\u5176\u4e2d, <code>$optional</code>\u5b57\u6bb5\u5728\u6570\u636e\u6837\u4f8b\u4e2d\u53ef\u4ee5\u88ab\u7701\u7565\u3002\u5f53<code>$optional</code>\u4e2d<code>label</code>\u88ab\u5ffd\u7565\u65f6\uff0c\u5bf9\u5e94\u7684\u5b57\u6bb5\u503c\u5c06\u88ab\u8bbe\u7f6e\u6210\u4e00\u4e2a\u7a7a\u503c\uff08\u5bf9\u5e94Python\u4e2d\u7684<code>None</code>\uff09</p> <p>\u6570\u636e\u793a\u4f8b:</p> <pre><code>data:\nsample-type: ImageClassificationSample[cdom=MyClassDom]\nsample-path: $local\nsamples:\n- { image: \"xyz/0001.jpg\", label: \"cat\" }\n- { image: \"xyz/0002.jpg\", label: \"dog\" }\n- { image: \"xyz/0003.jpg\" }\n</code></pre>"},{"location":"dsdl_language/examples/cv/#_3","title":"\u76ee\u6807\u68c0\u6d4b","text":"<p>\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\u662f\u68c0\u6d4b\u7ed9\u5b9a\u56fe\u50cf\u4e2d\u7684\u6709\u610f\u4e49\u76ee\u6807\u3002\u6bcf\u4e2a\u88ab\u68c0\u6d4b\u7684\u76ee\u6807\u53ef\u4ee5\u88ab\u8868\u793a\u4e3a\u4e00\u4e2a\u5e26\u76ee\u6807\u7c7b\u522b\u4fe1\u606f\u7684\u8fb9\u754c\u6846\u3002</p> <p>\u7c7b\u5b9a\u4e49\u793a\u4f8b:</p> <pre><code>LocalObjectEntry:\n# Each sample contains a bounding box together a class label (optional).\n$def: struct\n$params: ['cdom']\n$fields:\nbbox: BBox\nlabel: Label[dom=$cdom]\n$optional: ['label']\nObjectDetectionSample:\n# Each sample contains an image together with a list of local objects.\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\nobjects: List[LocalObjectEntry[cdom=$cdom]]\n</code></pre> <p>\u6570\u636e\u793a\u4f8b:</p> <pre><code>data:\nsample-type: ObjectDetectionSample[cdom=MyClassDom]\nsample-path: $local\nsamples:\n- image: \"xyz/0001.jpg\"\nobjects: - { bbox: [x1, y1, w1, h1], label: 1 }\n- { bbox: [x2, y2, w2, h2], label: 2 }\n- { bbox: [x3, y3, w3, h3], label: 2 }\n- image: \"xyz/0002.jpg\"\nobjects: - { bbox: [x4, y4, w4, h4], label: 3 }\n- { bbox: [x5, y5, w5, h5], label: 4 }\n</code></pre>"},{"location":"dsdl_language/examples/cv/#_4","title":"\u5e26\u573a\u666f\u5206\u7c7b\u7684\u76ee\u6807\u68c0\u6d4b","text":"<p>\u5728\u67d0\u4e9b\u5e94\u7528\u4e2d\uff0c\u573a\u666f\u5206\u7c7b\uff08\u56fe\u50cf\u7ea7\u522b\uff09\u53ca\u76ee\u6807\u68c0\u6d4b\u4f1a\u7ec4\u6210\u4e00\u4e2a\u8054\u5408\u4efb\u52a1\u3002\u5bf9\u4e8e\u8fd9\u6837\u4e00\u4e2a\u4efb\u52a1\uff0c\u6211\u4eec\u6709\u4e24\u4e2a\u7c7b\u522b\u57df\uff0c\u8fd9\u91cc\u79f0\u4e3a<code>SceneDom</code> \u548c <code>ObjectDom</code>\uff0c\u5206\u522b\u9650\u5b9a\u573a\u666f\u7c7b\u522b\u548c\u76ee\u6807\u7c7b\u522b\u3002</p> <p>\u7c7b\u5b9a\u4e49\u793a\u4f8b:</p> <pre><code>SceneAndObjectSample:\n# Each samples contains an image, a scene label (optional)\n# together with a list of local objects.\n$def: struct\n$params: ['scenedom', 'objectdom']\n$fields:\nimage: Image sclabel: Label[dom=$scenedom]\nobjects: List[LocalObjectEntry[cdom=$objectdom]]\n$optional: ['sclabel']\n</code></pre> <p>\u6570\u636e\u793a\u4f8b:</p> <pre><code>data:\nsample-type: SceneAndObjectSample[scenedom=SceneDom, objectdom=ObjectDom]\nsample-path: $local\nsamples:\n- image: \"xyz/0001.jpg\"\nsclabel: \"street\"\nobjects: - { bbox: [x1, y1, w1, h1], label: 1 }\n- { bbox: [x2, y2, w2, h2], label: 2 }\n- { bbox: [x3, y3, w3, h3], label: 2 }\n- image: \"xyz/0002.jpg\"\nsclabel: \"river\"\nobjects: - { bbox: [x4, y4, w4, h4], label: 3 }\n- { bbox: [x5, y5, w5, h5], label: 4 }\n</code></pre>"},{"location":"dsdl_language/examples/cv/#_5","title":"\u56fe\u50cf\u5206\u5272","text":"<p>\u56fe\u50cf\u5206\u5272\u4efb\u52a1\u662f\u5bf9\u7ed9\u5b9a\u56fe\u50cf\u4e2d\u7684\u6bcf\u4e2a\u50cf\u7d20\u70b9\u6307\u5b9a\u50cf\u7d20\u7ea7\u6807\u7b7e\u3002\u60ef\u4f8b\u662f\u4f7f\u7528\u6807\u7b7e\u56fe\uff0c\u4e5f\u5c31\u662f\u5728\u4e00\u4e2a\u989d\u5916\u7684\u6587\u4ef6\u4e2d\u5b58\u50a8\u4e00\u4e2a\u975e\u7ed3\u6784\u5316\u76ee\u6807\u3002</p> <p>\u7c7b\u5b9a\u4e49\u793a\u4f8b:</p> <pre><code>ImageSegmentationSample:\n# Each sample contains an image together with a label map.\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\nlabelmap: LabelMap[dom=$cdom]\n</code></pre> <p>\u6570\u636e\u793a\u4f8b:</p> <pre><code>data:\nsample-type: ImageSegmentationSample[cdom=MyClassDom]\nsample-path: $local\nsamples:\n- { image: \"imgs/0001.jpg\", labelmap: \"maps/0001.ppm\" }\n- { image: \"imgs/0002.jpg\", labelmap: \"maps/0002.ppm\" }\n- { image: \"imgs/0003.jpg\", labelmap: \"maps/0003.ppm\" }\n</code></pre>"},{"location":"dsdl_language/lang/basic_types/","title":"\u57fa\u672c\u6570\u636e\u7c7b\u578b","text":""},{"location":"dsdl_language/lang/basic_types/#22","title":"2.2 \u57fa\u672c\u6570\u636e\u7c7b\u578b","text":"<p>\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff08basic types\uff09\u662fDSDL\u4e2d\u7684\u57fa\u672c\u5143\u7d20\u62bd\u8c61\u51fa\u6765\u7684\u4e00\u4e9b\u6570\u636e\u7c7b\u578b\u3002\u8fd9\u4e9b\u57fa\u672c\u6570\u636e\u7c7b\u578b\u7684\u5b9e\u4f8b\u662f\u6784\u5efa\u4e00\u4e2a\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u7684\u57fa\u7840\u6784\u5efa\u6a21\u5757\u3002</p> <p>\u6ce8\u610f\uff1a\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u6240\u4f7f\u7528\u7684JSON\u548cYAML\u683c\u5f0f\u672c\u8eab\u4e5f\u4f1a\u63d0\u4f9b\u4e86\u4e00\u4e9b\u8bed\u6cd5\u6765\u8868\u793a\u4e00\u4e9b\u7b80\u5355\u7684\u7c7b\u522b\uff0c\u6bd4\u5982\u5e03\u5c14\u7c7b\u578b\uff0c\u6570\u5b57\u7c7b\u578b\uff0c\u5b57\u7b26\u4e32\u7c7b\u578b\u3002\u5f53\u5728DSDL\u4e2d\u4f7f\u7528\u8fd9\u4e9b\u8bed\u6cd5\u65f6\u6765\u8868\u793a\u4e00\u4e2a\u503c\u65f6\uff0cDSDL\u4f1a\u4fdd\u7559\u8fd9\u4e9b\u503c\u5728JSON/YAML\u683c\u5f0f\u4e2d\u539f\u672c\u7684\u542b\u4e49\u3002\u9700\u8981\u6ce8\u610f\u7684\u5f88\u91cd\u8981\u7684\u4e00\u70b9\u662f\uff0cDSDL\u57fa\u672c\u6570\u636e\u7c7b\u578b\u548cJSON\u4e2d\u6570\u636e\u7c7b\u578b\u4e0d\u662f\u4e00\u5bf9\u4e00\u7684\u3002DSDL\u4e2d\u4e0d\u540c\u7684\u57fa\u672c\u6570\u636e\u7c7b\u578b\u53ef\u80fd\u4f1a\u4f7f\u7528\u76f8\u540c\u7684JSON\u7c7b\u578b\u6765\u8868\u793a\u4ed6\u4eec\u5404\u81ea\u7684\u503c\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u76ee\u6807\u5b9a\u4f4d\u5668\u7c7b\u578b\uff08<code>Loc</code>\uff09\u548c\u7c7b\u522b\u6807\u6ce8\u7c7b\u578b\uff08<code>Label</code>\uff09\u5728DSDL\u4e2d\u662f\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4f46\u662f\u4ed6\u4eec\u90fd\u4f7f\u7528\u4e86\u5b57\u7b26\u4e32\u7c7b\u578b\u6765\u8868\u793a\u4ed6\u4eec\u5404\u81ea\u7684\u503c\u3002</p>"},{"location":"dsdl_language/lang/basic_types/#221","title":"2.2.1 \u901a\u7528\u57fa\u672c\u6570\u636e\u7c7b\u578b","text":"<p>DSDL\u5b9a\u4e49\u4e864\u79cd\u901a\u7528\u7684\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3002\u8fd94\u79cd\u6570\u636e\u7c7b\u578b\u53ef\u4ee5\u88ab\u7b80\u5355\u5730\u89e3\u91ca\uff0c\u6ca1\u6709\u7279\u6b8a\u542b\u4e49\u3002</p> <ul> <li><code>Bool</code>\uff1a\u5e03\u5c14\u7c7b\u578b\uff0c\u503c\u53ef\u4ee5\u4e3a<code>true</code>\u6216<code>false</code>\u3002</li> <li><code>Int</code>\uff1a\u6574\u6570\u7c7b\u578b\uff0c\u503c\u53ef\u4ee5\u4e3a\u4efb\u610f\u7684\u6574\u6570\uff0c\u4f8b\u598212\uff0c-3\u62160\u3002\u5f53\u4e00\u4e2a\u6570\u5b57\u88ab\u58f0\u660e\u4e3a<code>Int</code>\u7c7b\u578b\u65f6\uff0cDSDL\u89e3\u91ca\u5668\u4f1a\u9a8c\u8bc1\u5b83\u662f\u5426\u771f\u7684\u662f\u4e00\u4e2a\u6574\u6570\u3002</li> <li><code>Num</code>\uff1a\u901a\u7528\u6570\u503c\u7c7b\u578b\uff0c\u503c\u53ef\u4ee5\u662f\u4efb\u4f55\u7684\u6570\u5b57\uff0c\u4f8b\u598212.5\uff0c-13\uff0c1.25e-6\u3002</li> <li><code>Str</code>\uff1a\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u503c\u53ef\u4ee5\u662f\u4efb\u610f\u7684\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982\"hello\"\uff0c\"a\"\uff0c\"\"\u3002</li> </ul>"},{"location":"dsdl_language/lang/basic_types/#222","title":"2.2.2 \u7279\u6b8a\u57fa\u672c\u6570\u636e\u7c7b\u578b","text":"<p>DSDL\u5b9a\u4e49\u4e86\u4e00\u4e9b\u5177\u6709\u7279\u6b8a\u542b\u4e49\u7684\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3002\u8fd9\u4e9b\u6570\u636e\u7c7b\u578b\u7684\u503c\u540c\u6837\u901a\u8fc7\u5b57\u7b26\u4e32\u6216\u5176\u4ed6JSON\u683c\u5f0f\u7684\u57fa\u672c\u7c7b\u578b\u6765\u8868\u793a\uff0c\u4f46\u662f\u4ed6\u4eec\u6709\u7279\u6b8a\u7684\u8bed\u4e49\uff0cDSDL\u89e3\u6790\u5668\u4f1a\u6839\u636e\u4ed6\u4eec\u5404\u81ea\u7684\u8bed\u4e49\u76f8\u5e94\u5730\u89e3\u6790\u4ed6\u4eec\u3002</p> <ul> <li><code>Coord</code>\uff1a2D\u5750\u6807\uff0c\u683c\u5f0f\u4e3a<code>[x, y]</code></li> <li><code>Coord3D</code>\uff1a3D\u5750\u6807\uff0c\u683c\u5f0f\u4e3a<code>[x, y, z]</code></li> <li><code>Interval</code>\uff1a\u5e8f\u5217\u95f4\u9694\uff0c\u683c\u5f0f\u4e3a<code>[begin, end]</code></li> <li><code>BBox</code>\uff1abounding box\uff0c\u683c\u5f0f\u4e3a<code>[x, y, w, h]</code></li> <li><code>Polygon</code>\uff1a\u591a\u8fb9\u5f62\u7531\u591a\u4e2a2D\u5750\u6807\u6765\u8868\u793a\uff0c\u683c\u5f0f\u4e3a<code>[[x1, y1], [x2, y2], ...]</code></li> <li><code>Date</code>\uff1a\u65e5\u671f\u7531\u4e00\u4e2a\u5b57\u7b26\u4e32\u6765\u8868\u793a\uff0c\u683c\u5f0f\u8be6\u89c1strftime spec</li> <li><code>Time</code>\uff1a\u65f6\u95f4\u7531\u4e00\u4e2a\u5b57\u7b26\u4e32\u6765\u8868\u793a\uff0c\u683c\u5f0f\u8be6\u89c1strftime spec</li> </ul>"},{"location":"dsdl_language/lang/basic_types/#223-label","title":"2.2.3 Label\uff1a\u7c7b\u522b\u6807\u6ce8\u6570\u636e\u7c7b\u578b","text":"<p>\u5206\u7c7b\u4efb\u52a1\u65e8\u5728\u8d4b\u4e88\u76ee\u6807\u8bed\u4e49\u4fe1\u606f\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u901a\u5e38\u9700\u8981\u4f7f\u7528\u7c7b\u522b\u6807\u6ce8\u6765\u63cf\u8ff0\u76ee\u6807\u5c5e\u4e8e\u7684\u7c7b\u522b\u3002\u5728DSDL\u4e2d\uff0c\u7c7b\u522b\u6807\u6ce8\u662f\u7c7b\u578b\u6307\u5b9a\u4e3a<code>Label</code>\u7684\u5b57\u7b26\u4e32\u3002</p> <p>\u5728\u5b9e\u9645\u5f53\u4e2d\uff0c\u4e0d\u540c\u7684\u5206\u7c7b\u4efb\u52a1\u4e2d\u7684\u7c7b\u522b\u4e5f\u5e94\u8be5\u662f\u4e0d\u540c\u7684\u3002DSDL\u5f15\u5165\u4e86\u7c7b\u522b\u57df\uff08class domain\uff09\u7684\u6982\u5ff5\uff0c\u6765\u63cf\u8ff0\u4e0d\u540c\u5206\u7c7b\u4efb\u52a1\u4e2d\u4e0d\u540c\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002\u6bcf\u4e2a\u7c7b\u522b\u57df\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7c7b\u522b\u5217\u8868\u6216\u662f\u4e00\u4e2a\u7c7b\u522b\u5c42\u7ea7\u5173\u7cfb\u3002\u7ed9\u5b9a\u8981\u7ed9\u7c7b\u522b\u57df\uff0c\u7c7b\u522b\u6807\u6ce8\u5219\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u4e24\u79cd\u5f62\u5f0f\u4e4b\u4e00\u6765\u63cf\u8ff0\uff1a</p> <ul> <li>\u57fa\u4e8e\u7c7b\u522b\u540d\uff1a\u683c\u5f0f\u4e3a<code>\"&lt;class-domain&gt;::&lt;class-name&gt;\"</code>\uff0c\u6bd4\u5982<code>COCO::cat</code>\u8868\u793a\u4e86COCO\u7c7b\u522b\u57df\u5185\u7684\u7c7b\u522bcat\u3002</li> <li>\u57fa\u4e8e\u7c7b\u522b\u7d22\u5f15\uff1a\u683c\u5f0f\u4e3a<code>\"&lt;class-domain&gt;[class-index]\"</code>\uff0c\u6bd4\u5982<code>COCO[3]</code>\u8868\u793aCOCO\u7c7b\u522b\u57df\u5185\u7b2c\u4e09\u4e2a\u7c7b\u522b</li> </ul> <p>\u5bf9\u4e8e\u4e00\u4e2a\u6709\u5c42\u7ea7\u5173\u7cfb\u7684\u7c7b\u522b\u7684\u7c7b\u522b\u57df\uff0c\u6211\u4eec\u9700\u8981\u5728<code>class_dom</code>\u4e2d\u5b9a\u4e49\uff0c\u5177\u4f53\u53c2\u89c12.5.3 \u5b9a\u4e49\u5177\u6709\u5c42\u7ea7\u5173\u7cfb\u7684\u7c7b\u522b\u57df</p> <p>\u6ce8\u610f\uff1a\u6211\u4eec\u6b63\u5728\u8bd5\u56fe\u7edf\u4e00\u5404\u79cd\u4efb\u52a1\u7c7b\u578b\u7684\u7c7b\u522b\u6807\u6ce8\u7cfb\u7edf\u3002\u56e0\u6b64\u6211\u4eec\u5c06\u9884\u7559\u4e00\u4e2a\u57df\u540d<code>std</code>\uff0c\u7528\u4e8e\u5728\u4ee5\u540e\u63cf\u8ff0\u6807\u51c6\u7684\u5206\u7c7b\u4efb\u52a1\u7684\u5206\u7c7b\u57df\u3002</p>"},{"location":"dsdl_language/lang/basic_types/#224-attributes","title":"2.2.4 Attributes: \u5c5e\u6027\u7c7b\u578b","text":"<p>\u5728DSDL\u4e2d\uff0c\u8fd8\u989d\u5916\u5b58\u5728\u4e00\u79cd\u7279\u6b8a\u7684\u7c7b\u578b\u2014\u2014\u5c5e\u6027\u7c7b\u578b\uff0c\u5982\u679c\u6570\u636e\u96c6\u5b58\u5728\u90a3\u4e9b\u7528\u6765\u63cf\u8ff0\u56fe\u50cf\u3001\u6807\u6ce8\u7684\u5143\u4fe1\u606f\uff0c\u5219\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u4fe1\u606f\u58f0\u660e\u4e3a\u5c5e\u6027\u7c7b\u578b\uff0c\u800c\u5c06\u4e00\u4e2a\u5b57\u6bb5\u58f0\u660e\u4e3a\u5c5e\u6027\u7c7b\u578b\u7684\u65b9\u5f0f\u5f88\u7b80\u5355\uff0c\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c\u6709\u4e00\u4e2a\u5b57\u6bb5<code>iscrowd</code>\u662f<code>Bool</code>\u7c7b\u578b\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u8fdb\u884c\u4e0b\u8ff0\u7684\u58f0\u660e\uff1a</p> <pre><code>iscrowd: Bool[is_attr=True]\n</code></pre> <p>\u8fd9\u6837\uff0cDSDL\u5728\u5904\u7406<code>iscrowd</code>\u5b57\u6bb5\u65f6\uff0c\u5c31\u4f1a\u5c06\u5176\u4f5c\u4e3a\u4e00\u4e2a\u5c5e\u6027\uff0c\u5e76\u4e14\u5176\u503c\u5c06\u4f5c\u4e3a<code>Bool</code>\u7c7b\u578b\u5b58\u50a8\u8fdb\u5185\u5b58\u3002</p>"},{"location":"dsdl_language/lang/basic_types/#225-loc","title":"2.2.5 Loc\uff1a\u5bf9\u8c61\u5b9a\u4f4d\u6570\u636e\u7c7b\u578b","text":"<p>\u5bf9\u8c61\u5b9a\u4f4d\u5668\u7684\u4f5c\u7528\u662f\u4f5c\u4e3a\u5bf9\u56fe\u50cf\uff0c\u89c6\u9891\uff0c\u6587\u672c\u7b49\u975e\u7ed3\u6784\u5316\u5bf9\u8c61\u7684\u5f15\u7528\u3002\u76ee\u6807\u5b9a\u4f4d\u5668\u7684\u6570\u636e\u7c7b\u578b\u5373\u4e3a<code>Loc</code>\u6570\u636e\u7c7b\u578b\uff0c\u76ee\u6807\u5b9a\u4f4d\u5668\u7684\u5177\u4f53\u503c\u901a\u8fc7\u4e00\u4e2a\u7279\u6b8a\u5f62\u5f0f\u7684\u5b57\u7b26\u4e32\u6765\u8868\u793a\u3002\u5177\u4f53\u6765\u8bb2\uff0cDSDL\u652f\u63013\u79cd\u65b9\u5f0f\u6765\u63cf\u8ff0\u4e00\u4e2a\u5bf9\u8c61\u5b9a\u4f4d\u5668\uff1a</p> <ul> <li>relative path\uff1a\u76f8\u5bf9\u4e8e\u6570\u636e\u96c6\u7684\u6839\u8def\u5f84\u7684\u8def\u5f84\u3002\u5bf9\u8c61\u5b9a\u4f4d\u5668\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f7f\u7528\u7684\u5c31\u662f\u76f8\u5bf9\u8def\u5f84\u3002\u5f53\u5bf9\u8c61\u5b9a\u4f4d\u5668\u5b57\u7b26\u4e32\u6ca1\u6709\u7279\u6b8a\u7684\u524d\u7f00\u65f6\uff0c\u4ed6\u5c31\u4f1a\u88ab\u5f53\u4f5c\u662f\u4e00\u4e2a\u76f8\u5bf9\u8def\u5f84\u3002\u4f8b\u5982\uff0c<code>\"abc/001.jpg\"</code>\u5c06\u4f1a\u88ab\u89e3\u6790\u4e3a<code>\"&lt;data-root&gt;/abc/001.jpg\"</code>\uff0c\u5176\u4e2d<code>data-root</code>\u4e3a\u6839\u76ee\u5f55\uff0c\u6240\u6709\u7684\u6570\u636e\u5bf9\u8c61\u90fd\u5b58\u50a8\u5176\u4e2d\uff0c\u5e76\u4e14\u6839\u76ee\u5f55\u53ef\u4ee5\u5728\u73af\u5883\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u3002</li> <li>alias path\uff1a\u5f53\u4e00\u4e2a\u6570\u636e\u96c6\u4e2d\u7684\u6570\u636e\u5bf9\u8c61\u5206\u6563\u5b58\u50a8\u5728\u591a\u4e2a\u6e90\u76ee\u5f55\u65f6\uff0c\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u522b\u540d\u6765\u7b80\u5316\u8def\u5f84\u7684\u8868\u793a\uff0c\u4e3e\u4f8b\u6765\u8bf4\uff0c<code>$mydir1/abc/001.jpg</code>\uff0c\u5176\u4e2d<code>$</code>\u8868\u793a<code>mydir1</code>\u662f\u4e00\u4e2a\u522b\u540d\uff0c\u5e94\u8be5\u5728\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u4e2d\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u6765\u6307\u5b9a\uff0c\u6216\u662f\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u6765\u6307\u5b9a\u3002</li> <li>object id\uff1a\u7531\u4e00\u4e2a\u524d\u7f00\u4e3a<code>::</code>\u7684\u5b57\u7b26\u4e32\u8868\u793a\uff0c\u4e3e\u4f8b\u6765\u8bf4\uff0c<code>\"::cuhk.ie::abcd1234xyz\"</code>\uff0c\u5176\u4e2d<code>cuhk.ie</code>\u4e3a\u6570\u636e\u57df\u7684\u540d\u5b57\uff0c\u800c<code>abcd1234xyz</code>\u4e3a\u4e00\u4e2aID\u5b57\u7b26\u4e32\uff0c\u662f\u4e00\u4e2a\u6570\u636e\u5bf9\u8c61\u5728\u6570\u636e\u57df\u4e2d\u7684\u552f\u4e00\u7684\u8868\u793a\u3002\u5f53\u4f7f\u7528object id\u8868\u793a\u5f62\u5f0f\u662f\uff0c\u6570\u636e\u5e73\u53f0\u9700\u8981\u63d0\u4f9b\u4e00\u4e2akey-value\u6620\u5c04\uff0c\u5b9e\u73b0\u5c06ID\u5b57\u7b26\u4e32\u6620\u5c04\u5230\u6570\u636e\u6240\u5728\u7684\u5b9e\u9645\u5730\u5740\u3002</li> </ul>"},{"location":"dsdl_language/lang/basic_types/#226","title":"2.2.6 \u4f7f\u7528\u7c7b\u578b\u53c2\u6570","text":"<p>\u4eceDSDL\u7f16\u8bd1\u5668\u7684\u89c6\u89d2\u6765\u770b\uff0c\u5143\u7d20\u7684\u7c7b\u578b\u51b3\u5b9a\u4e86\u8be5\u5143\u7d20\u5982\u4f55\u88ab\u89e3\u6790\u4e0e\u9a8c\u8bc1\u3002\u9664\u4e86\u7c7b\u578b\u540d\u79f0\u4ee5\u5916\uff0cDSDL\u8fd8\u5141\u8bb8\u7528\u6237\u63d0\u4f9b\u7c7b\u578b\u53c2\u6570\u6765\u81ea\u5b9a\u4e49\u5143\u7d20\u5982\u4f55\u88ab\u8868\u793a\uff0c\u89e3\u6790\u4e0e\u9a8c\u8bc1\u3002</p> <p>\u4f7f\u7528\u7c7b\u578b\u53c2\u6570\u7684Label\u6570\u636e\u7c7b\u578b</p> <p>\u5728\u5feb\u901f\u5165\u95e8\u4e2d\u7684\u7684\u4f8b\u5b50\u4e2d\uff0c<code>ImageClassificationSample</code>\u4e2d\u7684<code>label</code>\u5b57\u6bb5\u7684\u6570\u636e\u7c7b\u578b\u6307\u5b9a\u4e3a\u4e86<code>Label[dom=MyClassDom]</code>\u3002</p> <p>\u8fd9\u91cc\uff0c<code>Label</code>\u5c31\u662f\u4e00\u4e2a\u542b\u53c2\u7684\u6570\u636e\u7c7b\u578b\uff08parametric type\uff09\uff0c\u6307\u5b9a\u4e86\u4e00\u4e2a\u7c7b\u578b\u53c2\u6570<code>dom</code>\u3002\u8fd9\u91cc\u7684<code>dom</code>\u53c2\u6570\u6307\u5b9a\u4e86label\u5c5e\u4e8e\u7684\u7c7b\u522b\u57df\u3002</p> <p>\u5f53\u7c7b\u522b\u57df\u88ab\u663e\u793a\u5730\u6307\u5b9a\u4e4b\u540e\uff08\u4f8b\u5b50\u4e2d\u6307\u5b9a\u4e3a<code>MyClassDom</code>\uff09\uff0c\u5c31\u4e0d\u9700\u8981\u518d\u5728\u6570\u636e\u5bf9\u8c61\u4e2d\u6307\u660e\u6807\u6ce8\u7c7b\u522b\u7684\u7c7b\u522b\u57df\u4e86\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u6570\u636e\u5bf9\u8c61\u4e2d\u7684\u6807\u6ce8\u7c7b\u522b<code>MyClassDom::cat</code>\u6b64\u65f6\u53ef\u4ee5\u76f4\u63a5\u7b80\u5199\u4e3a<code>cat</code>\uff1b\u6570\u636e\u5bf9\u8c61\u4e2d\u7684\u6807\u6ce8\u7c7b\u522b<code>MyClassDom[2]</code>\u6b64\u65f6\u53ef\u4ee5\u76f4\u63a5\u7b80\u5199\u4e3a<code>2</code>\u3002</p> <p>\u4f7f\u7528\u7c7b\u578b\u53c2\u6570\u7684Date\u548cTime\u6570\u636e\u7c7b\u578b</p> <p>\u5bf9\u4e8e<code>Date</code>\u548c<code>Time</code>\u6570\u636e\u7c7b\u578b\uff0c\u5f53\u6ca1\u6709\u663e\u793a\u5730\u6307\u5b9a\u7c7b\u578b\u53c2\u6570\u7684\u8bdd\uff0c\u5b83\u7684\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u503c\u5e94\u8be5\u9075\u5faaISO 8601\u683c\u5f0f\u3002\u89e3\u6790\u5668\u4f1a<code>date.fromisoformat</code>\u548c<code>time.fromisoformat</code>\u6765\u89e3\u6790\u5b57\u7b26\u4e32\u3002</p> <p>\u7528\u6237\u8fd8\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a\u7c7b\u578b\u53c2\u6570<code>fmt</code>\u6765\u81ea\u5b9a\u4e49\u683c\u5f0f\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u6570\u636e\u7c7b\u578b<code>Time[fmt=\"%H:%M\"]</code>\u6765\u8981\u6c42\u6570\u636e\u503c\u9075\u5faa<code>%H:%M</code>\u7684\u683c\u5f0f\uff0c\u4f8b\u5982<code>\"15:32\"</code>\u3002\u5f53<code>fmt</code>\u88ab\u663e\u793a\u5730\u6307\u5b9a\u4e86\uff0c<code>fmt</code>\u7684\u503c\u4f1a\u88ab\u4f20\u5165<code>strptime</code>\u51fd\u6570\u6765\u89e3\u6790\u65f6\u95f4\u5b57\u7b26\u4e32\u3002<code>Data</code>\u6570\u636e\u7c7b\u578b\u540c\u6837\u53ef\u4ee5\u6307\u5b9a\u8be5\u53c2\u6570\u3002</p>"},{"location":"dsdl_language/lang/basic_types/#227","title":"2.2.7 \u5217\u8868\u6570\u636e\u7c7b\u578b","text":"<p>DSDL\u63d0\u4f9b\u4e86\u542b\u53c2\u6570\u636e\u7c7b\u578b<code>List</code>\u6765\u8868\u793a\u65e0\u5e8f\u6216\u6709\u5e8f\u7684\u5217\u8868\u3002\u5177\u4f53\u6765\u8bf4\uff0c<code>List</code>\u6570\u636e\u7c7b\u578b\u7684\u5b9e\u4f8b\u662f\u5305\u542b\u4e86\u591a\u4e2a\u6570\u636e\u7c7b\u578b\u76f8\u540c\u7684\u5143\u7d20\u7684\u5217\u8868\u3002</p> <p>\u542b\u53c2\u6570\u636e\u7c7b\u578b<code>List</code>\u6709\u4e24\u4e2a\u53c2\u6570\uff1a</p> <ul> <li><code>etype</code>\uff1a\u5217\u8868\u4e2d\u5355\u4e2a\u5143\u7d20\u7684\u6570\u636e\u7c7b\u578b\u3002\u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u88ab\u663e\u793a\u5730\u6307\u5b9a\u3002</li> <li><code>ordered</code>\uff1a\u5217\u8868\u4e2d\u7684\u5143\u7d20\u4e4b\u95f4\u662f\u5426\u6709\u987a\u5e8f\u5173\u7cfb\u3002\u8fd9\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u9ed8\u8ba4\u503c\u4e3a<code>false</code>\u3002\u53ea\u6709\u5f53\u5e8f\u5217\u662f\u6709\u5e8f\u7684\u60c5\u51b5\u4e0b\uff0c\u8be5\u53c2\u6570\u624d\u5e94\u8be5\u88ab\u8bbe\u4e3a<code>true</code>\uff0c\u6bd4\u5982\u89c6\u9891\u5e27\u5e8f\u5217\u4e0e\u65f6\u95f4\u5e8f\u5217\u3002</li> </ul> <p>\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5bf9\u4e8e\u5143\u7d20\u4e3a\u6574\u578b\u7684\u5217\u8868\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8be5\u5217\u8868\u6570\u636e\u7c7b\u578b\u8868\u793a\u4e3a<code>List[Int]</code>\uff1b\u5bf9\u4e8e\u5143\u7d20\u4e3a\u7c7b\u522b\u57df\u4e3a<code>MyClassDom</code>\u7684\u7c7b\u522b\u6807\u6ce8\u7684\u5217\u8868\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8be5\u5217\u8868\u6570\u636e\u7c7b\u578b\u8868\u793a\u4e3a<code>List[Label[MyClassDom]]</code></p>"},{"location":"dsdl_language/lang/class_dom/","title":"\u7c7b\u522b\u57df","text":""},{"location":"dsdl_language/lang/class_dom/#25","title":"2.5 \u7c7b\u522b\u57df","text":"<p>\u7c7b\u522b\u57df\uff08class_domain\uff09\u662f\u5bf9Label\uff08\u7c7b\u522b\u6807\u6ce8\u6570\u636e\u7c7b\u578b\uff09\u5b57\u6bb5\u7684\u8be6\u7ec6\u5b9a\u4e49\uff0cLabel\u5b57\u6bb5\u7684\u5b9e\u4f8b\u5316\u9700\u8981\u5bf9\u5176\u4e2d\u7684 <code>dom</code>\u5f62\u53c2\u8d4b\u4e88\u5177\u4f53\u7684\u7c7b\u522b\u57df\uff08class_domain\uff09\u3002</p>"},{"location":"dsdl_language/lang/class_dom/#251","title":"2.5.1 \u5b9a\u4e49\u4e00\u4e2a\u7c7b\u522b\u57df","text":"<p>\u5728DSDL\u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u7684 <code>$def</code>\u90e8\u5206\u81ea\u5b9a\u4e49\u7c7b\u522b\u57df\u3002 \u6211\u4eec\u770b\u4e0b\u9762\u8fd9\u4e2a\u793a\u4f8b\uff1a</p> <p>\u7c7b\u522b\u57df\u793a\u4f8b:</p> <pre><code>MyClassDom:\n$def: class_domain\nclasses:\n- airplane\n- apple\n- backpack\n- banana\n- baseball bat\n- baseball glove\n- bear\n</code></pre> <p>\u7ed3\u6784\u4f53\u7c7b\u662f\u901a\u8fc7\u4e00\u4e2aYAML\u5bf9\u8c61\u6765\u5b9a\u4e49\u7684\uff0c\u5176\u4e2d\u5305\u542b\u4ee5\u4e0b\u5c5e\u6027\uff1a</p> <ul> <li><code>$def</code>\uff1a\u5b83\u7684\u503c\u5fc5\u987b\u662f <code>class_domain</code>\uff0c\u8868\u793a\u8be5YAML\u5bf9\u8c61\u6b63\u5728\u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u3002</li> <li><code>classes</code>\uff1a\u5b83\u7684\u503c\u5fc5\u987b\u662f\u4e00\u4e2aYAML\u7684list\u5bf9\u8c61\uff0c\u5305\u542b\u4e86\u4e00\u7cfb\u5217\u7684\u7c7b\u522b\u540d\uff0c\u5b83\u4e5f\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6bcf\u4e2a\u7c7b\u522b\u540d\u5bf9\u5e94\u4e86\u4e00\u4e2a\u5b57\u6bb5\u3002</li> </ul>"},{"location":"dsdl_language/lang/class_dom/#252","title":"2.5.2 \u7c7b\u522b\u57df\u7684\u5f15\u7528","text":"<p>\u7c7b\u522b\u57df\u662f\u4e3b\u8981\u7528\u6765\uff1a\u5b9e\u4f8b\u5316\u7ed3\u6784\u4f53\u7c7bstruct\u4e2d\u7684Label\u5b57\u6bb5\uff0c\u4f8b\u5982\uff1a</p> <pre><code>ImageClassificationSample:\n$def: struct\n$fields:\nimage: Image\nlabel: Label[dom=MyClassDom]\n</code></pre> <p>\u5f53\u7136\u4e5f\u53ef\u4ee5\u4e00\u5f00\u59cb\u7528\u53c2\u6570 <code>$xxx</code>\u5360\u4f4d\uff08\u5177\u4f53\u53ef\u4ee5\u53c2\u89c12.4.3 \u542b\u53c2\u7ed3\u6784\u4f53\u7c7b\uff09\uff0c\u4f8b\u5982\uff1a</p> <pre><code>ImageClassificationSample:\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\nlabel: Label[dom=$cdom]\n</code></pre> <p>\u7136\u540e\u5728 <code>data section</code>(\u63cf\u8ff0\u6570\u636e\u96c6)\u7684\u65f6\u5019\u5728 <code>sample-type</code>\u4e2d\u5b9e\u4f8b\u5316\u8fd9\u4e2a\u53c2\u6570\uff0c\u5982\uff1a</p> <pre><code>data:\nsample-type: ImageClassificationSample[cdom=MyClassDom]\nsample-path: $local\nsamples:\n- image: \"xyz/0001.jpg\"\nlabel: \"apple\"\n- image: \"xyz/0002.jpg\"\nlabel: \"banana\"\n</code></pre>"},{"location":"dsdl_language/lang/class_dom/#253","title":"2.5.3 \u5b9a\u4e49\u5177\u6709\u5c42\u7ea7\u5173\u7cfb\u7684\u7c7b\u522b\u57df","text":"<p>\u5728\u4e00\u4e9b\u6570\u636e\u96c6\u5f53\u4e2d\uff0c\u7c7b\u522b\u5177\u6709\u5c42\u7ea7\u5173\u7cfb\uff0cdsdl\u4e2d\u5141\u8bb8\u4e3a\u6bcf\u4e2a\u7c7b\u522b\u6307\u5b9a\u81ea\u5df1\u7684\u7236\u7c7b\uff0c\u5177\u4f53\u64cd\u4f5c\u4e3a\uff1a</p> <p>\u76f4\u63a5\u5b9a\u4e49\u5b50\u7c7bclass domain\uff0c\u5e76\u5728\u6bcf\u4e2alabel\u524d\u9762\u901a\u8fc7\u201c.\u201d\u7684\u5f62\u5f0f\u8fde\u63a5\u8be5label\u7684\u7236\u7c7b\u7684\u5177\u4f53\u7c7b\u522b\uff1a</p> <pre><code>ClassDom:                        # \u58f0\u660e\u7c7b\u522b\n$def: class_domain\nclasses:\n- vehicle.airplane       # \u6307\u660eairplane\u7684\u7236\u7c7b\u4e3aParentClassDom\u4e2d\u7684vehicle\n- food.apple\n- accessory.backpack\n- food.banana\n- sports.baseball_bat    # \u7c7b\u522b\u540d\u5b58\u5728\u7a7a\u683c\u7b49\u7279\u6b8a\u7b26\u53f7\u9700\u8981\u8f6c\u6362\u4e3a\u4e0b\u5212\u7ebf\n- sports.baseball_glove\n- animal.bear\n- furniture.bed\n- outdoor.bench\n- vehicle.bicycle\n- animal.bird\n- vehicle.boat\n</code></pre> <p>\u5728\u7c7b\u522b\u5b9a\u4e49\u4e2d\uff0c\".\"\u662f\u7528\u6765\u5206\u5272\u7c7b\u522b\u4e0a\u4e0b\u4f4d\u5173\u7cfb\u7684\u7279\u6b8a\u5b57\u7b26\uff0c\u6bcf\u4e2a\u6807\u7b7e\u5b58\u5728\u591a\u4e2a\u5355\u8bcd\u5efa\u8bae\u7528\"_\"\u8fde\u63a5\uff0c\u4f8b\u5982\uff1abaseball_bat\u3002\u82e5\u5e0c\u671b\u7c7b\u522b\u6807\u7b7e\u6709\u7a7a\u683c\u7b49\u7279\u6b8a\u5b57\u7b26\uff0c\u5efa\u8bae\u5728global-info\u4e2d\u5b58\u50a8\u5305\u542b\u7279\u6b8a\u5b57\u7b26\u539f\u59cb\u6807\u7b7e\u540d\u4e0e\u8f6c\u6362\u540e\u5b58\u653e\u5728class_dom\u4e2d\u6807\u7b7e\u6620\u5c04\u5173\u7cfb(\u5173\u4e8eglobal-info\u7684\u5b9a\u4e49\u548c\u5b58\u50a8\u4f4d\u7f6e\uff0c\u8bf7\u53c2\u770b\u6570\u636e\u6a21\u5757\u7ae0\u8282)\uff0c\u5177\u4f53\u5f62\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>{\"global-info\":\n    {\"name_mapping\":[\n            {\n                \"name\": \"baseball_bat.sports\"\n                \"original_name\": \"baseball bat.sports\",\n            },\n            ...\n    ]}\n}\n</code></pre>"},{"location":"dsdl_language/lang/data_section/","title":"\u6570\u636e\u6a21\u5757","text":""},{"location":"dsdl_language/lang/data_section/#26","title":"2.6 \u6570\u636e\u6a21\u5757","text":"<p>\u6211\u4eec\u77e5\u9053\u4e00\u4e2a\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u53ef\u4ee5\u88ab\u5927\u81f4\u5206\u4e3a\u56db\u4e2a\u90e8\u5206\uff1a</p> <ul> <li>header\uff1a\u6307\u660e\u4e86\u5f53\u524d\u7684\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u9700\u8981\u88ab\u5982\u4f55\u89e3\u6790\uff1b</li> <li>meta section\uff1a\u63d0\u4f9b\u4e86\u5f53\u524d\u6570\u636e\u96c6\u7684\u4e00\u4e9b\u5143\u4fe1\u606f\uff1b</li> <li>defs section\uff1a\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5168\u5c40\u7684\u5b9a\u4e49\uff0c\u6bd4\u5982\uff1a\u7528\u6237\u5b9a\u4e49\u7684\u7c7b\u522b\u57df\uff08class domain\uff09\u548c\u7ed3\u6784\u4f53\uff08struct\uff09\uff1b</li> <li>data section\uff1a\u63cf\u8ff0\u4e86\u6570\u636e\u96c6\u4e2d\u7684\u6837\u672c\u6570\u636e</li> </ul> <p>\u524d\u9762\u7684\u7ae0\u8282\u6211\u4eec\u4e3b\u8981\u4ecb\u7ecd\u4e86defs section\uff0c\u6e05\u6670\u7684\u5b9a\u4e49\u4e86\u7c7b\u522b\u57df\uff08class domain\uff09\u548c\u7ed3\u6784\u4f53\uff08struct\uff09\u540e\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5b9a\u4e49\u6bcf\u4e2a\u5177\u4f53\u7684\u6837\u672c\uff0c\u8fd9\u5c31\u662fdata section\u6240\u505a\u7684\u4e8b\u60c5\u3002</p>"},{"location":"dsdl_language/lang/data_section/#261-data-section","title":"2.6.1 \u5b9a\u4e49\u5177\u4f53\u7684data section","text":"<p>\u5728\u5feb\u901f\u5165\u95e8\u4e2d\u6211\u4eec\u6709\u5982\u4e0b\u4f8b\u5b50\uff1a</p> <pre><code>data:\nsample-type: ImageClassificationSample\nsample-path: $local\nsamples:\n- { image: \"xyz/0001.jpg\", label: \"cat\" }\n- { image: \"xyz/0002.jpg\", label: \"dog\" }\n...\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a <code>data section</code>\u5305\u62ec\u4e09\u4e2a\u6a21\u5757\uff1a</p> <ul> <li>sample-type\uff1a\u6570\u636e\u7684\u7c7b\u578b\u5b9a\u4e49\uff0c\u8fd9\u91cc\u4e00\u822c\u662f\u6211\u4eec\u5b9a\u4e49\u7684\u67d0\u4e2a\u7ed3\u6784\u4f53\uff08struct\uff09\uff0c\u5982\u679c\u8fd9\u4e2a\u7ed3\u6784\u4f53\u91cc\u9762\u5305\u542b\u53c2\u6570\u5219\u9700\u8981\u5b9e\u4f8b\u5316\u8fd9\u4e2a\u53c2\u6570\uff0c\u5177\u4f53\u53c2\u89c12.4.3 \u542b\u53c2\u7ed3\u6784\u4f53\u7c7b\uff1b\u6b64\u5916 <code>sample-type</code>\u4e5f\u53ef\u4ee5\u662f\u4efb\u610f\u5176\u4ed6\u6570\u636e\u7c7b\u578b\uff08Label\u3001Image\u3001Int\u7b49\u7b49\uff09\uff0c\u56e0\u4e3a\u6211\u4eec\u77e5\u9053\u7ed3\u6784\u4f53\uff08struct\uff09\u4e5f\u662f\u6570\u636e\u7c7b\u578b\u7684\u4e00\u79cd\u3002</li> <li>sample-path: samples\u7684\u5b58\u653e\u8def\u5f84\uff0c\u5982\u679c\u5b9e\u9645\u662f\u4e00\u4e2a\u8def\u5f84\uff0c\u5219samples\u7684\u5185\u5bb9\u4ece\u8be5\u6587\u4ef6\u8bfb\u53d6\uff0c\u5982\u679c\u662f <code>$local</code>\uff08\u8fd9\u4e2a\u4f8b\u5b50\uff09\uff0c\u5219\u4ece\u672c\u6587\u4ef6\u7684 <code>data.samples</code>\u5b57\u6bb5\u4e2d\u76f4\u63a5\u8bfb\u53d6</li> <li>samples: \u4fdd\u5b58\u6570\u636e\u96c6\u7684\u6837\u672c\u4fe1\u606f\uff0c\u6ce8\u610f\u53ea\u6709\u5728 <code>sample-path</code>\u662f <code>$local</code>\u7684\u65f6\u5019\u8be5\u5b57\u6bb5\u624d\u4f1a\u751f\u6548\uff0c\u5426\u5219samples\u4f1a\u4f18\u5148\u4ece <code>sample-path</code>\u4e2d\u7684\u8def\u5f84\u53bb\u8bfb\u53d6</li> </ul> <p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230 <code>data.samples</code>\u4e2d\u7684\u5b57\u6bb5\u662f\u548c <code>data.sample-type</code>\u4e2d\u6240\u7ed9\u5b9a\u7684\u6570\u636e\u7c7b\u578b\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\uff1a</p> <p>\u56de\u987e\u4e00\u4e0b\uff0c\u4e0a\u9762\u7684\u4f8b\u5b50\u91cc\u9762 <code>ImageClassificationSample</code>\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>MyClassDom:\n$def: class_domain\nclasses:\n- dog\n- cat\n- fish\n- tiger\nImageClassificationSample:\n$def: struct\n$fields:\nimage: Image\nlabel: Label[dom=MyClassDom]\n</code></pre>"},{"location":"dsdl_language/lang/data_section/#262-optional","title":"2.6.2 Optional\u7684\u7528\u6cd5","text":"<p>\u5982\u679c\u6211\u4eec\u7684\u6570\u636e\u4e2d\u6709\u4e9b\u5b57\u6bb5\u662f\u7f3a\u5931\u7684\uff0c\u6bd4\u5982\u4e0a\u9762\u7684 <code>data.samples</code>\u90e8\u5206\u6709\u7684\u6570\u636e\u4e2dlabel\u7f3a\u5931\uff1a</p> <pre><code>data:\nsample-type: ImageClassificationSample\nsample-path: $local\nsamples:\n- { image: \"xyz/0001.jpg\" }\n- { image: \"xyz/0002.jpg\", label: \"dog\" }\n- { image: \"xyz/0003.jpg\"}\n- { image: \"xyz/0004.jpg\", label: \"tiger\" }\n</code></pre> <p>\u90a3\u76f8\u5e94\u7684\uff0c\u6211\u4eec\u5728\u5b9a\u4e49\u7ed3\u6784\u4f53\u7684\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u6307\u51fa\uff0c\u54ea\u4e9b\u5b57\u6bb5\u662f\u7f3a\u5931\u7684\uff0c\u65b9\u6cd5\u662f\uff1a\u6211\u4eec\u53ef\u4ee5\u628a\u53ef\u4ee5\u6709\u7f3a\u5931\u503c\u7684\u5b57\u6bb5\u540d\u653e\u5728 <code>struct</code>\u7c7b\u578b\u4e2d\u7684 <code>$optional</code>\u90e8\u5206\uff0c <code>$optional</code>\u5b57\u6bb5\u662f\u4e2a\u5217\u8868\uff0c\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>ImageClassificationSample:\n$def: struct\n$fields:\nimage: Image\nlabel: Label[dom=MyClassDom]\n$optional: ['label']\n</code></pre> <p>\u6ce8\u610f\uff1a\u5f53$optional\u4e2dlabel\u88ab\u5ffd\u7565\u65f6\uff0c\u5bf9\u5e94\u7684\u5b57\u6bb5\u503c\u53ef\u4ee5\u5728 <code>data.samples</code>\u7f3a\u5931\uff0c\u5426\u5219\u4f1a\u663e\u793a\u8b66\u544a\u3002</p>"},{"location":"dsdl_language/lang/data_section/#263-global-info","title":"2.6.3 \u589e\u52a0global-info\u5b57\u6bb5","text":"<p>\u5bf9\u4e8e\u6570\u636e\u96c6\u7684\u5168\u5c40\u4fe1\u606f\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u6570\u636e\u6a21\u5757\u65b0\u589eglobal-info\u5b57\u6bb5\u8fdb\u884c\u5b58\u653e\u3002\u5168\u5c40\u4fe1\u606f\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff1a</p> <ul> <li>\u7c7b\u522b\u4fe1\u606f\u8865\u5145\uff08\u6bd4\u5982\u540c\u4e49\u8bcd\uff0c\u8bcd\u7684\u5b9a\u4e49\u7b49\uff09</li> <li>\u6570\u636e\u4fe1\u606f\u8865\u5145\uff08\u6bd4\u5982OCR\u4efb\u52a1\u4e2d\u5305\u542b\u7684\u5168\u5c40\u8bcd\u8868\u3001\u5173\u952e\u70b9\u4efb\u52a1\u4e2d\u7684\u5173\u952e\u70b9\u8fde\u63a5\u65b9\u5f0f\u7b49\uff09</li> </ul> <p>\u5b58\u653eglobal-info\u7684\u4fe1\u606f\uff0c\u9700\u8981\u6211\u4eec\u5b9a\u4e49\u5176struct\uff0c\u5e76\u5728\u6570\u636e\u6a21\u5757\u65b0\u589e\u76f8\u5e94\u7684\u5b57\u6bb5\u3002\u672c\u5c0f\u8282\u5c06\u4ee5\u4e00\u4e2a\u5177\u4f53\u6848\u4f8b\u6765\u6f14\u793aglobal-info\u7684\u4f7f\u7528\u3002</p> <p>\u9996\u5148\u5728\u5b9a\u4e49\u6587\u4ef6\u9700\u8981\u65b0\u589e\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>ExampleClassDomDescr:\n$def: struct\n$fields: label: Label[dom=MyClassDom]    # \u7c7b\u522b\u540d \ndef: Str                        # \u7c7b\u522b\u63cf\u8ff0 \nsynonyms: List[Str]             # \u8fd1\u4e49\u8bcd\nGlobalInfo:\n$def: struct\n$fields: class-info: List[ExampleClassDomDescr]\n</code></pre> <p>\u800c\u6570\u636e\u6a21\u5757\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>data:\nglobal-info-type: GlobalInfo\nglobal-info-path: $local\nglobal-info:\nclass-info:\n- label: \"dog\"\ndef: 'a very common four-legged animal that is often kept by people as a pet or to guard or huntan animal.'\nsynonyms: ['puppy', 'hound']\n- label: \"fish\"\n...  sample-type: ImageClassificationSample\nsample-path: $local  samples: - {image: \"xyz/0002.jpg\", label: \"dog\" }\n- ...  </code></pre> <p>\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a <code>data section</code>\u65b0\u589e\u4e86global-info\u76f8\u5173\u4fe1\u606f\uff0c\u4e3b\u8981\u5305\u542b\u4e09\u4e2a\u6a21\u5757\uff1a</p> <ul> <li>global-info-type\uff1a\u5168\u5c40\u4fe1\u606f\u7684\u7c7b\u578b\u5b9a\u4e49\uff0c\u8fd9\u91cc\u4e00\u822c\u662f\u6211\u4eec\u5b9a\u4e49\u7684\u67d0\u4e2a\u7ed3\u6784\u4f53\uff08struct\uff09\uff0c\u5982\u679c\u8fd9\u4e2a\u7ed3\u6784\u4f53\u91cc\u9762\u5305\u542b\u53c2\u6570\u5219\u9700\u8981\u5b9e\u4f8b\u5316\u8fd9\u4e2a\u53c2\u6570\uff0c\u5177\u4f53\u53c2\u89c12.4.3 \u542b\u53c2\u7ed3\u6784\u4f53\u7c7b\uff1b</li> <li>global-info-path\uff1a\u5168\u5c40\u4fe1\u606f\u7684\u5b58\u653e\u4f4d\u7f6e\uff0c\u5982\u679c\u5b9e\u9645\u662f\u4e00\u4e2a\u8def\u5f84\uff0c\u5219global-info\u7684\u5185\u5bb9\u4ece\u8be5\u6587\u4ef6\u8bfb\u53d6\uff0c\u5982\u679c\u662f <code>$local</code>\uff08\u8fd9\u4e2a\u4f8b\u5b50\uff09\uff0c\u5219\u4ece\u672c\u6587\u4ef6\u7684 <code>data.global-info</code>\u5b57\u6bb5\u4e2d\u76f4\u63a5\u8bfb\u53d6</li> <li>global-info\uff1a\u4fdd\u5b58\u5168\u5c40\u4fe1\u606f\u7684\u5177\u4f53\u5185\u5bb9\uff0c\u6ce8\u610f\u53ea\u6709\u5728 <code>global-info-path</code>\u662f <code>$local</code>\u7684\u65f6\u5019\u8be5\u5b57\u6bb5\u624d\u4f1a\u751f\u6548\uff0c\u5426\u5219\u4f1a\u4f18\u5148\u4ece <code>global-info-path</code>\u4e2d\u7684\u8def\u5f84\u53bb\u8bfb\u53d6</li> </ul> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c <code>data.global-info</code>\u4e2d\u7684\u5b57\u6bb5\u662f\u548c <code>data.global-info-type</code>\u4e2d\u6240\u7ed9\u5b9a\u7684\u6570\u636e\u7c7b\u578b\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002</p>"},{"location":"dsdl_language/lang/data_section/#264","title":"2.6.4 \u901a\u8fc7\u5916\u90e8\u6587\u4ef6\u8bfb\u53d6","text":"<p>\u5f53\u6570\u636e\u91cf\u5f88\u5927\u7684\u65f6\u5019\uff0c\u5efa\u8bae\u5c06\u6570\u636e\u4eceYAML\u6587\u4ef6\u7684 <code>data section</code>\u90e8\u5206\u62bd\u51fa\u6765\u5355\u72ec\u653e\u5728JSON\u6587\u4ef6\u4e2d\uff0c\u5e76\u5728 <code>data section</code>\u90e8\u5206\u7684 <code>sample-path</code>\u5b57\u6bb5\u4e2d\u7ed9\u51fa\u6570\u636e\u5b58\u653e\u7684JSON\u6587\u4ef6\u7684\u5177\u4f53\u8def\u5f84\uff0c\u7528\u5b57\u7b26\u4e32\u8868\u793a\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>data:\nglobal-info-type: GlobalInfo\nglobal-info-path: global_info.json  sample-type: ExampleSample  sample-path: samples.json\n</code></pre> <p>\u5728 <code>samples.json</code>\u4e2d\u5b58\u653e\u6211\u4eec\u5177\u4f53\u7684\u6570\u636e\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>{\n    \"samples\":[\n        {\"image\": \"xyz/0001.jpg\", \"label\": \"cat\"}, \n        {\"image\": \"xyz/0002.jpg\", \"label\": \"dog\"}, \n        {\"image\": \"xyz/0003.jpg\", \"label\": \"dog\"}, \n        {\"image\": \"xyz/0004.jpg\", \"label\": \"tiger\"},\n        ...\n    ]\n}\n</code></pre> <p>\u5728 <code>global-info.json</code>\u4e2d\u5b58\u653e\u6211\u4eec\u5177\u4f53\u7684\u5168\u5c40\u4fe1\u606f\u6570\u636e\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>{\n    \"global-info\":{\n        \"class-info\":[\n                {\n                    'label': 'dog', \n                    'synonyms': ['puppy', 'hound'], \n                    'def': 'a very common four-legged animal that is often kept by people as a pet or to guard or huntan animal.'\n                },\n                ...\n        ]\n    }\n}\n</code></pre>"},{"location":"dsdl_language/lang/get_started/","title":"\u5feb\u901f\u5165\u95e8","text":""},{"location":"dsdl_language/lang/get_started/#21","title":"2.1 \u5feb\u901f\u5165\u95e8","text":"<p>\u5728DSDL\u4e2d\uff0c\u4e00\u4e2a\u6570\u636e\u96c6\u4f1a\u901a\u8fc7\u4e00\u4e2a\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u6765\u8868\u793a\u3002</p> <p>\u4e0b\u9762\u7684\u4f8b\u5b50\u4e3a\u4e00\u4e2a\u6807\u51c6\u7684\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u3002</p> <p>\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u53ef\u4ee5\u662fJSON\u683c\u5f0f\u6216\u662fYAML\u683c\u5f0f\u3002</p> <p>JSON\u683c\u5f0f\uff1a</p> <pre><code>{\n\"$dsdl-version\": \"0.5.0\",\n\"meta\": {\n\"name\": \"my-dataset\",\n\"creator\": \"my-team\",\n\"dataset-version\": \"1.0.0\"\n},\n\"defs\": {\n\"MyClassDom\": {\n\"$def\": \"class_domain\",\n\"classes\": [\n\"dog\",\n\"cat\",\n\"fish\",\n\"tiger\"\n]\n},\n\"ImageClassificationSample\" : {\n\"$def\": \"struct\",\n\"$fields\": {\n\"image\": \"Image\",\n\"label\": \"Label[dom=MyClassDom]\"\n}\n}\n},\n\"data\": {\n\"sample-type\": \"ImageClassificationSample\",\n\"sample-path\": \"$local\",\n\"samples\": [\n{ \"image\": \"xyz/0001.jpg\", \"label\": \"cat\" },\n{ \"image\": \"xyz/0002.jpg\", \"label\": \"dog\" }\n]\n}\n}\n</code></pre> <p>YAML\u683c\u5f0f\uff1a</p> <pre><code>$dsdl-version: \"0.5.0\"\nmeta:\nname: \"my-dataset\"\ncreator: \"my-team\"\ndataset-version: \"1.0.0\"\ndefs:\nMyClassDom:\n$def: class_domain\nclasses:\n- dog\n- cat\n- fish\n- tiger\nImageClassificationSample:\n$def: struct\n$fields:\nimage: Image\nlabel: Label[dom=MyClassDom]\ndata:\nsample-type: ImageClassificationSample\nsample-path: $local\nsamples:\n- { image: \"xyz/0001.jpg\", label: \"cat\" }\n- { image: \"xyz/0002.jpg\", label: \"dog\" }\n</code></pre> <p>JSON\u548cYAML\u683c\u5f0f\u7684\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u90fd\u53ef\u4ee5\u51c6\u786e\u5730\u63cf\u8ff0\u76f8\u540c\u7684\u6570\u636e\u7ed3\u6784\u3002</p> <p>\u7531\u4e8eYAML\u683c\u5f0f\u7684\u5185\u5bb9\u66f4\u52a0\u7b80\u6d01\uff0c\u5e76\u4e14\u5141\u8bb8\u6ce8\u91ca\uff0c\u56e0\u6b64\u6211\u4eec\u4f7f\u7528YAML\u683c\u5f0f\u4f5c\u4e3a\u672c\u6587\u6863\u4e2d\u540e\u7eed\u793a\u4f8b\u7684\u9ed8\u8ba4\u683c\u5f0f\u3002YAML\u683c\u5f0f\u4e5f\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u8f6c\u6362\u4e3a\u7b49\u4ef7\u7684JSON\u683c\u5f0f\u3002</p> <p>\u9996\u5148\uff0c\u4e00\u4e2a\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u53ef\u4ee5\u88ab\u5927\u81f4\u5206\u4e3a\u56db\u4e2a\u90e8\u5206\uff1a</p> <ul> <li>header\uff1a\u6307\u660e\u4e86\u5f53\u524d\u7684\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u9700\u8981\u88ab\u5982\u4f55\u89e3\u6790\uff1b</li> <li>meta section\uff1a\u63d0\u4f9b\u4e86\u5f53\u524d\u6570\u636e\u96c6\u7684\u4e00\u4e9b\u5143\u4fe1\u606f\uff1b</li> <li>defs section\uff1a\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5168\u5c40\u7684\u5b9a\u4e49\uff0c\u6bd4\u5982\uff1a\u7528\u6237\u5b9a\u4e49\u7684\u7c7b\u522b\u57df\uff08class domain\uff09\u548c\u7ed3\u6784\u4f53\uff08struct\uff09\uff1b</li> <li>data section\uff1a\u63cf\u8ff0\u4e86\u6570\u636e\u96c6\u4e2d\u7684\u6837\u672c\u6570\u636e</li> </ul> <p>\u6ce8\u610f\uff1a</p> <ul> <li>\u5e26\u6709\u524d\u7f00<code>$</code>\u7684\u5c5e\u6027\u540d\u4e3a\u5728DSDL\u4e2d\u9884\u7559\u7684\u6709\u7279\u6b8a\u542b\u4e49\u7684\u5c5e\u6027\u540d\u3002</li> <li>DSDL\u7248\u672c\uff08header\u4e2d\u5c5e\u6027\u540d\u4e3a<code>$dsdl-version</code>\uff09\u5fc5\u987b\u88ab\u660e\u786e\u5730\u6307\u660e\u3002\u56e0\u4e3aDSDL\u89e3\u91ca\u5668\u9700\u8981\u901a\u8fc7\u8be5\u5c5e\u6027\u77e5\u9053\u5f53\u524d\u6587\u4ef6\u7684\u7248\u672c\u4fe1\u606f\uff0c\u4ece\u800c\u6b63\u786e\u7684\u89e3\u6790\u5f53\u524d\u7684\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u3002</li> <li>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e9b\u901a\u7528\u7c7b\u578b\u7684\u5b9a\u4e49\u4e00\u822c\u5728\u6807\u51c6\u5e93\u6216\u6269\u5c55\u5e93\u4e2d\u6709\u63d0\u4f9b\u3002\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u4e0d\u9700\u8981\u81ea\u5df1\u5b9a\u4e49\u7c7b\u522b\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49<code>ImageClassificationSample</code>\u53ea\u662f\u4e3a\u4e86\u6f14\u793a\u4ee5\u53ca\u4f7f\u8be5\u4f8b\u5b50\u5177\u6709\u72ec\u7acb\u6027\u3002</li> </ul>"},{"location":"dsdl_language/lang/libraries/","title":"\u94fe\u63a5\u5e93","text":""},{"location":"dsdl_language/lang/libraries/#27","title":"2.7 \u5e93","text":"<p>\u5c3d\u7ba1\u6211\u4eec\u5df2\u7ecf\u8bd5\u56fe\u53bb\u7b80\u5316\u4e86DSDL\u7684\u8bbe\u8ba1\uff0c\u4f46\u662f\u8981\u5b66\u4e60\u5982\u4f55\u5728DSDL\u4e2d\u5b9a\u4e49\u7c7b\u4ecd\u7136\u9700\u8981\u4e00\u4e9b\u52aa\u529b\u3002\u7136\u800c\u6211\u4eec\u660e\u767d\u5927\u591a\u6570AI\u7814\u7a76\u8005\u6216\u5f00\u53d1\u8005\u90fd\u4e0d\u60f3\u518d\u5b66\u4e60\u53e6\u4e00\u95e8\u8bed\u8a00\u3002\u56e0\u6b64\u6211\u4eec\u5f15\u5165\u4e86\u5e93\u7684\u6982\u5ff5\u6765\u8fdb\u4e00\u6b65\u7b80\u5316\u6570\u636e\u96c6\u63cf\u8ff0\u7684\u8fc7\u7a0b\u3002</p>"},{"location":"dsdl_language/lang/libraries/#271","title":"2.7.1 \u5b9a\u4e49\u4e0e\u5bfc\u5165\u4e00\u4e2a\u5e93","text":"<p>\u6211\u4eec\u5728get_started\u90e8\u5206\u5b9a\u4e49\u7684\u7c7b<code>ImageClassification</code>\u662f\u6bd4\u8f83\u901a\u7528\uff0c\u53ef\u4ee5\u5e94\u7528\u5728\u5176\u4ed6\u7684\u6570\u636e\u96c6\u4e2d\u7684\u3002\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5c06\u5b83\u63d0\u53d6\u5230\u4e00\u4e2a\u5e93\u6587\u4ef6\u5f53\u4e2d\uff0c\u4ece\u800c\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u53ef\u4ee5\u76f4\u63a5\u5bfc\u5165\u5b83\u3002</p> <p>\u603b\u7684\u6765\u8bb2\uff0c\u4e00\u4e2a\u5e93\u6587\u4ef6\u662f\u4e00\u4e2aYAML\u6216JSON\u6587\u4ef6\uff0c\u6587\u4ef6\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e9b\u7c7b\u7684\u5b9a\u4e49\u3002</p> <p>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a<code>imageclass.yaml</code>\u7684\u5e93\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code># file: imageclass.yaml\n# DSDL version is mandatory here.\n$dsdl-version: \"0.5.0\"\n# -- below are definitions --\nMyClassDom:\n$def: class_domain\nclasses:\n- dog\n- cat\n- fish\n- tiger\nImageClassificationSample:\n$def: struct\n$fields:\nimage: Image\nlabel: Label[dom=MyClassDom]\n</code></pre> <p>\u6ce8\u610f\uff1a</p> <ul> <li>\u8fd9\u4e2a\u5e93\u6587\u4ef6\u5e94\u8be5\u88ab\u653e\u5728\u9ed8\u8ba4\u7684\u5e93\u7684\u8def\u5f84(<code>dsdl_library</code>)\u4e2d\uff0c\u4ece\u800c\u7cfb\u7edf\u53ef\u4ee5\u627e\u5230\u5b83\u3002</li> <li>\u7528\u6237\u8fd8\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf<code>DSDL_LIBRARY_PATH</code>\u6765\u8bbe\u7f6e\u989d\u5916\u7684\u5e93\u8def\u5f84\u3002</li> </ul> <p>\u7136\u540e\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u53ef\u4ee5\u901a\u8fc7\u5bfc\u5165\u5e93\u6765\u7b80\u5316\uff0c\u5177\u4f53\u63cf\u8ff0\u5982\u4e0b\uff1a</p> <pre><code>$dsdl-version: \"0.5.0\"\n$import: - imageclass\nmeta:\nname: \"my-dataset\"\ncreator: \"my-team\"\ndataset-version: \"1.0.0\"\ndata:\nsample-type: ImageClassificationSample\nsample-path: $local\nsamples:\n- { image: \"xyz/0001.jpg\", label: \"cat\" }\n- { image: \"xyz/0002.jpg\", label: \"dog\" }\n</code></pre> <p>\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u901a\u8fc7\u5728header\u90e8\u5206\u4f7f\u7528\u4e86\u4e00\u4e2a<code>$import</code>\u6307\u4ee4\uff0c<code>$import</code>\u6307\u4ee4\u7684\u5185\u5bb9\u5e94\u8be5\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u56e0\u4e3a\u7528\u6237\u53ef\u4ee5\u5bfc\u5165\u591a\u4e2a\u5e93\u6587\u4ef6\u3002</p> <p>\u6ce8\u610f\uff1a\u5f53\u5bfc\u5165\u4e86\u591a\u4e2a\u5e93\u6587\u4ef6\uff0c\u5e76\u4e14\u8fd9\u4e9b\u5e93\u6587\u4ef6\u4e2d\u5305\u542b\u4e86\u540d\u79f0\u76f8\u540c\u7684\u82e5\u5e72\u7684\u5b9a\u4e49\uff0c\u5219\u540e\u5bfc\u5165\u7684\u5b9a\u4e49\u4f1a\u8986\u76d6\u5148\u5bfc\u5165\u7684\u5b9a\u4e49\u3002\u5982\u679c\u53d1\u751f\u4e86\u8fd9\u79cd\u60c5\u51b5\uff0c\u89e3\u6790\u5668\u4f1a\u62a5\u51fa\u8b66\u544a\u4fe1\u606f\u3002</p>"},{"location":"dsdl_language/lang/libraries/#272","title":"2.7.2 \u5982\u4f55\u66f4\u597d\u5730\u4f7f\u7528\u5e93","text":"<p>\u4e0b\u9762\u63d0\u4f9b\u4e86\u5b9a\u4e49DSDL\u5e93\u7684\u4e00\u4e9b\u5efa\u8bae\uff1a</p> <p>Define generic classes</p> <p>\u5982\u540c\u5728\u4ecb\u7ecd<code>parametric_class</code>\u65f6\u6240\u63d0\u5230\u7684\u90a3\u6837\uff0c\u5728\u901a\u7528\u7c7b\u7684\u5b9a\u4e49\u4e2d\u5199\u6b7b\u4e86\u53c2\u6570\u8bbe\u7f6e\u4e0d\u662f\u4e00\u4e2a\u597d\u4e3b\u610f\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u7528\u6237\u5b9a\u4e49\u4e00\u4e2a\u542b\u53c2\u7c7b\uff0c\u5e76\u4e14\u6839\u636e\u5177\u4f53\u7684\u5e94\u7528\u573a\u666f\u7ed9\u5b9a\u5177\u4f53\u7684\u53c2\u6570\u8bbe\u7f6e\uff08\u6bd4\u5982\u7c7b\u522b\u57df\u7684\u8bbe\u7f6e\uff09\u3002</p> <p>Grouped definitions</p> <p>\u6211\u4eec\u5efa\u8bae\u5c06\u76f8\u540c\u9886\u57df\u7684\u5b9a\u4e49\u653e\u5728\u4e00\u4e2a\u5e93\u6587\u4ef6\u4e2d\uff0c\u8fd9\u53ef\u4ee5\u4ee4\u5206\u53d1\u548c\u5bfc\u5165\u66f4\u52a0\u5bb9\u6613\u3002</p> <p>Documentation</p> <p>\u7ed9\u5e93\u4e2d\u7684\u5b9a\u4e49\u5199\u6587\u6863\u53ef\u4ee5\u4ee4\u7528\u6237\u66f4\u5bb9\u6613\u7406\u89e3\u3002</p> <p>\u4e0b\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5c06\u4e0e\u89c6\u89c9\u8bc6\u522b\u76f8\u5173\u7684\u591a\u4e2a\u7c7b\u653e\u5728\u4e00\u4e2a\u5e93\u6587\u4ef6\u5f53\u4e2d\uff1a</p> <pre><code># file: visualrecog.yaml\nImageClassificationSample:\n# Each image classification sample contains an image and a label.\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\nlabel: Label[dom=$cdom]\nLocalObjectEntry:\n# Each local object entry contains a bounding box and a label.\n$def: struct\n$params: ['cdom']\n$fields:\nbbox: BBox\nlabel: Label[dom=$cdom]\nObjectDetectionSample:\n# Each object detection sample contains an image and a list of local object entries.\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\nobjects: List[etype=LocalObjectEntry[cdom=$cdom]]\n</code></pre> <p>\u901a\u8fc7\u4f7f\u7528\u8fd9\u4e2a\u5e93\u6587\u4ef6\uff0c\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u53ef\u4ee5\u7b80\u5316\u4e3a\uff1a</p> <pre><code>$dsdl-version: \"0.5.0\"\n$import: - visualrecog\nmeta:\nname: \"my-dataset\"\ncreator: \"my-team\"\ndataset-version: \"1.0.0\"\ndefs:\nMyClassDom:\n$def: class_domain\nclasses:\n- dog\n- cat\n- fish\n- tiger\ndata:\nsample-type: ImageClassificationSample[cdom=MyClassDom]\nsample-path: $local\nsamples:\n- { image: \"xyz/0001.jpg\", label: \"cat\" }\n- { image: \"xyz/0002.jpg\", label: \"dog\" }\n</code></pre> <p>\u56e0\u4e3a<code>MyClassDom</code>\u662f\u4e00\u4e2a\u5177\u4f53\u7684\u5b9a\u4e49\uff0c\u53ea\u5728\u5f53\u524d\u7684\u6570\u636e\u96c6\u4e2d\u88ab\u7528\u5230\u3002\u56e0\u6b64\u5c06\u5b83\u5b9a\u4e49\u5728\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u5f53\u4e2d\uff0c\u5e76\u4ece\u5e93\u6587\u4ef6\u4e2d\u5bfc\u5165\u66f4\u52a0\u901a\u7528\u7684\u7c7b\uff0c\u8fd9\u6837\u7684\u4f5c\u6cd5\u662f\u6ca1\u6709\u95ee\u9898\u7684\u3002</p> <p>\u6ce8\u610f\uff1a</p> <ul> <li><code>visualrecog</code>\u5e93\u53ea\u662f\u7528\u6765\u505a\u6f14\u793a\u7684\u4f8b\u5b50\u3002</li> <li>\u9664\u4e86DSDL\uff0c\u6211\u4eec\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a\u540d\u5b57\u4e3a<code>cv</code>\u7684\u6807\u51c6\u5e93\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u4e0e\u8ba1\u7b97\u673a\u89c6\u89c9\u76f8\u5173\u7684\u5927\u91cf\u5b9a\u4e49\uff0c\u5305\u62ec\u5404\u79cd\u6570\u636e\u7c7b\u578b\u4ee5\u53ca\u7c7b\u522b\u57df\u7b49\u7b49\u3002</li> </ul>"},{"location":"dsdl_language/lang/structs/","title":"\u7ed3\u6784\u7c7b","text":""},{"location":"dsdl_language/lang/structs/#24","title":"2.4 \u7ed3\u6784\u4f53\u7c7b","text":"<p>\u7ed3\u6784\u4f53\u662f\u7528\u6765\u8868\u793a\u6df7\u5408\u5bf9\u8c61\u6700\u5e38\u7528\u7684\u65b9\u6cd5\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u6570\u636e\u96c6\u4e2d\uff0c\u4e00\u4e2a\u6807\u51c6\u7684\u6570\u636e\u6837\u672c\u5c31\u662f\u7531\u591a\u4e2a\u7ec4\u4ef6\u6784\u6210\u7684\uff0c\u6bd4\u5982\u4e00\u5f20\u56fe\u50cf\u548c\u4e00\u4e2a\u7c7b\u522b\u6807\u6ce8\u3002\u56e0\u6b64\uff0c\u7ed3\u6784\u975e\u5e38\u9002\u5408\u8868\u793a\u6570\u636e\u6837\u672c\u6216\u5176\u590d\u5408\u7ec4\u4ef6\u3002 </p> <p>DSDL\u5141\u8bb8\u7528\u6237\u53bb\u5b9a\u4e49\u7ed3\u6784\u4f53\u7c7b\uff0c\u8fdb\u800c\u5bf9\u6307\u5b9a\u7c7b\u578b\u7684\u7ed3\u6784\u4f53\u8fdb\u884c\u62bd\u8c61\u3002</p>"},{"location":"dsdl_language/lang/structs/#241","title":"2.4.1 \u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b","text":"<p>\u5728DSDL\u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u7684<code>$def</code>\u90e8\u5206\u81ea\u5b9a\u4e49\u7ed3\u6784\u4f53\u7c7b\u3002\u5728get_started\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u5b57\u53eb<code>ImageClassificationSample</code>\u7684\u7ed3\u6784\u4f53\u7c7b\uff1a</p> <pre><code>ImageClassificationSample:\n$def: struct\n$fields:\nimage: Image\nlabel: Label[dom=MyClassDom]\n</code></pre> <p>\u7ed3\u6784\u4f53\u7c7b\u662f\u901a\u8fc7\u4e00\u4e2aJSON\u5bf9\u8c61\u6765\u5b9a\u4e49\u7684\uff0c\u5176\u4e2d\u5305\u542b\u4ee5\u4e0b\u5c5e\u6027\uff1a</p> <ul> <li><code>$def</code>\uff1a\u5b83\u7684\u503c\u5fc5\u987b\u662f<code>\"struct\"</code>\uff0c\u8868\u793a\u8be5JSON\u5bf9\u8c61\u6b63\u5728\u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u3002</li> <li><code>$fields</code>\uff1a\u5b83\u7684\u503c\u5fc5\u987b\u662f\u4e00\u4e2aJSON\u5bf9\u8c61\uff0c\u5305\u542b\u4e86\u4e00\u7cfb\u5217\u7684\u5c5e\u6027\uff0c\u6bcf\u4e2a\u5c5e\u6027\u5bf9\u5e94\u4e86\u4e00\u4e2a\u5b57\u6bb5\u3002\u7279\u522b\u5730\uff0c<code>$fields</code>\u7684\u6bcf\u4e2a\u5c5e\u6027\u4e2d\uff0c\u952e\u5c06\u88ab\u4f5c\u4e3a\u5b57\u6bb5\u540d\u79f0\uff0c\u503c\u5219\u4e3a\u5bf9\u5e94\u5b57\u6bb5\u7684\u7c7b\u578b\u89c4\u8303\u3002\u5b57\u6bb5\u7684\u7c7b\u578b\u89c4\u8303\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u4e24\u79cd\u65b9\u5f0f\u6307\u5b9a\uff1a</li> <li>\u53ea\u6307\u5b9a\u6570\u636e\u7c7b\u578b\u540d\u79f0\uff1a\u53ea\u7ed9\u5b9a\u5b57\u6bb5\u7684\u6570\u636e\u7c7b\u578b\u540d\u79f0\uff08\u5982\u679c\u8be5\u6570\u636e\u7c7b\u578b\u662f\u542b\u53c2\u6570\u636e\u7c7b\u578b\uff0c\u5219\u53c2\u6570\u4f1a\u4f7f\u7528\u9ed8\u8ba4\u503c\uff09\u3002</li> <li>\u6307\u5b9a\u542b\u53c2\u6570\u636e\u7c7b\u578b\uff1a\u7528\u6237\u53ef\u4ee5\u901a\u8fc7JSON\u5bf9\u8c61\u6307\u5b9a\u7279\u5b9a\u7684\u542b\u53c2\u6570\u636e\u7c7b\u578b\uff0c\u5176\u4e2d\u7684<code>$type</code>\u5c5e\u6027\u6307\u5b9a\u7c7b\u578b\u7684\u540d\u79f0\uff0c\u5e76\u4f7f\u7528\u5176\u4ed6\u5c5e\u6027\u6765\u8bbe\u7f6e\u7c7b\u578b\u53c2\u6570\u3002\u53ef\u4ee5\u67e5\u770b\u4f8b\u5b50\u4e2d\u7684<code>label</code>\u5b57\u6bb5\u7684\u58f0\u660e\u3002</li> </ul>"},{"location":"dsdl_language/lang/structs/#242","title":"2.4.2 \u5d4c\u5957\u7ed3\u6784\u4f53","text":"<p>\u5728DSDL\u4e2d\uff0c\u7ed3\u6784\u4f53\u53ef\u4ee5\u662f\u5d4c\u5957\u7684\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u4e00\u4e2a\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\u7684\u6837\u672c\u53ef\u80fd\u7531\u4e00\u5f20\u56fe\u50cf\u548c\u591a\u4e2a\u201c\u5c40\u90e8\u76ee\u6807\u201d\u7ec4\u6210\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5c40\u90e8\u76ee\u6807\u90fd\u53ef\u4ee5\u88ab\u8868\u793a\u4e3a\u5305\u542b\u4e00\u4e2abounding box\u548c\u4e00\u4e2a\u7c7b\u522b\u6807\u6ce8\u7684\u7ed3\u6784\u4f53\u3002\u5bf9\u4e8e\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u6211\u4eec\u53ef\u4ee5\u50cf\u4e0b\u9762\u8fd9\u6837\u5b9a\u4e49\u7ed3\u6784\u4f53\uff1a</p> <pre><code>LocalObjectEntry:\n# Each entry refers to an individual detected object on an image.\n$def: struct\n$fields:\nbbox: BBox\nlabel: Label[dom=MyClassDom]\nObjectDetectionSample:\n# Each sample contains the detection results on an image.\n$def: struct\n$fields:\nimage: Image\nobjects: List[etype=LocalObjectEntry]\n</code></pre> <p>\u5176\u4e2d<code>LocalObjectEntry</code>\u7ed3\u6784\u4f53\u7c7b\u5d4c\u5957\u8fdb\u4e86<code>ObjectDetectionSample</code>\u7c7b\u5f53\u4e2d\u3002</p>"},{"location":"dsdl_language/lang/structs/#243","title":"2.4.3 \u542b\u53c2\u7ed3\u6784\u4f53\u7c7b","text":"<p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u7ed3\u6784\u4f53\u7c7b<code>LocalObjectEntry</code>\u4f7f\u7528\u4e86\u4e00\u4e2a\u6307\u5b9a\u597d\u7684\u7c7b\u522b\u57df<code>MyClassDom</code>\uff0c\u800c\u7ed3\u6784\u4f53\u7c7b<code>ObjectDetectionSample</code>\u4e5f\u4f1a\u50cf\u5b83\u7684\u5185\u5d4c\u7ed3\u6784\u4f53\u7c7b<code>LocalObjectEntry</code>\u4e00\u6837\uff0c\u4f7f\u7528<code>MyClassDom</code>\u4f5c\u4e3a\u7c7b\u522b\u57df\u3002\u8fd9\u6837\u7684\u5b9a\u4e49\u662f\u4e0d\u901a\u7528\u7684\uff0c\u56e0\u4e3a\u4e3a\u4e86\u80fd\u4f7f\u7528\u5176\u4ed6\u7684\u7c7b\u522b\u57df\uff0c\u7528\u6237\u5219\u4e0d\u5f97\u4e0d\u91cd\u5199\u53e6\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u3002</p> <p>DSDL\u63d0\u4f9b\u4e86\u542b\u53c2\u7ed3\u6784\u4f53\u7c7b\u6765\u89e3\u51b3\u4e0a\u9762\u7684\u95ee\u9898\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u4e00\u4e2a\u542b\u53c2\u7ed3\u6784\u4f53\u7c7b\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a\u7c7b\u6a21\u677f\uff0c\u5141\u8bb8\u6211\u4eec\u5728\u4f7f\u7528\u7c7b\u65f6\u8bbe\u7f6e\u6307\u5b9a\u7684\u53c2\u6570\u3002\u901a\u8fc7\u4f7f\u7528\u542b\u53c2\u7ed3\u6784\u4f53\u7c7b\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee5\u4e00\u79cd\u66f4\u901a\u7528\u7684\u65b9\u6cd5\u5b9a\u4e49\u7c7b\u3002</p> <p>\u62ff\u76ee\u6807\u68c0\u6d4b\u4e3a\u4f8b\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684\u7c7b\u91cd\u65b0\u5b9a\u4e49\uff1a</p> <pre><code>LocalObjectEntry:\n$def: struct\n$params: ['cdom']\n$fields:\nbbox: BBox\nlabel: Label[dom=$cdom]\nObjectDetectionSample:\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\nobjects: List[etype=LocalObjectEntry[cdom=$cdom]]\n</code></pre> <p>\u5728\u7ed3\u6784\u4f53\u7c7b\u7684\u5b9a\u4e49\u4e2d\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u4e00\u4e2a\u5c5e\u6027<code>$params</code>\uff0c\u5f53<code>$params</code>\u5c5e\u6027\u88ab\u663e\u793a\u5730\u7ed9\u51fa\uff0c\u5e76\u4e14\u975e\u7a7a\u7684\u8bdd\uff0c\u8fd9\u4e2a\u7ed3\u6784\u4f53\u7c7b\u5c31\u662f\u542b\u53c2\u7684\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5f53\u4e00\u4e2a\u542b\u53c2\u7684\u7c7b\u88ab\u4f7f\u7528\u65f6\uff0c\u5b83\u7684\u53c2\u6570\u5fc5\u987b\u88ab\u7ed9\u5b9a\uff0c\u4ece\u800c\u5b83\u624d\u80fd\u6210\u4e3a\u4e00\u4e2a\u5177\u4f53\u7684\u7c7b\u3002</p> <p>\u5c24\u5176\u8981\u6307\u51fa\uff0c\u5728\u4e0a\u9762\u7684<code>LocalObjectEntry</code>\u7c7b\u4e2d\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u4e00\u4e2a\u7c7b\u53c2\u6570<code>cdom</code>\uff0c\u7528\u6765\u6307\u660e<code>label</code>\u7684<code>domain</code>\u5c5e\u6027\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5f53\u4f7f\u7528\u4e00\u4e2a\u7c7b\u53c2\u6570\u65f6\uff0c\u9700\u8981\u4f7f\u7528<code>[]</code>\u5c06\u5176\u56f4\u4f4f\u3002</p> <p>\u63a5\u7740\uff0c<code>ObjectDetectionSample</code>\u7c7b\u4e5f\u540c\u6837\u88ab\u5b9a\u4e49\u4e3a\u4e00\u4e2a\u542b\u53c2\u7ed3\u6784\u4f53\u7c7b\uff0c\u53c2\u6570\u4e3a<code>cdom</code>\uff0c\u8be5\u53c2\u6570\u7528\u6765\u6307\u660e\u5bf9\u8c61<code>objects</code>\u7684\u7c7b\u522b\u57df\u3002</p> <p>\u4f7f\u7528\u8fd9\u6837\u7684\u7c7b\u5b9a\u4e49\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u6570\u636e\u96c6\u6837\u672c\u6309\u5982\u4e0b\u683c\u5f0f\u8868\u793a\uff1a</p> <pre><code>data:\nsample-type: $type: ObjectDetectionSample\ncdom: MyClassDom\nsamples:\n- image: \"abc/0001.jpg\"\nobjects:\n- { bbox: [1, 2, 3, 4], label: 1 }\n- { bbox: [5, 6, 7, 8], label: 2 }\n- image: \"abc/0002.jpg\"\nobjects:\n- { bbox: [1, 2, 3, 4], label: 3 }\n- { bbox: [5, 6, 7, 8], label: 2 }\n- { bbox: [4, 3, 5, 8], label: 3 }\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u53c2\u6570<code>cdom</code>\u5df2\u7ecf\u88ab\u8bbe\u4e3a\u4e86<code>MyClassDom</code>\uff0c\u56e0\u6b64\u542b\u53c2\u7ed3\u6784\u4f53\u7c7b<code>ObjectDetectionSample</code>\u5df2\u7ecf\u6210\u4e3a\u4e86\u4e00\u4e2a\u5177\u4f53\u7c7b\uff0c\u5e76\u5728\u6837\u672c\u7c7b\u522b\u5b57\u6bb5\u4e2d\u88ab\u6307\u5b9a\u3002</p>"},{"location":"dsdl_language/lang/unstructured_objs/","title":"\u975e\u7ed3\u6784\u5316\u5bf9\u8c61\u7c7b","text":""},{"location":"dsdl_language/lang/unstructured_objs/#23","title":"2.3 \u975e\u7ed3\u6784\u5316\u5bf9\u8c61\u7c7b","text":"<p>\u975e\u7ed3\u6784\u5316\u5bf9\u8c61\uff0c\u6bd4\u5982\u56fe\u50cf\uff0c\u89c6\u9891\uff0c\u8bed\u97f3\uff0c\u70b9\u4e91\u4ee5\u53ca\u6587\u672c\uff0c\u8fd9\u4e9b\u90fd\u662f\u73b0\u5b9e\u4e16\u754c\u7269\u4f53\u7684\u6570\u5b57\u5316\u8868\u793a\u3002\u5c3d\u7ba1\u8fd9\u4e9b\u6570\u636e\u7684\u5185\u90e8\u7ed3\u6784\u5f88\u4e30\u5bcc\uff0c\u5728\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u4e2d\uff0c\u4ed6\u4eec\u8fd8\u662f\u88ab\u5f53\u4f5c\u662f\u4e00\u4e2a\u6574\u4f53\uff0c\u5176\u5185\u90e8\u7ed3\u6784\u5e76\u4e0d\u4f1a\u88ab\u8868\u73b0\u51fa\u6765\u3002</p> <p>\u5728DSDL\u4e2d\uff0c\u4e00\u4e2a\u975e\u7ed3\u6784\u5316\u5bf9\u8c61\u7c7b\u662f\u5bf9\u6240\u6709\u7279\u5b9a\u7c7b\u578b\u975e\u7ed3\u6784\u5316\u5bf9\u8c61\u7684\u62bd\u8c61\u3002</p>"},{"location":"dsdl_language/lang/unstructured_objs/#231","title":"2.3.1 \u9884\u5b9a\u4e49\u7684\u975e\u7ed3\u6784\u5316\u5bf9\u8c61\u7c7b","text":"<p>\u5728\u6807\u51c6\u5e93\u5185\uff0cDSDL\u63d0\u4f9b\u4e86\u4e0b\u9762\u51e0\u4e2a\u5f00\u7bb1\u5373\u7528\u7684\u975e\u7ed3\u6784\u5316\u5bf9\u8c61\u7c7b\uff1a</p> <ul> <li><code>Image</code>\uff1a\u6bcf\u4e2a\u5b9e\u4f8b\u90fd\u662f\u4e00\u5f20\u56fe\u50cf\uff0c\u53ef\u4ee5\u901a\u8fc7\u50cf\u7d20\u7684\u77e9\u9635\u6765\u8868\u793a\u3002</li> <li><code>Video</code>\uff1a\u6bcf\u4e2a\u5b9e\u4f8b\u53ef\u4ee5\u88ab\u89e3\u7801\u4e3a\u4e00\u4e2a\u5e8f\u5217\u7684\u89c6\u9891\u5e27\uff0c\u6bcf\u4e2a\u89c6\u9891\u5e27\u90fd\u662f\u4e00\u5f20\u56fe\u50cf\u3002</li> <li><code>Audio</code>\uff1a\u6bcf\u4e2a\u5b9e\u4f8b\u90fd\u662f\u4e00\u6bb5\u97f3\u9891\u4fe1\u53f7\uff0c\u53ef\u4ee5\u901a\u8fc7\u6ce2\u5e8f\u5217\u6765\u8868\u793a\u3002</li> <li><code>Text</code>\uff1a\u6bcf\u4e2a\u5b9e\u4f8b\u90fd\u662f\u4e00\u4e2a\u5355\u8bcd\u5e8f\u5217\u3002</li> <li><code>PointCloud</code>\uff1a\u6bcf\u4e2a\u5b9e\u4f8b\u90fd\u662f3D\u70b9\u7684\u96c6\u5408\uff0c\u7528\u6765\u8868\u793a\u4e00\u4e2a3D\u5bf9\u8c61\u7684\u5f62\u72b6\u3002</li> <li><code>LabelMap</code>\uff1a\u6bcf\u4e2a\u5b9e\u4f8b\u90fd\u662f\u6574\u578b\u6807\u6ce8\u7684\u7ec4\u6210\u7684\u77e9\u9635\uff0c\u6bcf\u4e2a\u6574\u578b\u6807\u6ce8\u5bf9\u5e94\u4e86\u4e00\u4e2a\u7c7b\u522b\u3002</li> </ul>"},{"location":"dsdl_language/lang/unstructured_objs/#232","title":"2.3.2 \u63cf\u8ff0\u4e00\u4e2a\u975e\u7ed3\u6784\u5316\u5bf9\u8c61","text":"<p>\u5728DSDL\u4e2d\uff0c\u4e00\u4e2a\u975e\u7ed3\u6784\u5316\u5bf9\u8c61\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u5bf9\u8c61\u5b9a\u4f4d\u5668\u548c\u4e00\u4e2a\u53ef\u9009\u7684\uff0c\u7528\u6765\u63d0\u4f9b\u5bf9\u8c61\u989d\u5916\u4fe1\u606f\u7684\u63cf\u8ff0\u5668\u6765\u58f0\u660e\u3002</p> <p>\u62ff\u4e00\u5f20\u8def\u5f84\u4e3a<code>abc/0001.jpg</code>\u4e3a\u4f8b\uff0c\u5b83\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u4efb\u610f\u4e00\u79cd\u65b9\u5f0f\u6765\u8868\u793a\uff1a</p> <ul> <li> <p>\u53ea\u4f7f\u7528\u76ee\u6807\u5b9a\u4f4d\u5668\uff1a\u53ea\u4f7f\u7528\u76ee\u6807\u5b9a\u4f4d\u5668<code>abc/0001.jpg</code>\u3002\u5f53\u4e00\u4e2a\u53d8\u91cf\u6216\u8005\u4e00\u4e2a\u5b57\u6bb5\u6709\u4e00\u4e2a\u975e\u7ed3\u6784\u5316\u76ee\u6807\u7c7b\u7684\u6570\u636e\u7c7b\u578b\u5e76\u4e14\u5b83\u7684\u503c\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5219\u8be5\u5b57\u7b26\u4e32\u5c06\u88ab\u89e3\u6790\u4e3a\u4e00\u4e2a\u76ee\u6807\u5b9a\u4f4d\u5668\u3002</p> </li> <li> <p>\u4f7f\u7528\u63cf\u8ff0\u5668\uff1a\u5982\u679c\u7528\u6237\u60f3\u63d0\u4f9b\u4e00\u4e9b\u989d\u5916\u7684\u4fe1\u606f\uff0c\u6bd4\u5982\u5c3a\u5bf8\u6216\u8272\u5f69\u6a21\u5f0f\u7b49\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2ajson\u5bf9\u8c61\u6765\u8868\u793a\u8be5\u975e\u7ed3\u6784\u5316\u5bf9\u8c61\uff0cjson\u5bf9\u8c61\u5305\u542b<code>$loc</code>\u548c<code>$descr</code>\u4e24\u4e2a\u5c5e\u6027\uff0c\u5177\u4f53\u5982\u4e0b\uff1a</p> </li> </ul> <pre><code>$loc: \"abc/0001.jpg\"\n$descr:\nsize: [640, 480]\ncolor: \"rgb\"\n</code></pre> <p>\u8fd9\u91cc\u7684\u63cf\u8ff0\u4fe1\u606f\u901a\u8fc7<code>$descr</code>\u5b57\u6bb5\u6765\u63d0\u4f9b\uff0c\u4f1a\u88ab\u5bf9\u5e94\u7684\u975e\u7ed3\u6784\u5316\u5bf9\u8c61\u7c7b\u7684\u5bf9\u8c61\u52a0\u8f7d\u5668\u4f7f\u7528\u3002</p>"},{"location":"dsdl_language/lang/unstructured_objs/#233","title":"2.3.3 \u6269\u5c55\u975e\u7ed3\u6784\u5316\u5bf9\u8c61\u7c7b","text":"<p>DSDL\u5141\u8bb8\u7528\u6237\u901a\u8fc7\u6307\u5b9a\u5982\u4f55\u4ece\u5b58\u50a8\u4e2d\u52a0\u8f7d\u5bf9\u8c61\u6765\u6ce8\u518c\u6269\u5c55\u975e\u7ed3\u6784\u5316\u5bf9\u8c61\u7c7b\u3002</p> <p>\u5728\u5ba2\u6237\u7aef\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b9a\u4e49\u4e00\u4e2a\u62bd\u8c61\u57fa\u7c7b<code>UnstructuredObject</code>\u7684\u5b50\u7c7b\u5e76\u5b9e\u73b0\u5176<code>load</code>\u65b9\u6cd5\u6765\u8fdb\u884c\u5bf9\u8c61\u52a0\u8f7d\uff0c\u4ece\u800c\u5b9e\u73b0\u6269\u5c55\u975e\u7ed3\u6784\u5316\u5bf9\u8c61\u7c7b\u3002</p> <p>\u5177\u4f53\u6765\u8bb2\uff0c\u5728Python\u4e2d\uff0c\u62bd\u8c61\u57fa\u7c7b<code>UnstructuredObject</code>\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u5f0f\u5b9a\u4e49\uff1a</p> <pre><code>from abc import ABC, abstractmethod\nclass UnstructuredObject(ABC):\n\"\"\"Abstract base class for unstructured objects.\"\"\"\n@abstractmethod\ndef load(file, descr):\n\"\"\"Load an unstructured object from a given file-like object.\n        Arguments:\n            file:   file-like, from which the unstructured object is loaded.\n            descr:  dict-like, which provides the descriptive information.\n        Returns:\n            The loaded object.\n        \"\"\"\npass\n</code></pre> <p>\u6ce8\u610f\uff1a\u8fd9\u91cc\u7684<code>load</code>\u65b9\u6cd5\u9700\u8981\u63a5\u6536\u4e00\u4e2a\u5df2\u7ecf\u6253\u5f00\u7684\u6587\u4ef6\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u6587\u4ef6\u8def\u5f84\u3002\u8be5\u8bbe\u8ba1\u662f\u57fa\u4e8e\u201c\u5173\u6ce8\u70b9\u5206\u79bb\u201d\u539f\u5219\uff1a\u6570\u636e\u7cfb\u7edf\u6709\u8d23\u4efb\u53bb\u89e3\u6790\u5bf9\u8c61\u5b9a\u4f4d\u5668\u5e76\u4e14\u6784\u5efa\u4e00\u4e2a\u5bf9\u5e94\u7684\u6587\u4ef6\u9605\u8bfb\u5668\u3002\u56e0\u6b64<code>UnstructuredObject</code>\u7c7b\u7684\u5b50\u7c7b\u53ea\u9700\u8981\u8003\u8651\u5728\u7ed9\u5b9a\u4e00\u4e2a\u6587\u4ef6\u9605\u8bfb\u5668\u540e\uff0c\u5982\u4f55\u52a0\u8f7d\uff0c\u89e3\u6790\u4e0e\u9a8c\u8bc1\u5bf9\u8c61\u3002</p>"},{"location":"dsdl_template/intro_labeling/","title":"\u81ea\u5b9a\u4e49\u6570\u636e\u96c6","text":"<p>\u8be5\u6587\u6863\u4e3b\u8981\u4ecb\u7ecd\u4e24\u65b9\u9762\uff1a</p> <ul> <li>\u5982\u4f55\u81ea\u5b9a\u4e49\u6570\u636e\u96c6\uff08\u5373\u5236\u5b9a\u67d0\u4e2a\u4efb\u52a1\u7684\u6a21\u677f\u9700\u8981\u5305\u542b\u54ea\u4e9b\u5b57\u6bb5\u7b49\uff09</li> <li>\u5982\u4f55\u5c06\u6a21\u677f\u5bfc\u5165\u6807\u6ce8\u5de5\u5177\uff0c\u8fdb\u884c\u6807\u6ce8</li> </ul>"},{"location":"dsdl_template/intro_labeling/#_2","title":"\u5982\u4f55\u81ea\u5b9a\u4e49\u6570\u636e\u96c6","text":"<p>\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li>yaml\u6587\u4ef6\u7684\u7ed3\u6784\u4ecb\u7ecd\u548c\u521b\u5efa\u65b9\u6cd5</li> <li>\u5982\u4f55\u4f7f\u7528\u201c\u4efb\u52a1\u6a21\u677f\u201d\u90e8\u5206\u7684\u4efb\u52a1\u6a21\u677f</li> </ul> <p>\uff08\u540c\u7ea7\u6587\u4ef6\u5939\u201c\u4efb\u52a1\u6a21\u677f\u201d\u90e8\u5206\u7531\u5404\u4e2a\u8d1f\u8d23\u4eba\u586b\u5199\uff09</p>"},{"location":"dsdl_template/intro_labeling/#_3","title":"\u5bfc\u5165\u6807\u6ce8\u5de5\u5177","text":"<p>\u4ecb\u7ecd\u5bfc\u5165\u6807\u6ce8\u5de5\u5177\u7684\u65b9\u6cd5\u3002</p> <p>\uff08\u6682\u65e0\uff09</p>"},{"location":"dsdl_template/overview/","title":"\u4efb\u52a1\u6a21\u677f\u4ecb\u7ecd","text":"<p>\u4e3a\u4e86\u65b9\u4fbf\u7528\u6237\u5bf9\u4efb\u52a1\u6a21\u677f\u8fdb\u884c\u4f7f\u7528\u548c\u5b9a\u4e49\uff0c\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217CV\u548cNLP\u4efb\u52a1\u7684\u6a21\u677f\u3002</p> <p>\u4ee5\u4e0b\u8868\u683c\u5c55\u793a\u4e86\u76ee\u524d\u63d0\u4f9b\u7684\u4efb\u52a1\u6a21\u677f\uff1a</p> <ul> <li>\u4efb\u52a1\u4e2d\u6587\u540d\u79f0</li> <li>\u4efb\u52a1\u82f1\u6587\u5168\u79f0\uff1a\u5982\u679c\u9700\u8981\u8c03\u7528\u6a21\u677f\u8fdb\u884c\u6570\u636e\u96c6\u7684DSDL\u8f6c\u6362\uff0c\u53ef\u4ee5\u76f4\u63a5\u5229\u7528\u4efb\u52a1\u82f1\u6587\u5168\u79f0\u8fdb\u884c\u8c03\u7528\uff0c\u8be6\u60c5\u8bf7\u89c1\u6570\u636e\u96c6\u8f6c\u6362\u9875\u9762\u3002</li> <li>\u4efb\u52a1\u82f1\u6587\u7b80\u79f0\uff1a\u7528\u6237\u4eceOpenDataLab\u4e0b\u8f7d\u5230\u7684DSDL\u6570\u636e\u96c6\u4e2d\u7684DSDL\u6807\u6ce8\u5c06\u4ee5dsdl_[task_name]_[lite/full]\u7684\u65b9\u5f0f\u547d\u540d\uff0c\u5176\u4e2d\u7684[task_name]\u5373\u4e3a\u4efb\u52a1\u82f1\u6587\u7b80\u79f0\u3002</li> <li>\u4efb\u52a1\u6a21\u677f\u8be6\u60c5\u9875\uff1a\u7528\u6237\u53ef\u4ee5\u8fdb\u884c\u4efb\u52a1\u6a21\u677f\u8be6\u60c5\u9875\u4e86\u89e3\u4efb\u52a1\u7684\u5177\u4f53\u4fe1\u606f\uff08\u4efb\u52a1\u8c03\u7814\u548c\u6d4b\u8bc4\u6307\u6807\uff09\uff0c\u4ee5\u53ca\u6a21\u677f\u4e2d\u5404\u4e2a\u5b57\u6bb5\u7684\u542b\u4e49\u3002</li> </ul> <p>CV\u76f8\u5173\u7684\u4efb\u52a1\u6a21\u677f\u5982\u4e0b\uff1a</p> \u4efb\u52a1\u4e2d\u6587\u540d\u79f0 \u4efb\u52a1\u82f1\u6587\u5168\u79f0 \u4efb\u52a1\u82f1\u6587\u7b80\u79f0 \u4efb\u52a1\u6a21\u677f\u8be6\u60c5\u9875 \u56fe\u50cf\u5206\u7c7b Image Classification Cls \u56fe\u50cf\u5206\u7c7b \u76ee\u6807\u68c0\u6d4b Object Detection Det \u76ee\u6807\u68c0\u6d4b \u8bed\u4e49\u5206\u5272 Semantic Segmentation SemSeg \u56fe\u50cf\u5206\u5272 \u5b9e\u4f8b\u5206\u5272-polygon\u6807\u6ce8 Instance Segmentation-polygon SemSeg \u5b9e\u4f8b\u5206\u5272-\u5206\u5272\u56fe\u6807\u6ce8 Instance Segmentation-segmap SemSeg \u5168\u666f\u5206\u5272 Panoptic Segmentation PanSeg \u5173\u952e\u70b9\u68c0\u6d4b Keypoint Detection KeyDet \u5173\u952e\u70b9\u68c0\u6d4b \u76ee\u6807\u8ddf\u8e2a Object Tracking SOT \u76ee\u6807\u8ddf\u8e2a \u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b Rotated Object Detection RotDet \u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b \u5149\u5b66\u5b57\u7b26\u8bc6\u522b-\u68c0\u6d4b Optical Character Recognition-detection OCR \u5149\u5b66\u5b57\u7b26\u8bc6\u522b(OCR) \u5149\u5b66\u5b57\u7b26\u8bc6\u522b-\u5206\u5272 Optical Character Recognition-segmentation OCR \u5149\u5b66\u5b57\u7b26\u8bc6\u522b-\u8bc6\u522b Optical Character Recognition-recognition OCR \u5149\u5b66\u5b57\u7b26\u8bc6\u522b-\u7aef\u5230\u7aef Optical Character Recognition-end_to_end OCR \u56fe\u50cf\u751f\u6210 Image Generation Gen \u56fe\u50cf\u751f\u6210"},{"location":"dsdl_template/cv/cv_classification/","title":"\u56fe\u50cf\u5206\u7c7b\u4efb\u52a1","text":"<p>\u4e3a\u4e86\u5236\u5b9a\u56fe\u50cf\u5206\u7c7b\u4efb\u52a1\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u7684\u6a21\u677f\uff0c\u6211\u4eec\u5bf9\u4e3b\u6d41\u7684\u5206\u7c7b\u4efb\u52a1\u6570\u636e\u96c6\u8fdb\u884c\u4e86\u8c03\u7814\uff0c\u5206\u6790\u5176\u4efb\u52a1\u7684\u76ee\u7684\u548c\u5e38\u89c1\u6807\u6ce8\u4fe1\u606f\u6240\u5305\u542b\u7684\u5b57\u6bb5\uff0c\u4ece\u4e2d\u6574\u7406\u51fa\u901a\u7528\u5171\u4eab\u548c\u72ec\u7acb\u5b57\u6bb5\uff0c\u5e76\u5728\u6b64\u57fa\u7840\u4e0a\u5236\u5b9a\u5206\u7c7b\u4efb\u52a1\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u7684\u901a\u7528\u6a21\u677f\u3002</p>"},{"location":"dsdl_template/cv/cv_classification/#1","title":"1. \u4efb\u52a1\u8c03\u7814","text":""},{"location":"dsdl_template/cv/cv_classification/#11","title":"1.1 \u4efb\u52a1\u5b9a\u4e49","text":"<p>\u56fe\u50cf\u5206\u7c7b\u662f\u6307\u7ed9\u5b9a\u4e00\u5f20\u8f93\u5165\u56fe\u50cf\uff0c\u8f93\u51fa\u5176\u8bed\u4e49\u7c7b\u522b\u3002</p> <p></p>"},{"location":"dsdl_template/cv/cv_classification/#12","title":"1.2 \u8bc4\u4ef7\u6307\u6807","text":"<p>\u4efb\u52a1\u7684\u8bc4\u4ef7\u6307\u6807\u4e00\u822c\u6709\u4e24\u4e2a\uff1atop-5\u7684\u51c6\u786e\u7387\u548ctop-1\u7684\u51c6\u786e\u7387\uff0c\u51c6\u786e\u7387=\uff08\u6b63\u786e\u5206\u7c7b\u56fe\u7247\u4e2a\u6570\uff09/\uff08\u6240\u6709\u56fe\u7247\u4e2a\u6570\uff09\u3002top-5\u51c6\u786e\u7387\u6307\u7684\u662f\u524d5\u4e2a\u5f97\u5206\u6700\u9ad8\u7684\u9884\u6d4b\u7c7b\u522b\u91cc\u6709\u4e00\u4e2a\u662f\u6b63\u786e\u7684\uff0c\u5c31\u7b97\u8fd9\u4e2a\u6837\u672c\u88ab\u6b63\u786e\u5206\u7c7b\u4e86\uff0c\u800ctop-1\u51c6\u786e\u7387\u8ba1\u7b97\u65f6\u5fc5\u987b\u8981\u6ee1\u8db3\u9884\u6d4b\u5206\u6570\u6700\u9ad8\u7684\u9884\u6d4b\u7c7b\u522b\u662f\u6b63\u786e\u7684\uff0c\u624d\u7b97\u8fd9\u4e2a\u6837\u672c\u88ab\u6b63\u786e\u5206\u7c7b\u4e86\u3002</p> <p></p>"},{"location":"dsdl_template/cv/cv_classification/#13","title":"1.3 \u4e3b\u6d41\u6570\u636e\u96c6\u8c03\u7814","text":"<p>\u6211\u4eec\u8c03\u7814\u4e8610\u4e2a\u4e3b\u6d41\u5206\u7c7b\u6570\u636e\u96c6\uff0c\u5176\u4e2d\u5305\u542b\u4e86ImageNet-1K\u3001MNIST\u3001CIFAR10\u7b49\u5e38\u89c1\u6570\u636e\u96c6\u3002\u4e3a\u4e86\u4f7f\u5f97\u6a21\u677f\u66f4\u52a0\u901a\u7528\uff0c\u540c\u65f6\u4e5f\u5177\u5907\u62d3\u5c55\u80fd\u529b\uff0c\u6211\u4eec\u7740\u91cd\u5173\u6ce8\u5404\u4e2a\u6570\u636e\u96c6\u4e4b\u95f4\u7684\u5171\u6027\u548c\u7279\u6027\uff0c\u6b64\u5916\uff0c\u8c03\u7814\u8fc7\u7a0b\u4f1a\u9047\u5230\u4e00\u4e9b\u540d\u79f0\u4e0d\u540c\uff0c\u4f46\u662f\u5b9e\u9645\u542b\u4e49\u76f8\u540c\u6216\u7c7b\u4f3c\u7684\u5b57\u6bb5\uff0c\u8fd9\u4e9b\u5b57\u6bb5\u6211\u4eec\u4e5f\u89c6\u4e3a\u540c\u4e00\u5b57\u6bb5\uff0c\u5e76\u7edf\u4e00\u53bb\u547d\u540d\uff0c\u6bd4\u5982image_id\u5b57\u6bb5\u4e00\u822c\u8868\u793a\u56fe\u7247\u7684\u8def\u5f84\u6216\u8005id\uff0c\u4ed6\u662f\u56fe\u7247\u7684\u552f\u4e00\u6807\u8bc6\uff1blabel_id\u5219\u8868\u793a\u56fe\u7247\u7684\u7c7b\u522b\uff0c\u53ef\u4ee5\u7528\u6570\u5b57\u8868\u793a\uff0c\u4e5f\u53ef\u4ee5\u7528\u5b57\u7b26\u4e32\u8868\u793a\u3002\u5b8c\u6574\u7684\u5b57\u6bb5\u8c03\u7814\u7ed3\u679c\u5982\u4e0b\u8868\u6240\u793a\uff1a  \u56fe\u50cf\u5206\u7c7b\u6570\u636e\u96c6 \u5171\u4eab\u5b57\u6bb5 \u72ec\u7acb\u5b57\u6bb5 image_id label_id superclass ImageNet-21K Y Y Y ImageNet-1K Y Y Y CIFAR10 Y Y CIFAR100 Y Y Y MNIST Y Y Fashion-MNIST Y Y Caltech-256 Y Y Oxford Flowers-102 Y Y </p> <p>\u7ecf\u8fc7\u6574\u7406\uff0c\u5206\u7c7b\u4efb\u52a1\u7684\u5171\u4eab\u5b57\u6bb5\u548c\u72ec\u7acb\u5b57\u6bb5\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> \u5b57\u6bb5\u7c7b\u578b \u5b57\u6bb5\u540d\u79f0 \u542b\u4e49 \u5171\u4eab\u5b57\u6bb5 image_id \u5b9a\u4f4d\u5230\u552f\u4e00\u56fe\u7247\uff0c\u6bd4\u5982\u7528\u56fe\u7247\u540d\u6216\u8005\u56fe\u7247\u8def\u5f84\u8868\u793a label_id \u56fe\u7247\u6240\u5c5e\u7684\u7c7b\u522b\uff0c\u7c7b\u578b\u4e3aint\u8868\u793a\u4e3a\u5355\u6807\u7b7e\uff0c\u7c7b\u578b\u4e3aList[int]\u8868\u793a\u591a\u6807\u7b7e \u72ec\u7acb\u5b57\u6bb5 superclass \u56fe\u7247\u6240\u5c5e\u7c7b\u522b\u7684\u7236\u7c7b\u522b\uff0c\u6bd4\u5982\"dog\"\u7684\u7236\u7c7b\u53ef\u80fd\u662f\"animal\" <p>\u53ef\u4ee5\u770b\u5230\uff0c\u5982\u679c\u8981\u63cf\u8ff0\u4e00\u4e2a\u5206\u7c7b\u6570\u636e\u96c6\u7684\u6837\u672c\uff0cimage_id\u548clabel_id\u662f\u6700\u57fa\u7840\u7684\u5b57\u6bb5\uff0c\u540c\u65f6\uff0c\u4e5f\u4f1a\u6709\u7c7b\u4f3csuperclass\u7684\u7279\u6709\u5b57\u6bb5\u3002  </p> <p></p>"},{"location":"dsdl_template/cv/cv_classification/#2","title":"2. \u6a21\u677f\u5c55\u793a","text":"<p>\u6839\u636e\u4e0a\u8ff0\u7684\u8c03\u7814\u7ed3\u679c\uff0c\u6211\u4eec\u77e5\u9053\u5bf9\u4e8e\u5206\u7c7b\u4efb\u52a1\uff0c\u4e00\u4e2a\u6837\u672c\u6700\u91cd\u8981\u7684\u5c5e\u6027\u662f\u56fe\u7247\u7684id(\u6216\u8def\u5f84)\u4ee5\u53ca\u56fe\u7247\u7684\u7c7b\u522b\uff0c\u56e0\u6b64\u6211\u4eec\u5728\u5206\u7c7b\u4efb\u52a1\u7ed3\u6784\u4f53\uff08\u7ed3\u6784\u4f53\u7684\u6982\u5ff5\u8bf7\u53c2\u8003DSDL\u5165\u95e8\u6587\u6863-\u8bed\u8a00\u5b9a\u4e49-\u7ed3\u6784\u4f53\u90e8\u5206\uff09\u7684fields \u5c5e\u6027\u4e2d\u5b9a\u4e49\u4e86image\u548clabel\u4e24\u4e2a\u5b57\u6bb5\uff1b\u5176\u6b21\uff0c\u4e0d\u540c\u7684\u6570\u636e\u96c6\u6240\u8574\u542b\u7684\u7c7b\u522b\u662f\u5404\u4e0d\u76f8\u540c\u7684\uff0c\u6240\u4ee5\u5728sample\u4e2d\u9700\u8981\u6709\u4e00\u4e2a\u5f62\u53c2\uff0c\u6765\u5bf9\u7c7b\u522b\u57df\u8fdb\u884c\u9650\u5b9a\uff08\u5728dsdl\u4e2d\uff0c\u6211\u4eec\u5c06\u7c7b\u522b\u57df\u63cf\u8ff0\u4e3aclass domain\uff0c\u6216\u8005cdom\uff0c\u5177\u4f53\u53ef\u4ee5\u53c2\u8003DSDL\u5165\u95e8\u6587\u6863-\u8bed\u8a00\u5b9a\u4e49-\u7c7b\u522b\u57df\u4e2d\u66f4\u8be6\u7ec6\u7684\u5b9a\u4e49\uff09\uff1b\u6700\u540e\uff0c\u6211\u4eec\u8003\u8651\u5230\u5bf9\u4e8e\u4e00\u4e9b\u65e0\u76d1\u7763\u6216\u534a\u76d1\u7763\u5206\u7c7b\u4efb\u52a1\uff0c\u53ef\u80fd\u90e8\u5206\u6837\u672c\u4e0d\u5305\u542b\u7c7b\u522b\u4fe1\u606f\uff0c\u6240\u4ee5\u6211\u4eec\u8bbe\u8ba1\u4e86optional\u5b57\u6bb5\uff0c\u5e76\u5c06label\u5b57\u6bb5\u6db5\u76d6\u8fdb\u53bb\uff0c\u540c\u65f6\u4e00\u4e9b\u6570\u636e\u96c6\u7279\u6709\u7684\u5b57\u6bb5\u4e5f\u53ef\u4ee5\u5305\u542b\u5230optional\u5b57\u6bb5\u5f53\u4e2d\u3002\u57fa\u4e8e\u4e0a\u8ff0\u8003\u8651\uff0c\u6211\u4eec\u5236\u5b9a\u4e86\u5206\u7c7b\u4efb\u52a1\u7684\u6a21\u677f\uff0c\u5982\u4e0b\u6240\u793a\uff1a <pre><code>$dsdl-version: \"0.5.0\"\nClassificationSample:\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\nlabel: Label[dom=$cdom]\n$optional: ['label']\n</code></pre> \u5728\u6a21\u677f\u4e2d\u7684\u4e00\u4e9b\u5b57\u6bb5\u7684\u542b\u4e49\u5982\u4e0b\u6240\u793a\uff1a</p> <ul> <li>$dsdl-version: \u63cf\u8ff0\u4e86\u8be5\u6587\u4ef6\u5bf9\u5e94\u7684dsdl\u7248\u672c</li> <li> <p>ClassificationSample: \u5b9a\u4e49\u4e86\u5206\u7c7b\u4efb\u52a1\u7684\u6837\u672c\u683c\u5f0f\uff0c\u5176\u5305\u542b\u4e86\u56db\u4e2a\u5c5e\u6027\uff1a</p> <ul> <li>$def: \u8868\u793aClassificationSample\u662f\u4e00\u4e2astruct(\u7ed3\u6784\u4f53\u7c7b)</li> <li>$params: \u5b9a\u4e49\u4e86\u5f62\u53c2\uff0c\u5728\u8fd9\u91cc\u5373class domain</li> <li> <p>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5bf9\u4e8e\u5206\u7c7b\u4efb\u52a1\uff0c\u5177\u4f53\u5305\u62ec:</p> </li> <li> <p>image \u56fe\u7247\u8def\u5f84</p> </li> <li> <p>label \u7c7b\u522b\u4fe1\u606f</p> </li> <li> <p>optional: \u7528\u6765\u6db5\u76d6\u7ed3\u6784\u4f53\u7c7b\u7684\u5c5e\u6027\u4e2d\u7684\u53ef\u9009\u5c5e\u6027\uff0c\u8fd9\u91cc\u53ea\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5b57\u6bb5\u5373label\uff0c\u8868\u793a\u5355\u4e2a\u6837\u672c\uff0clabel\u7684\u5b58\u5728\u662f\u53ef\u9009\u7684\uff0c\u53e6\u5916\u4e5f\u53ef\u4ee5\u5c06\u6570\u636e\u96c6\u7684\u7279\u6709\u5b57\u6bb5\u6db5\u76d6\u5728optional: \u7528\u6765\u6db5\u76d6\u7ed3\u6784\u4f53\u7c7b\u7684\u5c5e\u6027\u4e2d\u7684\u53ef\u9009\u5c5e\u6027\uff0c\u8fd9\u91cc\u53ea\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5b57\u6bb5\u5373label\uff0c\u8868\u793a\u5355\u4e2a\u6837\u672c\uff0clabel\u7684\u5b58\u5728\u662f\u53ef\u9009\u7684\uff0c\u53e6\u5916\u4e5f\u53ef\u4ee5\u5c06\u6570\u636e\u96c6\u7684\u7279\u6709\u5b57\u6bb5\u6db5\u76d6\u5728optional\u5b57\u6bb5\u91cc</p> </li> </ul> </li> </ul> <p>\u5bf9\u4e8e\u6a21\u677f\u4e2d\u63d0\u5230\u7684\u7c7b\u522b\u57dfcdom\uff0c\u6211\u4eec\u5728\u6a21\u677f\u5e93dsdl-sdk repo\u4e2d\u4e5f\u63d0\u4f9b\u4e86\u5e38\u89c1\u4efb\u52a1\u7684\u7c7b\u522b\u57df\uff0c\u8fd9\u91cc\u7ed9\u51facifar10\u6570\u636e\u96c6\u7684class domain\u4f5c\u4e3a\u793a\u4f8b\uff1a <pre><code>$dsdl-version: \"0.5.0\"\nCifar10ImageClassificationClassDom:\n$def: class_domain\nclasses:\n- airplane\n- automobile\n- bird\n- cat\n- deer\n- dog\n- frog\n- horse\n- ship\n- truck\n</code></pre> \u4e0a\u9762\u7684\u6587\u4ef6\u4e2d\u7ed9\u51fa\u4e86Cifar10ImageClassificationClassDom\u7684\u5b9a\u4e49\uff0c\u5177\u4f53\u5305\u542b\u4e0b\u5217\u5b57\u6bb5\uff1a</p> <ul> <li>$def: \u63cf\u8ff0\u4e86Cifar10ImageClassificationClassDom\u7684\u7c7b\u578b\uff0c\u8fd9\u91cc\u5373class_domain</li> <li>classes: \u63cf\u8ff0\u4e86\u8be5\u7c7b\u522b\u57df\u4e2d\u6240\u5305\u542b\u7684\u7c7b\u522b\u53ca\u5176\u987a\u5e8f\uff0c\u5728cifar10\u6570\u636e\u96c6\u4e2d\uff0c\u5219\u4f9d\u6b21\u4e3aairplane\u3001automobile\u7b49\u7b49</li> </ul> <p>\u8fd9\u4e00\u7ae0\u8282\u4ecb\u7ecd\u7684\u5206\u7c7b\u4efb\u52a1\u6a21\u677f\u548ccdom\u6a21\u677f\u90fd\u53ef\u4ee5\u5728\u6211\u4eec\u7684\u6a21\u677f\u5e93dsdl-sdk repo\u4e2d\u627e\u5230\uff0c\u5176\u4ed6\u4efb\u52a1\u7c7b\u578b\u548c\u7c7b\u522b\u57df\u7684\u6a21\u677f\u4e5f\u6b22\u8fce\u5927\u5bb6\u5c1d\u8bd5\u4f7f\u7528\u3002</p>"},{"location":"dsdl_template/cv/cv_classification/#3","title":"3. \u4f7f\u7528\u8bf4\u660e","text":"<p>\u5728\u8fd9\u4e2a\u7ae0\u8282\u4ecb\u7ecd\u4e00\u4e0b\u5982\u4f55\u901a\u8fc7import\u7684\u65b9\u5f0f\u6765\u5f15\u7528\u6211\u4eec\u7684\u6a21\u677f\u3002\u4ee5cifar10\u6570\u636e\u96c6\u4e3a\u4f8b\uff0c\u9996\u5148\u662f\u63cf\u8ff0cifar10\u6570\u636e\u96c6\u4e2d\u6240\u6709\u6837\u672c\u7684\u6a21\u677ftrain.yaml\uff0c\u4e3e\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>$dsdl-version: \"0.5.0\"\n$import:\n- ../defs/class-dom\n- ../defs/classification-cifar10\nmeta:\nname: \"cifar10\"\nsubdata-name: \"train\"\ndata:\nsample-type: Cifar10Sample[cdom=Cifar10ImageClassificationClassDom]\nsample-path: $local\nsamples:\n- image: \"images/000000000000.png\"\nlabel: frog\n- image: \"images/000000000001.png\"\nlabel: truck\n...\n</code></pre> <p>\u4e0a\u9762\u7684\u63cf\u8ff0\u6587\u4ef6\u4e2d\uff0c\u9996\u5148\u5b9a\u4e49\u4e86dsdl\u7684\u7248\u672c\u4fe1\u606f\uff0c\u7136\u540eimport\u4e86\u4e24\u4e2a\u6a21\u677f\u6587\u4ef6\uff0c\u5305\u62ec\u4efb\u52a1\u6a21\u677f\u548c\u7c7b\u522b\u57df\u6a21\u677f\uff0c\u63a5\u7740\u7528meta\u548cdata\u5b57\u6bb5\u6765\u63cf\u8ff0\u81ea\u5df1\u7684\u6570\u636e\u96c6\uff0c\u5177\u4f53\u7684\u5b57\u6bb5\u8bf4\u660e\u5982\u4e0b\u6240\u793a\uff1a  </p> <ul> <li>$dsdl-version: dsdl\u7248\u672c\u4fe1\u606f</li> <li>$import: \u6a21\u677f\u5bfc\u5165\u4fe1\u606f\uff0c\u8fd9\u91cc\u5bfc\u5165\u5206\u7c7b\u4efb\u52a1\u6a21\u677f\u548ccifar10\u7684class domain\uff0c\u4e5f\u5c31\u662f\u7ae0\u82822. \u6a21\u677f\u5c55\u793a\u4e2d\u5c55\u793a\u7684\u4e24\u90e8\u5206\u5185\u5bb9</li> <li>meta: \u4e3b\u8981\u5c55\u793a\u6570\u636e\u96c6\u7684\u4e00\u4e9b\u5143\u4fe1\u606f\uff0c\u6bd4\u5982\u6570\u636e\u96c6\u540d\u79f0\uff0c\u521b\u5efa\u8005\u7b49\u7b49\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5df1\u6dfb\u52a0\u60f3\u8981\u5907\u6ce8\u7684\u5176\u5b83\u4fe1\u606f</li> <li> <p>data: data\u7684\u5185\u5bb9\u5c31\u662f\u6309\u7167\u524d\u9762\u5b9a\u4e49\u597d\u7684\u7ed3\u6784\u6240\u4fdd\u5b58\u7684\u6837\u672c\u4fe1\u606f\uff0c\u5177\u4f53\u5982\u4e0b\uff1a  </p> <ul> <li>sample-type: \u6570\u636e\u7684\u7c7b\u578b\u5b9a\u4e49\uff0c\u5728\u8fd9\u91cc\u7528\u7684\u662f\u4ece\u5206\u7c7b\u4efb\u52a1\u6a21\u677f\u4e2d\u5bfc\u5165\u7684ClassificationSample\u7c7b\uff0c\u540c\u65f6\u6307\u5b9a\u4e86\u91c7\u7528\u7684cdom\u4e3aCifar10ImageClassificationClassDom</li> <li>sample-path: samples\u7684\u5b58\u653e\u8def\u5f84\uff0c\u5982\u679c\u5b9e\u9645\u662f\u4e00\u4e2a\u8def\u5f84\uff0c\u5219samples\u7684\u5185\u5bb9\u4ece\u8be5\u6587\u4ef6\u8bfb\u53d6\uff0c\u5982\u679c\u662f$local\uff08\u8fd9\u4e2a\u4f8b\u5b50\uff09\uff0c\u5219\u4ece\u672c\u6587\u4ef6\u7684data.samples\u5b57\u6bb5\u4e2d\u76f4\u63a5\u8bfb\u53d6</li> <li>samples: \u4fdd\u5b58\u6570\u636e\u96c6\u7684\u6837\u672c\u4fe1\u606f\uff0c\u6ce8\u610f\u53ea\u6709\u5728sample-path\u662f$local\u7684\u65f6\u5019\u8be5\u5b57\u6bb5\u624d\u4f1a\u751f\u6548\uff0c\u5426\u5219samples\u4f1a\u4f18\u5148\u4ecesample-path\u4e2d\u7684\u8def\u5f84\u53bb\u8bfb\u53d6</li> </ul> </li> </ul>"},{"location":"dsdl_template/cv/cv_detection/","title":"\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1","text":"<p>\u6211\u4eec\u901a\u8fc7\u5bf9\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\u8fdb\u884c\u8c03\u7814\uff0c\u5e76\u603b\u7ed3\u6570\u636e\u96c6\u63cf\u8ff0\u4e2d\u7684\u5b57\u6bb5\u4fe1\u606f\uff0c\u4ece\u800c\u5236\u5b9a\u51fa\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1DSDL\u6a21\u677f\uff0c\u4f9b\u5927\u5bb6\u53c2\u8003\u4f7f\u7528\u3002</p>"},{"location":"dsdl_template/cv/cv_detection/#1","title":"1. \u4efb\u52a1\u8c03\u7814","text":""},{"location":"dsdl_template/cv/cv_detection/#11","title":"1.1 \u4efb\u52a1\u5b9a\u4e49","text":"<p>\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\u662f\u6307\u7ed9\u5b9a\u4e00\u5f20\u8f93\u5165\u56fe\u50cf\uff0c\u5224\u522b\u56fe\u50cf\u4e2d\u76ee\u6807\u4f4d\u7f6e\uff08\u901a\u5e38\u7528\u8fb9\u754c\u6846\u8868\u793a\uff09\u548c\u8bed\u4e49\u7c7b\u522b\uff0c\u793a\u610f\u56fe\u5982\u4e0b\uff1a \uff1a</p> <p></p>"},{"location":"dsdl_template/cv/cv_detection/#12","title":"1.2 \u8bc4\u4ef7\u6307\u6807\uff1a","text":"<p>\u76ee\u6807\u68c0\u6d4b\u6700\u5e38\u7528\u7684\u8bc4\u4ef7\u6307\u6807\u5c31\u662fAP\uff08Average Precision\uff09\uff0c\u6b64\u5916\u8fd8\u6709\u4e00\u4e9b\u57fa\u4e8eAP\u884d\u751f\u7684\u6307\u6807\uff0c\u8fd9\u4e9b\u6307\u6807\u7684\u542b\u4e49\u5982\u4e0b\uff1a</p> <ul> <li>AP</li> </ul> <p>PR\u66f2\u7ebf\u4e2d\u548c\u6a2a\u5750\u6807\u8f74\u56f4\u6210\u533a\u57df\u7684\u9762\u79ef\u3002</p> <ul> <li>11-point interpolation</li> </ul> <p>\u4e3a\u4e86\u7b80\u5316AP\u8ba1\u7b97\uff0c\u6709\u65f6\u5019\u91c7\u752811-point\u8ba1\u7b97\u65b9\u6cd5\uff08\u5982PASCAL VOC\u6570\u636e\u96c6\u7684metric\uff09\uff0c\u76f8\u5f53\u4e8e\u8ba1\u7b97recall=[0, 0.1, 0.2, ... , 1]\u8fd911\u4e2a\u70b9\u5904precision\u503c\u7684\u5e73\u5747\u503c\uff08\u67d0\u5904\u4e0d\u5b58\u5728\u7684\u8bdd\u53d6\u53f3\u4fa7\u6700\u5927\u503c\uff09\uff0c\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff1a</p>  AP= {1\\over11} \\sum_{ \\begin{subarray}{l}    i\\in\\{0, 0.1, 0.2 ..., 1\\}\\\\ \\end{subarray}} \\rho_{interp}(r)   \\rho_{interp}(r) = \\max_{ \\begin{subarray}{l}    \\tilde{r}:\\tilde{r}\\geq r \\end{subarray}} \\rho(\\tilde{r})   \\rho_{interp}(r) = \\max_{ \\begin{subarray}{l}    \\tilde{r}:\\tilde{r}\\geq r \\end{subarray}} \\rho(\\tilde{r})  <ul> <li>mAP</li> </ul> <p>\u6240\u6709\u7684\u7c7b\u522b\u7684AP\u6c42\u5e73\u5747</p> <ul> <li>mAP@0.5 \u548c mAP@0.5~0.95</li> </ul> <p>\u8fd9\u91cc\u76840.5\u548c0.95\u90fd\u662f\u524d\u6587\u4ecb\u7ecd\u6df7\u6dc6\u77e9\u9635\u63d0\u5230\u7684\u9608\u503c\uff0c\u4e5f\u5c31\u662f\u5728\u4e0d\u540c\u9608\u503c\u4e0b\u8fdb\u884c\u7684AP\u8ba1\u7b97\u3002mAP@0.5\u4e5f\u5c31\u662f\u9608\u503c\u7b49\u4e8e0.5\u7684\u65f6\u5019\u6240\u8ba1\u7b97\u7684mAP\uff0cmAP@0.5~0.95\u5219\u8868\u793a\u9608\u503c\u4ece0.5\u52300.95\u5206\u522b\u8ba1\u7b97mAP\uff0c\u7136\u540e\u5728\u6c42\u5e73\u5747\u3002PASCAL VOC\u6570\u636e\u96c6\u4e2d\u91c7\u7528\u7684\u662fmAP@0.5\uff0c\u901a\u5e38\u4e5f\u53ebAP_50, coco\u6570\u636e\u96c6\u4e2d\u91c7\u7528\u7684\u662fmAP@0.5~0.95\uff0c\u901a\u5e38\u7b80\u79f0\u4e3amAP\u3002\uff08\u76f8\u540c\u7684\u68c0\u6d4b\u5668\uff0cmAP\u4e00\u822c\u4f4e\u4e8eAP_50\uff09</p> <ul> <li>mAP_s\uff0cmAP_m\uff0cmAP_l</li> </ul> <p>\u8fd9\u91cc\u7684s\u3001m\u3001l\u4ee3\u8868\u7684\u662f\u7269\u4f53\u5c3a\u5bf8\uff0c\u662fCOCO\u7684metric\u4f1a\u628abox\u5206\u4e3a\u4e0d\u540c\u5c3a\u5bf8\uff0c\u6765\u67e5\u770b\u6a21\u578b\u5bf9\u4e0d\u540c\u5c3a\u5bf8box\u7684\u68c0\u6d4b\u6548\u679c\u3002</p> <p></p>"},{"location":"dsdl_template/cv/cv_detection/#13","title":"1.3 \u4e3b\u6d41\u6570\u636e\u96c6\u8c03\u7814\uff1a","text":"<p>\u6211\u4eec\u5bf910\u4e2a\u76ee\u6807\u68c0\u6d4b\u6570\u636e\u96c6\u8fdb\u884c\u8c03\u7814\uff0c\u5bf9\u76f8\u5173\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\uff08\u4e3b\u8981\u662f\u6807\u6ce8\u5b57\u6bb5\uff09\u8fdb\u884c\u5206\u6790\u6c47\u603b\uff0c\u76f8\u540c\u542b\u4e49\u7684\u6807\u6ce8\u5b57\u6bb5\u4f1a\u4ee5\u7edf\u4e00\u547d\u540d\u8fdb\u884c\u5c55\u793a\uff0c\u6c47\u603b\u4fe1\u606f\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> \u76ee\u6807\u68c0\u6d4b\u6570\u636e\u96c6 \u5171\u4eab\u5b57\u6bb5 \u72ec\u7acb\u5b57\u6bb5 image_id label_id bbox iscrowd istruncated isdifficult isoccluded isdepiction isreflected isinside confidence pose PASCAL VOC Y Y Y Y Y Y Y COCO Y Y Y Y KITTI Y Y Y Y Y Y OpenImages Y Y Y Y Y Y Y Y Y Objects365 Y Y Y Y Y Y ILSVRC2015 Y Y Y Y Y LVIS Y Y Y <p>\u5bf9\u5171\u4eab\u5b57\u6bb5\u548c\u72ec\u7acb\u5b57\u6bb5\u8fdb\u884c\u6c47\u603b\uff0c\u5f97\u5230\u4e0b\u8868\uff1a</p> \u5b57\u6bb5\u7c7b\u578b \u5b57\u6bb5\u540d\u79f0 \u542b\u4e49 \u5171\u4eab\u5b57\u6bb5 image_id \u5b9a\u4f4d\u5230\u552f\u4e00\u56fe\u7247\uff0c\u6bd4\u5982\u7528\u56fe\u7247\u540d\u6216\u8005\u56fe\u7247\u8def\u5f84\u8868\u793a label_id \u5355\u4e2a\u76ee\u6807\u6240\u5c5e\u7684\u7c7b\u522b bbox \u5b9a\u4f4d\u5355\u4e2a\u76ee\u6807\u7684\u77e9\u5f62\u6846\uff0c\u6bd4\u5982\u7528[xmin, ymin, xmax, ymax]\u8868\u793a \u72ec\u7acb\u5b57\u6bb5 iscrowd \u662f\u5426\u4e3a\u4e00\u7fa4\u5bc6\u96c6\u76ee\u6807\uff0c\u6bd4\u5982\u4eba\u7fa4\uff0c\u4e00\u5806\u82f9\u679c istruncated \u76ee\u6807\u662f\u5426\u88ab\u622a\u65ad\uff0c\u5373\u76ee\u6807\u90e8\u5206\u5904\u4e8e\u56fe\u7247\u4e4b\u5916 isdifficult \u662f\u5426\u4e3a\u68c0\u6d4b\u56f0\u96be\u7684\u76ee\u6807 isoccluded \u76ee\u6807\u662f\u5426\u88ab\u906e\u6321 isdepiction \u662f\u5426\u4e3a\u5361\u901a\u5f62\u8c61\u3001\u7ed8\u753b\u7b49\u7b49\uff0c\u975e\u5b9e\u9645\u4e2a\u4f53 isreflected \u662f\u5426\u4e3a\u955c\u9762\u76ee\u6807 isinside \u662f\u5426\u5728\u522b\u7684\u7269\u4f53\u5185\u90e8\uff0c\u6bd4\u5982\u4e00\u8f86\u8f66\u5728\u5efa\u7b51\u5185\u90e8\uff0c\u4eba\u5728\u8f66\u5185\u90e8\u7b49\u7b49 confidence \u68c0\u6d4b\u6846\u7684\u7f6e\u4fe1\u5ea6\uff0c\u4e3a\u4eba\u5de5\u6807\u6ce8\u65f6\u901a\u5e38\u4e3a1\uff0c\u4e3a\u81ea\u52a8\u751f\u6210\u65f6\u4e00\u822c\u57280.5~1\u4e4b\u95f4 pose \u62cd\u6444\u89d2\u5ea6\uff0c\u53d6\u503c\u4e3a Unspecified\uff0cFrontal\uff0cRear\uff0cLeft\uff0cRight <p>\u53ef\u4ee5\u770b\u5230\uff0c\u5982\u679c\u8981\u63cf\u8ff0\u4e00\u4e2a\u68c0\u6d4b\u6570\u636e\u96c6\u7684\u6837\u672c\uff0cimage_id\u3001label_id\u548cbbox\u662f\u6700\u57fa\u7840\u7684\u5b57\u6bb5\uff0c\u6b64\u5916\u8fd8\u5305\u542b\u4e86\u5404\u79cd\u63cf\u8ff0\u8fb9\u754c\u6846\u4fe1\u606f\u7684\u7279\u6b8a\u5b57\u6bb5\u3002</p> <p></p>"},{"location":"dsdl_template/cv/cv_detection/#2","title":"2. \u6a21\u677f\u5c55\u793a","text":"<p>\u6839\u636e\u4e0a\u8ff0\u8c03\u7814\uff0c\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\u4e2d\u4e00\u5f20\u56fe\u50cf\u5bf9\u5e94\u4e0d\u5b9a\u6570\u91cf\u7684\u76ee\u6807\uff0c\u6bcf\u4e2a\u76ee\u6807\u7528\u8fb9\u754c\u6846BBox\u6765\u5b9a\u4f4d\u76ee\u6807\u4f4d\u7f6e\uff0c\u6bcf\u4e2aBBox\u540c\u65f6\u63d0\u4f9b\u8bed\u4e49\u6807\u7b7e\uff0c\u7531\u6b64\u6211\u4eec\u5b9a\u4e49\u76ee\u6807\u68c0\u6d4b\u6a21\u677f\u5982\u4e0b\uff1a</p> <p><code>object-detection.yaml</code></p> <p><pre><code>$dsdl-version: \"0.5.0\"\nLocalObjectEntry:\n$def: struct\n$params: ['cdom']\n$fields:\nbbox: BBox\nlabel: Label[dom=$cdom]\nObjectDetectionSample:\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\nobjects: List[LocalObjectEntry[cdom=$cdom]]\n</code></pre> \u5728\u68c0\u6d4b\u6a21\u677f\u4e2d\u7684\u4e00\u4e9b\u5b57\u6bb5\u542b\u4e49\u5982\u4e0b\uff08\u8be6\u7ec6\u5b66\u4e60\u8bf7\u53c2\u8003 DSDL\u8bed\u8a00\u6559\u7a0b\uff09</p> <ul> <li>$dsdl-version: \u63cf\u8ff0\u4e86\u8be5\u6587\u4ef6\u5bf9\u5e94\u7684dsdl\u7248\u672c</li> <li> <p>LocalObjectEntry: \u5b9a\u4e49\u4e86\u8fb9\u754c\u6846\u7684\u63cf\u8ff0\u65b9\u5f0f\u7684\u5d4c\u5957\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5: </p> <ul> <li>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li>$params: \u5b9a\u4e49\u4e86\u5f62\u53c2\uff0c\u5728\u8fd9\u91cc\u5373class domain</li> <li> <p>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:</p> <ul> <li>bbox \u8fb9\u754c\u6846\u7684\u4f4d\u7f6e</li> <li>label \u8fb9\u754c\u6846\u7684\u7c7b\u522b</li> </ul> </li> </ul> </li> <li> <p>ObjectDetectionSample: \u5b9a\u4e49\u4e86\u68c0\u6d4b\u4efb\u52a1sample\u7684\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5:</p> <ul> <li>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li>$params: \u5b9a\u4e49\u4e86\u5f62\u53c2\uff0c\u5728\u8fd9\u91cc\u5373class domain</li> <li> <p>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:</p> <ul> <li>image \u56fe\u7247\u7684\u8def\u5f84</li> <li>objects \u6807\u6ce8\u4fe1\u606f\uff0c\u68c0\u6d4b\u4efb\u52a1\u4e2d\uff0c\u4e3a\u524d\u9762\u7684LocalObjectEntry\u6784\u6210\u7684\u4e00\u4e2a\u5217\u8868</li> </ul> </li> </ul> </li> </ul>"},{"location":"dsdl_template/cv/cv_detection/#3","title":"3. \u5b8c\u6574\u793a\u4f8b","text":"<p>\u6211\u4eec\u4ee5PASCAL VOC\u6570\u636e\u96c6\u4e3a\u4f8b\uff0c\u5c55\u793a\u76ee\u6807\u68c0\u6d4b\u6570\u636e\u96c6DSDL\u63cf\u8ff0\u6587\u4ef6\u5177\u4f53\u5185\u5bb9\u3002</p>"},{"location":"dsdl_template/cv/cv_detection/#31-dsdl","title":"3.1 DSDL\u8bed\u6cd5\u63cf\u8ff0\u7c7b\u522b\u4fe1\u606f","text":"<p><code>voc-class-dom.yaml</code></p> <pre><code>$dsdl-version: \"0.5.0\"\nVOCClassDom:\n$def: class_domain\nclasses:\n- horse\n- person\n- bottle\n- tvmonitor\n- chair\n- diningtable\n- pottedplant\n- aeroplane\n- car\n- train\n- dog\n- bicycle\n- boat\n- cat\n- sofa\n- bird\n- sheep\n- motorbike\n- bus\n- cow\n</code></pre> <p>\u4e0a\u9762\u7684\u6587\u4ef6\u4e2d\u7ed9\u51fa\u4e86VOCClassDom\u7684\u5b9a\u4e49\uff0c\u5177\u4f53\u5305\u542b\u4e0b\u5217\u5b57\u6bb5\uff1a</p> <ul> <li>$def: \u63cf\u8ff0\u4e86VOCClassDom\u7684dsdl\u7c7b\u578b\uff0c\u8fd9\u91cc\u5373class_domain</li> <li>classes: \u63cf\u8ff0\u4e86\u8be5\u7c7b\u522b\u57df\u4e2d\u6240\u5305\u542b\u7684\u7c7b\u522b\u53ca\u5176\u987a\u5e8f\uff0c\u5728PASCAL VOC\u6570\u636e\u96c6\u4e2d\uff0c\u5219\u4f9d\u6b21\u4e3ahorse\u3001person\u7b49\u7b49</li> </ul>"},{"location":"dsdl_template/cv/cv_detection/#32-yaml","title":"3.2 \u6570\u636e\u96c6yaml\u6587\u4ef6\u5b9a\u4e49","text":"<p><code>train.yaml</code></p> <p><pre><code>$dsdl-version: \"0.5.0\"\n$import:\n- object-detection\n- voc-class-domain\nmeta:\ndataset_name: \"PASCAL VOC2007\"\nsub_dataset_name: \"train\"\ndata:\nsample-type: ObjectDetectionSample[cdom=VOCClassDom]\nsample-path: $local\nsamples: - image: \"media/000000000000.jpg\"\nobjects:\n- {bbox: [4.0, 36.0, 496.0, 298.0], label: 12}\n- image: \"media/000000000002.jpg\"\nobjects:\n- {bbox: [440.0, 161.0, 60.0, 81.0], label: 14}   - {bbox: [97.0, 159.0, 121.0, 67.0], label: 14}\n- {bbox: [443.0, 116.0, 57.0, 101.0], label: 15}\n- {bbox: [104.0, 113.0, 65.0, 106.0], label: 15}\n...\n</code></pre> \u4e0a\u9762\u7684\u63cf\u8ff0\u6587\u4ef6\u4e2d\uff0c\u9996\u5148\u5b9a\u4e49\u4e86dsdl\u7684\u7248\u672c\u4fe1\u606f\uff0c\u7136\u540eimport\u4e86\u4e24\u4e2a\u6a21\u677f\u6587\u4ef6\uff0c\u5305\u62ec\u4efb\u52a1\u6a21\u677f\u548c\u7c7b\u522b\u57df\u6a21\u677f\uff0c\u63a5\u7740\u7528meta\u548cdata\u5b57\u6bb5\u6765\u63cf\u8ff0\u81ea\u5df1\u7684\u6570\u636e\u96c6\uff0c\u5177\u4f53\u7684\u5b57\u6bb5\u8bf4\u660e\u5982\u4e0b\u6240\u793a\uff1a  </p> <ul> <li>$dsdl-version: dsdl\u7248\u672c\u4fe1\u606f</li> <li>$import: \u6a21\u677f\u5bfc\u5165\u4fe1\u606f\uff0c\u8fd9\u91cc\u5bfc\u5165\u68c0\u6d4b\u4efb\u52a1\u6a21\u677f\u548cVOC\u7684class domain\uff0c\u4e5f\u5c31\u662f2. \u6a21\u677f\u5c55\u793a\u4e2d\u5c55\u793a\u7684\u4e24\u90e8\u5206\u5185\u5bb9</li> <li>meta: \u4e3b\u8981\u5c55\u793a\u6570\u636e\u96c6\u7684\u4e00\u4e9b\u5143\u4fe1\u606f\uff0c\u6bd4\u5982\u6570\u636e\u96c6\u540d\u79f0\uff0c\u521b\u5efa\u8005\u7b49\u7b49\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5df1\u6dfb\u52a0\u60f3\u8981\u5907\u6ce8\u7684\u5176\u5b83\u4fe1\u606f</li> <li> <p>data: data\u7684\u5185\u5bb9\u5c31\u662f\u6309\u7167\u524d\u9762\u5b9a\u4e49\u597d\u7684\u7ed3\u6784\u6240\u4fdd\u5b58\u7684\u6837\u672c\u4fe1\u606f\uff0c\u5177\u4f53\u5982\u4e0b\uff1a  </p> <ul> <li>sample-type: \u6570\u636e\u7684\u7c7b\u578b\u5b9a\u4e49\uff0c\u5728\u8fd9\u91cc\u7528\u7684\u662f\u4ece\u68c0\u6d4b\u4efb\u52a1\u6a21\u677f\u4e2d\u5bfc\u5165\u7684ObjectDetectionSample\u7c7b\uff0c\u540c\u65f6\u6307\u5b9a\u4e86\u91c7\u7528\u7684cdom\u4e3aVOCClassDom</li> <li>sample-path: samples\u7684\u5b58\u653e\u8def\u5f84\uff0c\u5982\u679c\u5b9e\u9645\u662f\u4e00\u4e2a\u8def\u5f84\uff0c\u5219samples\u7684\u5185\u5bb9\u4ece\u8be5\u6587\u4ef6\u8bfb\u53d6\uff0c\u5982\u679c\u662f$local\uff08\u8fd9\u4e2a\u4f8b\u5b50\uff09\uff0c\u5219\u4ece\u672c\u6587\u4ef6\u7684data.samples\u5b57\u6bb5\u4e2d\u76f4\u63a5\u8bfb\u53d6</li> <li>samples: \u4fdd\u5b58\u6570\u636e\u96c6\u7684\u6837\u672c\u4fe1\u606f\uff0c\u6ce8\u610f\u53ea\u6709\u5728sample-path\u662f$local\u7684\u65f6\u5019\u8be5\u5b57\u6bb5\u624d\u4f1a\u751f\u6548\uff0c\u5426\u5219samples\u4f1a\u4f18\u5148\u4ecesample-path\u4e2d\u7684\u8def\u5f84\u53bb\u8bfb\u53d6</li> </ul> </li> </ul> <p>\u63d0\u793a\uff1a\u82e5\u5f53\u524d\u6570\u636e\u96c6\u56fe\u50cf\u6570\u76ee\u8f83\u591a\uff0c\u5c06\u6240\u6709\u6807\u6ce8\u4fe1\u606f\u5b58\u50a8\u5728yaml\u6587\u4ef6\u91cc\u4f1a\u5bfc\u81f4\u540e\u7eed\u6570\u636e\u52a0\u8f7d\u901f\u5ea6\u8fc7\u6162\u3002\u6b64\u65f6\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u63d0\u4f9b\u5916\u90e8\u6587\u4ef6\uff0c\u4f8b\u5982train.yaml\u4e2d\u7684sample-path: train.json \u5c06\u6570\u636e\u5b58\u653e\u5230\u53ef\u9ad8\u6548\u8bfb\u53d6\u7684\u6587\u4ef6\u4e2d</p>"},{"location":"dsdl_template/cv/cv_keypoint_detection/","title":"\u5173\u952e\u70b9\u68c0\u6d4b\uff08\u59ff\u6001\u4f30\u8ba1\uff09\u4efb\u52a1","text":""},{"location":"dsdl_template/cv/cv_keypoint_detection/#1","title":"1. \u4efb\u52a1\u8c03\u7814","text":""},{"location":"dsdl_template/cv/cv_keypoint_detection/#11","title":"1.1 \u4efb\u52a1\u5b9a\u4e49","text":"<p>\u5173\u952e\u70b9\u68c0\u6d4b\u4efb\u52a1\u76ee\u6807\u662f\u6807\u51fa\u7269\u4f53\u7684\u5173\u952e\u90e8\u4f4d\uff0c\u59ff\u6001\u4f30\u8ba1\u4efb\u52a1\u76ee\u6807\u662f\u5bf9\u7269\u4f53\uff08\u901a\u5e38\u662f\u4eba\u548c\u52a8\u7269\uff09\u7684\u59ff\u6001\uff08\u5373\u5173\u952e\u70b9\u548c\u5173\u952e\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\u5173\u7cfb\uff09\u8fdb\u884c\u4f30\u8ba1\u3002\u5173\u952e\u70b9\u68c0\u6d4b\u548c\u59ff\u6001\u4f30\u8ba1\u901a\u5e38\u5408\u5728\u4e00\u8d77\u8ba8\u8bba\uff0c\u539f\u56e0\u662f\u5bf9\u4e8e\u4eba\u4f53\u548c\u52a8\u7269\u7b49\u5176\u8eab\u4f53\u90e8\u4f4d\u4e4b\u95f4\u7684\u8fde\u63a5\u5173\u7cfb\u662f\u56fa\u5b9a\u7684\uff0c\u5f97\u5230\u4e86\u4eba\u4f53\u5173\u952e\u70b9\u7684\u68c0\u6d4b\u7ed3\u679c\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u59ff\u6001\u4f30\u8ba1\u7684\u7ed3\u679c(\u662f\u5426\u6709\u59ff\u6001\u4f30\u8ba1\u53d6\u51b3\u4e8e\u662f\u5426\u6709\u5173\u952e\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\u5173\u7cfb)\u3002</p> <p>          \u56fe\u7247\u53d6\u81ea\uff1aDeep High-Resolution Representation Learning for Human Pose Estimation, CVPR19      </p>"},{"location":"dsdl_template/cv/cv_keypoint_detection/#12","title":"1.2 \u8bc4\u4ef7\u6307\u6807","text":"<p>\u8bc4\u4ef7\u6307\u6807\u4e00\u822c\u91c7\u7528COCO\u683c\u5f0f\u7684mAP\u3002mAP\u7684\u8ba1\u7b97\u65b9\u5f0f\u4e0eCOCO\u76ee\u6807\u68c0\u6d4b\u4e2d\u7684mAP\u8ba1\u7b97\u65b9\u5f0f\u7c7b\u4f3c\uff0c\u5bf9\u4e8e\u5173\u952e\u70b9\u68c0\u6d4b\u65b9\u6cd5\u68c0\u6d4b\u51fa\u7684\u6240\u6709\u7269\u4f53\u4ee5\u53ca\u7269\u4f53\u4e2d\u7684\u5173\u952e\u70b9\uff0c\u9996\u5148\u4f7f\u7528\u5173\u952e\u70b9\u4e2d\u7684OKS\u5ea6\u91cf\u6307\u6807\u5bf9\u6240\u6709\u68c0\u6d4b\u51fa\u7684\u7269\u4f53\u8fdb\u884c\u5206\u7c7b\uff0c\u5206\u4e3aTP\u3001FP\u3001FN\u51e0\u7c7b\uff0c\u5212\u5206\u5b8c\u4e4b\u540e\uff0c\u901a\u8fc7\u6539\u53d8score\u7684\u9608\u503c\u8ba1\u7b97P-R\u66f2\u7ebf\uff0cP-R\u66f2\u7ebf\u4e0b\u7684\u9762\u79ef\u5373\u4e3aAP\u7684\u503c\u3002</p> <p>\u4e0e\u76ee\u6807\u68c0\u6d4bmAP\u8ba1\u7b97\u65b9\u5f0f\u6700\u5927\u7684\u4e0d\u540c\u5728\u4e8e\uff0c\u76ee\u6807\u68c0\u6d4b\u4e2d\u8861\u91cf\u5b9e\u4f8b\u4e4b\u95f4\u7684\u76f8\u4f3c\u5ea6\u65f6\u4f7f\u7528\u7684\u662f\u68c0\u6d4b\u6846\u4e4b\u95f4\u7684IOU\uff0c\u800c\u5728\u5173\u952e\u70b9\u68c0\u6d4b\u4e2d\uff0c\u8861\u91cf\u5b9e\u4f8b\u76f8\u4f3c\u5ea6\u4f7f\u7528\u7684\u662f\u7269\u4f53\u5173\u952e\u70b9\u4e4b\u95f4\u7684OKS\u8ddd\u79bb\uff0cOKS\u7684\u8ba1\u7b97\u65b9\u5f0f\u5982\u4e0b\uff1a</p> <p>          \u56fe\u7247\u53d6\u81ea\uff1ahttps://cocodataset.org/#keypoints-eval      </p> <p>OKS\u4ee3\u8868\u7684\u662f\u4e00\u4e2a\u7269\u4f53\u5176\u6240\u6709\u5173\u952e\u70b9\u68c0\u6d4b\u7ed3\u679c\uff08prediction\uff09\u548c\u771f\u5b9e\u6807\u6ce8\uff08ground truth\uff09\u4e4b\u95f4\u7684\u76f8\u4f3c\u5ea6\uff0cdi\u4ee3\u8868\u7b2ci\u4e2a\u68c0\u6d4b\u51fa\u7684\u5173\u952e\u70b9\u548c\u771f\u5b9e\u6807\u6ce8\u7684\u6b27\u6c0f\u8ddd\u79bb\uff0cs\u662f\u7269\u4f53\u7684\u50cf\u7d20\u9762\u79ef\uff0ck\u4ee3\u8868\u7b2ci\u79cd\u5173\u952e\u70b9\uff08\u4f8b\u5982\u9f3b\u5b50\uff09\u7684\u5f52\u4e00\u5316\u56e0\u5b50\uff0c\u662f\u5bf9\u5df2\u6709\u6570\u636e\u96c6\u4e2d\u6240\u6709\u7269\u4f53\u7684\u540c\u79cd\u5173\u952e\u70b9\uff08\u4f8b\u5982\u6570\u636e\u96c6\u79cd\u6240\u6709\u4eba\u7684\u9f3b\u5b50\u5173\u952e\u70b9\uff09\u8ba1\u7b97\u5f97\u5230\u7684\uff0c\u503c\u8d8a\u5927\uff0c\u4ee3\u8868\u6570\u636e\u96c6\u4e2d\u8fd9\u4e2a\u5173\u952e\u70b9\u6807\u6ce8\u8d8a\u5dee\u5373\u8fd9\u4e2a\u5173\u952e\u70b9\u8d8a\u96be\u68c0\u6d4b\uff0c\u503c\u8d8a\u5c0f\u4ee3\u8868\u8fd9\u4e2a\u5173\u952e\u70b9\u6807\u6ce8\u8d8a\u597d\uff0c\u5373\u8fd9\u4e2a\u5173\u952e\u70b9\u68c0\u6d4b\u96be\u5ea6\u8f83\u5c0f\u3002\u6709\u4e86OKS\u8ddd\u79bb\u4e4b\u540e\uff0c\u53ef\u4ee5\u8ba1\u7b97\u5f97\u5230\u4e0d\u540cOKS\u9608\u503c\u4e0b\u7684AP\u6307\u6807\u3002COCO\u7684\u5173\u952e\u70b9\u68c0\u6d4b\u6307\u6807\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u4e0e\u76ee\u6807\u68c0\u6d4b\u7c7b\u4f3c\u5b9a\u4e49\uff1a</p> <p>          \u56fe\u7247\u53d6\u81ea\uff1ahttps://cocodataset.org/#keypoints-eval      </p>"},{"location":"dsdl_template/cv/cv_keypoint_detection/#13","title":"1.3 \u4e3b\u6d41\u6570\u636e\u96c6\u8c03\u7814","text":"<p>\u6839\u636e\u76ee\u6807\u7c7b\u578b\u7684\u4e0d\u540c\uff0c\u59ff\u6001\u4f30\u8ba1\uff08\u5173\u952e\u70b9\u68c0\u6d4b\uff09\u6570\u636e\u96c6\u7684\u6807\u6ce8\u5f62\u5f0f\u4e5f\u4e0d\u540c\u3002\u59ff\u6001\u4f30\u8ba1\uff08\u5173\u952e\u70b9\u68c0\u6d4b\uff09\u6570\u636e\u96c6\u6839\u636e\u76ee\u6807\u7c7b\u578b\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\uff1a</p> \u76ee\u6807\u7c7b\u578b \u4efb\u52a1\u7c7b\u578b \u4ee3\u8868\u6570\u636e\u96c6 \u4eba\u4f53 \u4eba\u4f53\u59ff\u6001\u4f30\u8ba1/\u5173\u952e\u70b9\u68c0\u6d4b (human body keypoint) COCO, MPII, MPII-TRB, AI Challenger, CrowdPose, OCHuman, MHP \u4eba\u4f53(\u5168\u8eab) \u4eba\u4f53(\u5168\u8eab)\u59ff\u6001\u4f30\u8ba1/\u5173\u952e\u70b9\u68c0\u6d4b (human wholebody keypoint) COCO WholeBody, Halpe \u4eba\u8138 \u4eba\u8138\u5173\u952e\u70b9\u68c0\u6d4b (face keypoint) 300W, WFLW, AFLW, COFW, COCO-WholeBody-Face \u624b \u624b\u90e8\u5173\u952e\u70b9\u68c0\u6d4b (hand keypoint) OneHand-10K, FreiHand, CMU Panoptic HandDB, InterHand2.6M, RHD, COCO-WholeBody-Hand \u8863\u7269 \u8863\u7269\u5173\u952e\u70b9\u68c0\u6d4b (fashion lanmark) DeepFashion \u52a8\u7269 \u52a8\u7269\u59ff\u6001\u4f30\u8ba1/\u5173\u952e\u70b9\u68c0\u6d4b (animal keypoint) Animal-Pose, AP-10K, Horse-10, MacaquePose, Vinegar Fly, Desert Locust, Gr\u00e9vy\u2019s Zebra, ATRW <p>\u6211\u4eec\u8c03\u7814\u4e8610\u4e2a\u4e3b\u6d41\u59ff\u6001\u4f30\u8ba1/\u5173\u952e\u70b9\u68c0\u6d4b\u6570\u636e\u96c6\uff0c\u6db5\u76d6\u4e86\u6240\u6709\u4ee5\u4e0a\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u96c6\u3002\u5b8c\u6574\u7684\u5b57\u6bb5\u8c03\u7814\u7ed3\u679c\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> \u59ff\u6001\u4f30\u8ba1/\u5173\u952e\u70b9\u68c0\u6d4b\u6570\u636e\u96c6 image_id height width instance_id category_id is_crowd area num_keypoints bbox segmentation keypoints visible center categories super_categories keypoint_names skeleton other  COCO   Y   Y   Y   Y   Y   Y   Y   Y   Y   Y   Y   Y    Y   Y   Y   Y   MPII   Y   Y   Y    Y   scale, person, torsoangle   AIC   Y   Y   Y   Y   Y   Y   Y   Y   Y   Y   Y    Y   Y   Y   Y   CrowdPose   Y   Y     Y     Y   Y   Y   Y   Y   Y   Y   Y    Y   Y   Y   Y   crowd index    COCO-WholeBody   Y   Y     Y     Y   Y   Y   Y   Y   Y   Y   Y    Y   Y   Y   Y   face valid/kpts/bbox, right hand valid/kpts/bbox, left hand valid/kpts/bbox, foot valid/kpts   Halpe   Y   Y     Y     Y   Y   Y   Y   Y   Y    Y   Y   Hoi    300W   Y   Y     Y     Y   Y   Y   Y   Y   Y   Y   Y    Y    Y   Y   OneHand10K   Y   Y     Y     Y   Y   Y   Y   Y   Y   Y   Y    Y   Y   Y    Y    DeepFashion   Y   Y    Y   Y   Y    Y   Y     variation   AnimalPose   Y   Y    Y   Y   Y   Y    Y   Y   Y    Y   <p>\u7ecf\u8fc7\u6574\u7406\uff0c\u5173\u952e\u70b9\u68c0\u6d4b/\u59ff\u6001\u4f30\u8ba1\u4efb\u52a1\u7684\u5b57\u6bb5\u53ef\u4ee5\u5206\u4e3a\u4e24\u79cd\uff1a\u4e00\u79cd\u662f\u4e0d\u540c\u6570\u636e\u96c6\u5171\u6709\u7684\u5171\u4eab\u5b57\u6bb5\uff0c\u4e00\u79cd\u662f\u4e0d\u540c\u6570\u636e\u96c6\u4e0d\u540c\u7684\u72ec\u7acb\u5b57\u6bb5\u3002\u5173\u952e\u70b9\u68c0\u6d4b/\u59ff\u6001\u4f30\u8ba1\u4efb\u52a1\u7684\u5171\u4eab\u5b57\u6bb5\u548c\u72ec\u7acb\u5b57\u6bb5\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> \u5b57\u6bb5\u7c7b\u578b \u5b57\u6bb5\u540d\u79f0 \u542b\u4e49 \u5171\u4eab\u5b57\u6bb5 image_id \u5b9a\u4f4d\u5230\u552f\u4e00\u56fe\u7247\uff0c\u6bd4\u5982\u7528\u56fe\u7247\u540d\u6216\u8005\u56fe\u7247\u8def\u5f84\u8868\u793a keypoints \u5355\u4e2a\u76ee\u6807\u7684\u5173\u952e\u70b9\u6807\u6ce8\uff0c\u5305\u542b\u4e86\u4e00\u7cfb\u5217\u5750\u6807\u70b9\uff0c\u5750\u6807\u70b9\u7528[x, y]\u6216\u8005[x,y,vis]\u8868\u793a\uff08vis\u4ee3\u8868\u8fd9\u4e2a\u5173\u952e\u70b9\u662f\u5426\u53ef\u89c1\uff09 visible \u8868\u793a\u67d0\u4e2a\u5173\u952e\u70b9\u662f\u5426\u53ef\u89c1\uff0c\u4f7f\u7528\u6574\u6570\u6765\u6807\u8bc6 \u72ec\u7acb\u5b57\u6bb5 height/width \u56fe\u50cf\u7684\u539f\u59cb\u5c3a\u5bf8\uff08\u957f\u548c\u5bbd\uff09 instance_id \u8fd9\u4e2a\u76ee\u6807\u7684id\uff0c\u5b9a\u4f4d\u5230\u67d0\u4e2a\u5177\u4f53\u7684\u76ee\u6807 category_id \u7c7b\u522bid\uff0c\u8868\u793a\u8fd9\u4e2a\u76ee\u6807\u5c5e\u4e8e\u54ea\u4e2a\u7c7b\u522b is_crowd \u6807\u6ce8\u7684\u662f\u4e00\u4e2a\u5bf9\u8c61\u8fd8\u662f\u4e00\u7ec4\u5bf9\u8c61\uff0c\u4f7f\u75280\u6216\u80051\u6765\u6807\u8bc6\uff0c\u5982\u679c\u662f\u4e00\u7ec4\u5bf9\u8c61\u4e3a1\uff0c\u5426\u5219\u4e3a0\uff0c area \u8fd9\u4e2a\u76ee\u6807\u6240\u5360\u7684\u9762\u79ef\uff0c\u901a\u5e38\u4f7f\u7528\u6240\u5360\u50cf\u7d20\u4e2a\u6570\u6765\u8868\u793a num_keypoints \u5173\u952e\u70b9\u4e2a\u6570 bbox \u76ee\u6807\u7684\u77e9\u5f62\u6846\u6807\u6ce8\uff0c\u901a\u5e38\u4f7f\u7528[x,y,w,h]\u6765\u8868\u793a segmentation \u76ee\u6807\u7684\u50cf\u7d20\u7ea7\u5206\u5272\u6807\u6ce8\uff0c\u901a\u5e38\u4f7f\u7528\u4e00\u7ec4[x,y]\u5750\u6807\u6765\u8868\u793a center \u76ee\u6807\u7684\u4e2d\u5fc3\u70b9\u5750\u6807\uff0c\u4f7f\u7528[x,y]\u6765\u8868\u793a\uff0c\u901a\u5e38\u4ee3\u8868\u7684\u662f\u76ee\u6807\u77e9\u5f62\u6846\u7684\u4e2d\u5fc3\u70b9\u5750\u6807 categories \u8868\u793a\u6570\u636e\u96c6\u4e2d\u6240\u5305\u542b\u7684\u7c7b\u522b\u4ee5\u53ca\u7c7b\u522b\u7f16\u53f7 super_categories \u6570\u636e\u96c6\u4e2d\u7c7b\u522b\u7684\u7236\u7c7b keypoint_names \u5173\u952e\u70b9\u7684\u540d\u79f0 skeleton \u5173\u952e\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\u5173\u7cfb scale MPII\u4e2d\u5b57\u6bb5\uff0c\u8868\u793a\u76ee\u6807\u6846\u7684\u7f29\u653e\u6bd4\u4f8b\uff0cMPII\u4e2d\u7531\u4e8e\u76ee\u6807\u6846\u662f\u6b63\u65b9\u5f62\uff0cscale*200px\u53ef\u4ee5\u8fd8\u539f\u5f97\u5230\u76ee\u6807\u6846\u7684\u8fb9\u957f person MPII\u4e2d\u5b57\u6bb5\uff0c\u4ee3\u8868\u56fe\u7247\u4e2d\u4eba\u7684\u4e2a\u6570 torsoangle MPII\u4e2d\u5b57\u6bb5\uff0c\u4ee3\u8868\u4eba\u4f53\u8eaf\u5e72\u7684\u504f\u8f6c\u89d2\u5ea6 face/hand/foot valid COCO-WholeBody\u4e2d\u5b57\u6bb5\uff0c\u4ee3\u8868\u662f\u5426\u6709\u8138/\u624b/\u811a\u7684\u6807\u6ce8\uff0c\u503c\u4e3a0\u6216\u80051 face/hand/foot kpts COCO-WholeBody\u4e2d\u5b57\u6bb5\uff0c\u8868\u793a\u8138/\u624b/\u811a\u7684\u5173\u952e\u70b9\u6807\u6ce8\uff0c\u4e3a\u4e00\u7ec4\u5750\u6807\u70b9 face/hand bbox COCO-WholeBody\u4e2d\u5b57\u6bb5\uff0c\u8868\u793a\u8138/\u624b\u7684\u77e9\u5f62\u6846\u6807\u6ce8\uff0c\u8868\u793a\u4e3a\u77e9\u5f62\u6846[x,y,h,w] Hoi Halpe\u4e2d\u5b57\u6bb5\uff0c\u4f7f\u7528\u6574\u578b\u8868\u793a\uff0c\u4ee3\u8868\u7684\u662f\u4eba\u4f53\u548c\u5176\u4ed6\u7269\u4f53\u53d1\u751f\u4ea4\u4e92\u7684\u79cd\u7c7b\uff08\u4f8b\u59820\u4ee3\u8868\u62ff\u8d77\uff0c1\u4ee3\u8868\u5750\uff0c\u7b49\u7b49\uff09 Variation DeepFashion\u4e2d\u5b57\u6bb5\uff0c\u4f7f\u7528\u6574\u578b\u8868\u793a\uff0c\u4ee3\u8868\u7684\u662f\u4efb\u52a1\u7684\u59ff\u6001 <p>\u7efc\u4e0a\u6240\u8ff0\uff0c\u9700\u8981\u63cf\u8ff0\u4e00\u4e2a\u5173\u952e\u70b9\u68c0\u6d4b\u6570\u636e\u96c6\uff0c\u6700\u57fa\u7840\u7684\u5b57\u6bb5\u5305\u62ecimage_id, keypoints, visible\u8fd9\u4e09\u4e2a\u5b57\u6bb5\uff0c\u6570\u636e\u96c6\u72ec\u7acb\u5b57\u6bb5\u7528\u6237\u81ea\u884c\u6dfb\u52a0\u4fee\u6539\u3002</p>"},{"location":"dsdl_template/cv/cv_keypoint_detection/#2","title":"2. \u6a21\u677f\u5c55\u793a","text":"<p>\u6839\u636e\u4e0a\u8ff0\u7684\u8c03\u7814\u7ed3\u679c\uff0c\u6211\u4eec\u77e5\u9053\u5bf9\u4e8e\u5173\u952e\u70b9\u68c0\u6d4b/\u59ff\u6001\u4f30\u8ba1\u4efb\u52a1\uff0c\u4e00\u4e2a\u6837\u672c\u6700\u91cd\u8981\u7684\u5c5e\u6027\u662f\u56fe\u7247\u7684id(\u6216\u8def\u5f84)\u3001\u6bcf\u4e2a\u76ee\u6807\u7684\u5173\u952e\u70b9\u6807\u6ce8\uff0c\u4ee5\u53ca\u5173\u952e\u70b9\u662f\u5426\u53ef\u89c1\u8fd9\u4e2a\u5c5e\u6027\uff0c\u8003\u8651\u5230\u6bcf\u5f20\u56fe\u7247\u53ef\u80fd\u5305\u542b\u591a\u4e2a\u7269\u4f53\uff0c\u53ef\u80fd\u6709\u591a\u4e2a\u5173\u952e\u70b9\u6807\u6ce8\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5d4c\u5957\u7ed3\u6784\u4f53KeyPointLocalObject\uff0c\u7528\u6765\u8868\u8ff0\u5355\u4e2a\u76ee\u6807\u7684\u5173\u952e\u70b9\u6807\u6ce8\u7684\u4fe1\u606f\uff08\u5373\u7c7b\u522b\u548c\u5173\u952e\u70b9\uff09\u3002\u5728\u5173\u952e\u70b9\u68c0\u6d4b/\u59ff\u6001\u4f30\u8ba1\u4efb\u52a1\u7ed3\u6784\u4f53\u7684$fields \u5c5e\u6027\u4e2d\u5b9a\u4e49\u4e86image\u548cannotations\u4e24\u4e2a\u5b57\u6bb5\uff0c\u5176\u4e2dannotations\u5b57\u6bb5\u5219\u4e3a\u591a\u4e2aKeyPointLocalObject\u7ed3\u6784\u4f53\u6784\u6210\u7684\u5217\u8868\uff08\u5217\u8868\u4e3a\u7a7a\u8868\u793a\u56fe\u7247\u4e2d\u6ca1\u6709\u5173\u952e\u70b9\u6807\u6ce8\u7684\u7269\u4f53\uff09\u3002\u6700\u540e\uff0c\u8003\u8651\u5230\u6a21\u677f\u9700\u8981\u5177\u6709\u7684\u4ee3\u8868\u6027\u548c\u53ef\u6269\u5c55\u6027\uff0c\u5728\u6240\u6709\u7684\u5c5e\u6027\u4e2d\uff0c\u6709\u4e00\u4e9b\u5c5e\u6027\u662f\u5fc5\u987b\u7684\uff0c\u5176\u4ed6\u4e00\u4e9b\u7279\u5b9a\u6570\u636e\u96c6\u4e2d\u7684\u72ec\u7acb\u5b57\u6bb5\u662f\u53ef\u9009\u7684\u3002\u57fa\u4e8e\u4e0a\u8ff0\u8003\u8651\uff0c\u6211\u4eec\u5236\u5b9a\u4e86\u5173\u952e\u70b9\u68c0\u6d4b/\u59ff\u6001\u4f30\u8ba1\u4efb\u52a1\u7684\u6a21\u677f\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <p><pre><code>KeypointClassDom:\n$def: class_domain\nclasses:\n- person\n- - ...\nKeypointDescDom:\n$def: class_domain\nclasses:\n- \"left eye\"\n-\n- ...  skeleton:\n- [14, 16]\n- [5, 6]\n- [10, 12]\n- ...\n</code></pre> \u9996\u5148\u662f\u5b9a\u4e49\u4e86\u4efb\u52a1\u7c7b\u522b\u57df\u7684\u6587\u4ef6\u3002\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u90e8\u5206\uff1a</p> <ol> <li> <p>\u5b9a\u4e49\u4e86\u76ee\u6807\u7c7b\u522b\u7684KeypointClassDom\u3002KeypointClassDom\u5b9a\u4e49\u4e86\u76ee\u6807\u7684\u7c7b\u522b\u57df\uff0c\u5373\u8fd9\u4e2a\u76ee\u6807\u5c5e\u4e8e\u54ea\u4e9b\u7c7b\u522b\uff0c\u6bd4\u5982person\u7b49\u3002</p> </li> <li> <p>\u5b9a\u4e49\u4e86\u76ee\u6807\u5173\u952e\u70b9\u540d\u79f0\u4ee5\u53ca\u8fde\u63a5\u5173\u7cfb\u7684KeypointDescDom\u3002KeypointDescDom\u5b9a\u4e49\u4e86\u5173\u952e\u70b9\u7684\u68c0\u6d4b\u4efb\u52a1\u4e2d\u4e00\u4e9b\u4e8b\u5148\u5b9a\u4e49\u597d\u7684\u57df\uff0c\u5305\u62ec\u5173\u952e\u70b9\u540d\u79f0\u548c\u5173\u952e\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\u5173\u7cfbskeleton\u3002</p> </li> </ol> <pre><code>KeyPointLocalObject:   $def: struct\n$params: ['cdom1', 'cdom2']\n$fields:\nkeypoint: Keypoint[dom=$cdom2]\nlabel: Label[dom=$cdom1]\n$optional: [\"label\"]\nKeyPointSample:\n$def: struct\n$params: ['cdom1', 'cdom2']\n$fields:\nimage: Image\nannotations: List[etype=LocalObjectEntry[cdom1=$cdom1, cdom2=$cdom2]]\ndata:\nsample-type: ObjectKeypointSample[cdom1=KeypointClassDom, cdom2=KeypointDescDom]\n</code></pre> <p>\u5176\u6b21\u662f\u5b9a\u4e49\u4e86\u5173\u952e\u70b9\u68c0\u6d4bsample\u7684yaml\u6587\u4ef6\u3002\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u90e8\u5206\uff1a</p> <ol> <li> <p>KeyPointSample\u3002KeyPointSample\u5b9a\u4e49\u4e86\u5173\u952e\u70b9\u68c0\u6d4b\u4e2d\u7684\u4e00\u4e2asample\u5bf9\u8c61\uff0c\u5305\u62ec\u56fe\u50cf\u8def\u5f84image\u4ee5\u53ca\u6807\u6ce8\u4e86\u7684\u76ee\u6807\u5217\u8868annotations\u3002</p> </li> <li> <p>KeyPointLocalObject\u3002KeyPointLocalObject\u5b9a\u4e49\u4e86\u4e00\u4e2a\u76ee\u6807\u7684\u6807\u6ce8\uff0c\u6807\u6ce8\u91cc\u5305\u62ec\uff1a</p> <ul> <li> <p>\u76ee\u6807\u7684\u7c7b\u522blabel\uff0c\u6ce8\u610f\u8fd9\u4e2alabel\u6240\u5c5e\u7684\u57df\u662fKeypointClassDom\uff0c\u5373\u76ee\u6807\u6240\u5c5e\u7684\u7c7b\u522b\u3002</p> </li> <li> <p>\u5173\u952e\u70b9\u6807\u6ce8keypoint\uff0c\u5373\u76ee\u6807\u7684\u5173\u952e\u70b9\u6807\u6ce8\uff0cKeypoint\u6807\u6ce8\u4f7f\u7528\u5217\u8868[x1,y1,v1,x2,y2,v2,.....]\u6765\u8868\u793a\uff0cx1,y1\u8868\u793a\u5173\u952e\u70b9\u7684\u5750\u6807\uff0cv1\u8868\u793a\u8fd9\u4e2a\u5173\u952e\u70b9\u7684\u53ef\u89c1\u6027\uff08\u5173\u952e\u70b9\u7684\u53ef\u89c1\u6027\u6807\u6ce8\u65b9\u9762\uff0c\u4e0d\u8bbe\u5b9a\u7edf\u4e00\u7684\u6807\u51c6\uff0c\u548c\u539f\u59cb\u6570\u636e\u96c6\u683c\u5f0f\u4fdd\u6301\u4e00\u81f4\uff0c\u8ba4\u4e3a&lt;=0\u7684\u503c\u5373\u4ee3\u8868\u4e0d\u53ef\u89c1\u4e14\u65e0\u6807\u6ce8\uff0c&gt;1\u4ee3\u8868\u6709\u6807\u6ce8\uff09\u3002keypoint\u6240\u5c5e\u7684\u57df\u662fKeypointDescDom\u5373\u63cf\u8ff0\u5173\u952e\u70b9\u7684domain\u3002</p> </li> </ul> </li> </ol>"},{"location":"dsdl_template/cv/cv_keypoint_detection/#3","title":"3. \u4f7f\u7528\u65b9\u6cd5","text":"<p>\u4e0b\u9762\u4ecb\u7ecd\u600e\u4e48\u4f7f\u7528\u4e0a\u9762\u5b9a\u4e49\u7684\u6a21\u677f\u6765\u63cf\u8ff0\u4e00\u4e2a\u6570\u636e\u96c6\uff0c\u4ee5COCOKeypoint2017\u4e3a\u4f8b\uff0c\u63cf\u8ff0\u4e86sample\u7684yaml\u6587\u4ef6keypoint-coco2017.yaml\u5982\u4e0b\uff1a</p> <pre><code>$dsdl-version: \"0.5.0\"\nKeyPointLocalObject:\n$def: struct\n$params: [\"cdom0\", \"cdom1\"]\n$fields:\niscrowd: Int\narea: Num\ncategory: Label[dom=$cdom0]\nbbox: BBox\npolygon: Polygon\nnum_keypoints: Int\nann_id: Int\nkeypoints: Keypoint[dom=$cdom1]\nKeyPointSample:\n$def: struct\n$params: [\"cdom0\", \"cdom1\"]\n$fields:\nmedia: Image\nheight: Int\nwidth: Int\nimage_id: Int\nannotations: List[etype=KeyPointLocalObject[cdom0=$cdom0, cdom1=$cdom1]]\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\uff0cCOCO2017Keypoints\u6570\u636e\u96c6\u7684\u6a21\u677f\u9664\u4e86\u5173\u952e\u70b9\u68c0\u6d4b\u4efb\u52a1\u6a21\u677f\u4e2d\u7684\u5fc5\u987b\u5b57\u6bb5\u5916\uff08keypoints\uff0c visible\uff0c \u4ee5\u53caimage_id\uff09\uff0c\u8fd8\u6709\u8bb8\u591a\u6570\u636e\u96c6\u7279\u6709\u7684\u72ec\u7acb\u5b57\u6bb5</p> <p>\u5728\u68c0\u6d4b\u6a21\u677f\u4e2d\u7684\u4e00\u4e9b\u5b57\u6bb5\u542b\u4e49\u5982\u4e0b\uff1a   - $dsdl-version: \u63cf\u8ff0\u4e86\u8be5\u6587\u4ef6\u5bf9\u5e94\u7684dsdl\u7248\u672c\u3002</p> <ul> <li> <p>ObjectKeypointEntry: \u5b9a\u4e49\u4e86\u5173\u952e\u70b9\u6807\u6ce8\u7684\u63cf\u8ff0\u65b9\u5f0f\u7684\u5d4c\u5957\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5: </p> <ul> <li> <p>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b\u3002</p> </li> <li> <p>$params: \u5b9a\u4e49\u4e86\u5f62\u53c2\uff0c\u5728\u8fd9\u91cc\u5373class domain\u3002</p> </li> <li> <p>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:</p> </li> <li>is_crowd\uff1a \u662f\u5bf9\u4e00\u4e2a\u7269\u4f53\u7684\u6807\u6ce8\u8fd8\u662f\u591a\u4e2a\u7269\u4f53\u7684\u6807\u6ce8\u3002</li> <li>area\uff1a \u76ee\u6807\u5b9e\u4f8b\u7684\u50cf\u7d20\u9762\u79ef\u3002</li> <li>category\uff1a \u7269\u4f53\u6240\u5c5e\u7684\u7c7b\u522b\u3002</li> <li>bbox\uff1a \u76ee\u6807\u7684\u76ee\u6807\u6846\u6807\u6ce8\uff0c\u7c7b\u578b\u4e3aBBox\u3002</li> <li>polygon\uff1a \u76ee\u6807\u7684\u5b9e\u4f8b\u5206\u5272\u6807\u6ce8\uff0c\u7c7b\u578b\u4e3aPolygon\u3002</li> <li>num_keypoints\uff1a \u4ee3\u8868\u8fd9\u4e2a\u5bf9\u8c61\u5173\u952e\u70b9\u7684\u4e2a\u6570\u3002</li> <li>ann_id\uff1a \u5b9e\u4f8b\u6807\u6ce8\u5728\u6574\u4e2a\u6570\u636e\u96c6\u4e2d\u7684\u7f16\u53f7\u3002</li> <li>keypoints\uff1a \u5173\u952e\u70b9\u6807\u6ce8\u7684\u5217\u8868\uff0c\u5176\u4e2d\u6bcf\u4e00\u4e2a\u5143\u7d20\u662f\u4e00\u4e2a[x,y,z]\u7684\u4e09\u7ef4\u5750\u6807\uff0cx\u548cy\u8868\u793a\u5173\u952e\u70b9\u4f4d\u7f6e\uff0cz\u8868\u793a\u8fd9\u4e2a\u5173\u952e\u70b9\u7684\u53ef\u89c1\u60c5\u51b5\u3002</li> </ul> </li> <li> <p>KeypointDetectionSample: \u5b9a\u4e49\u4e86\u5173\u952e\u70b9\u68c0\u6d4b/\u59ff\u6001\u4f30\u8ba1\u4efb\u52a1sample\u7684\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5:</p> <ul> <li> <p>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b\u3002</p> </li> <li> <p>$params: \u5b9a\u4e49\u4e86\u5f62\u53c2\uff0c\u5728\u8fd9\u91cc\u5373class domain\u3002</p> </li> <li> <p>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:</p> <ul> <li>media \u56fe\u7247\u7684\u8def\u5f84\u3002</li> <li>height: \u56fe\u50cf\u7684\u9ad8\u3002</li> <li>width: \u56fe\u50cf\u7684\u5bbd\u3002</li> <li>image_id: \u56fe\u50cf\u5728\u6570\u636e\u96c6\u4e2d\u7684\u7f16\u53f7\u3002</li> <li>annotations \u6807\u6ce8\u4fe1\u606f\uff0c\u5173\u952e\u70b9\u68c0\u6d4b/\u59ff\u6001\u4f30\u8ba1\u4efb\u52a1\u4e2d\uff0c\u4e3a\u524d\u9762\u7684ObjectKeypointEntry\u6784\u6210\u7684\u4e00\u4e2a\u5217\u8868\u3002</li> </ul> </li> </ul> </li> </ul> <p>\u63cf\u8ff0\u4e86\u5173\u952e\u70b9\u68c0\u6d4b\u4efb\u52a1\u7684class-dom.yaml\u6587\u4ef6\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>$dsdl-version: \"0.5.0\"\nCOCO2017KeypointsClassDom:\n$def: class_domain\nclasses: - person\nCOCO2017KeypointsDescDom[COCO2017KeypointsClassDom]:\n$def: class_domain\nclasses:\n- nose[person]\n- left_eye[person]\n- right_eye[person]\n- ...\nskeleton:\n- [16, 14]\n- [14, 12]\n- [17, 15]\n- ...\n</code></pre> <p>\u4e0a\u9762\u7684\u6587\u4ef6\u4e2d\u7ed9\u51fa\u4e86\u5173\u952e\u70b9\u68c0\u6d4b\u4efb\u52a1\u91cd\u7c7b\u522b\u57df\u7684\u5b9a\u4e49\uff0c\u5177\u4f53\u5305\u542b\u4e0b\u5217\u5b57\u6bb5\uff1a  - COCO2017KeypointsClassDom\uff1aCOCO2017Keypoint\u5173\u952e\u70b9\u68c0\u6d4b\u7684\u7c7b\u522b\u57df\uff0c\u53ea\u5305\u542b\u4e86\u4eba\u8fd9\u4e00\u4e2a\u7c7b\u522b \u3002  - COCO2017KeypointsDescDom\uff1aCOCO2017Keypoint\u5173\u952e\u70b9\u68c0\u6d4b\u7684\u6570\u636e\u96c6\u63cf\u8ff0\u4fe1\u606f\u57df\uff0c\u7ee7\u627f\u4e86COCO2017KeypointsClassDom\uff0c\u5305\u542b\u4e86\u6570\u636e\u96c6\u4e2d\u5bf9person\u7684\u63cf\u8ff0\u4fe1\u606f\uff0c\u5305\u62ec\u5173\u952e\u70b9\u540d\u79f0\u4ee5\u53ca\u5173\u952e\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\u5173\u7cfb\u3002</p>"},{"location":"dsdl_template/cv/cv_object_tracking/","title":"\u76ee\u6807\u8ddf\u8e2a\u4efb\u52a1","text":"<p>\u6211\u4eec\u901a\u8fc7\u5bf9\u76ee\u6807\u8ddf\u8e2a\u4efb\u52a1\u8fdb\u884c\u8c03\u7814\uff0c\u5e76\u603b\u7ed3\u6570\u636e\u96c6\u63cf\u8ff0\u4e2d\u7684\u5b57\u6bb5\u4fe1\u606f\uff0c\u4ece\u800c\u5236\u5b9a\u51fa\u76ee\u6807\u8ddf\u8e2a\u4efb\u52a1DSDL\u6a21\u677f\uff0c\u4f9b\u5927\u5bb6\u53c2\u8003\u4f7f\u7528\u3002</p>"},{"location":"dsdl_template/cv/cv_object_tracking/#1","title":"1. \u4efb\u52a1\u8c03\u7814","text":""},{"location":"dsdl_template/cv/cv_object_tracking/#11","title":"1.1 \u4efb\u52a1\u5b9a\u4e49","text":"<p>\u76ee\u6807\u8ddf\u8e2a\u4efb\u52a1\u662f\u6307\u5728\u56fe\u50cf\u4e2d\u68c0\u6d4b\u51fa\u7269\u4f53\u7684\u4f4d\u7f6e\uff0c\u5e76\u8bc6\u522b\u51fa\u5177\u4f53\u7684\u5b9e\u4f8b\uff0c\u901a\u8fc7\u4e00\u4e2a\u7279\u6b8a\u8bc6\u522bID\u5bf9\u5176\u8fdb\u884c\u8ddf\u8e2a\u3002\u5206\u4e3a\u5355\u76ee\u6807\u8ddf\u8e2a\u548c\u591a\u76ee\u6807\u8ddf\u8e2a\uff0c\u6709\u7684\u6570\u636e\u96c6\u8fd8\u4f1a\u5bf9\u6bcf\u4e2a\u5b9e\u4f8b\u7684\u7c7b\u522b\u8fdb\u884c\u6807\u6ce8\u3002\u5176\u793a\u610f\u56fe\u5982\u4e0b\u6240\u793a\uff1a</p> \u56fe1 GOT10k \u5355\u76ee\u6807\u8ddf\u8e2a \u56fe2 MOT17 \u591a\u76ee\u6807\u8ddf\u8e2a"},{"location":"dsdl_template/cv/cv_object_tracking/#12","title":"1.2 \u8bc4\u4ef7\u6307\u6807","text":"<p>\u6700\u5e38\u7528\u7684\u5c31\u662f\u4e24\u4e2a\uff1a\u7cbe\u786e\u5ea6\u548c\u6210\u529f\u7387\uff08\u6bd4\u5982TrackingNet\u3001UAV123\u3001Nfs\u3001OTB2015\u3001LaSOT\u3001TLP\uff09\u3002</p> <ul> <li>\u6210\u529f\u7387\uff08Success Rate/IOU Rate/AOS\uff09</li> </ul> <p>\u6210\u529f\u503c (success)\u8ba1\u7b97\u662f\u8ba1\u7b97\u9884\u6d4b\u6846\u4e0e\u6807\u6ce8\u6846\u7684\u533a\u57df\u5185\u50cf\u7d20\u7684\u4ea4\u5e76\u6bd4\u3002\u6210\u529f\u7387 (Success Rate)\u5373\u5728success\u4e00\u5b9a\u9608\u503c\u4e4b\u4e0b\uff0c\u6210\u529f\u4e2a\u6570\u7684\u6bd4\u4f8b\u3002\u5728\u4e0d\u540c\u7684\u9608\u503c\u4e0b\uff0c\u6210\u529f\u7387\u4e5f\u4f1a\u76f8\u5e94\u53d8\u5316\uff0c\u4ee5\u9608\u503c\u4e3ax\uff0c\u6210\u529f\u7387\u4e3ay\uff0c\u53ef\u4f5c\u51fa\u6210\u529f\u7387\u66f2\u7ebf (Success rate plot)\u3002AUC(Area under curve)\u5206\u6570\u5373\u4e3a\u6210\u529f\u7387\u66f2\u7ebf\u4e0b\u7684\u9762\u79ef\u3002\u6709\u7684\u8bba\u6587\u4e5f\u4f1a\u76f4\u63a5\u6307\u5b9a\u9608\u503c\uff0c\u7531\u4e8e\u4e2d\u503c\u5b9a\u7406\uff0c\u6700\u5e38\u7528\u7684\u9608\u503c\u662f0.5\u3002</p> <ul> <li>\u7cbe\u786e\u5ea6\uff08Precision\uff09</li> </ul> <p>\u7cbe\u786e\u5ea6\u662f\u8ffd\u8e2a\u6210\u529f\u7684\u4e2a\u6570\u6bd4\u4f8b\u3002\u4e3a\u4e86\u8ba1\u7b97\u8ffd\u8e2a\u6210\u529f\u7684\u4e2a\u6570\uff0c\u9700\u8981\u8ba1\u7b97\u9884\u6d4b\u6846\u4e2d\u5fc3\u70b9\u4e0e\u6807\u6ce8\u6846\u7684\u4e2d\u5fc3\u70b9\u7684\u4e4b\u95f4\u6b27\u6c0f\u8ddd\u79bb\uff0c\u901a\u5e38\u9608\u503c\u4e3a20\u50cf\u7d20\uff0c\u5373\u5b83\u4eec\u7684\u6b27\u6c0f\u8ddd\u79bb\u572820\u50cf\u7d20\u4e4b\u5185\u5c31\u89c6\u4e3a\u8ffd\u8e2a\u6210\u529f\u3002</p> <ul> <li>\u5f52\u4e00\u5316\u7cbe\u786e\u5ea6\uff08Normalized Precision\uff09</li> </ul> <p>\u8003\u8651\u5230\u6807\u6ce8\u6846\u7684\u5c3a\u5ea6\u5927\u5c0f\u5c06\u5f71\u54cd\u5bf9\u7cbe\u786e\u5ea6\u7684\u5224\u65ad\uff08\u6bd4\u5982\uff0c\u5bf9\u4e8e\u8f83\u5c0f\u7684\u6807\u6ce8\u6846\uff0c\u9884\u6d4b\u6846\u548c\u6807\u6ce8\u6846\u7684\u4e2d\u5fc3\u70b9\u76f8\u969420\u50cf\u7d20\uff0c\u4e24\u8005\u7684\u4ea4\u5e76\u6bd4\u5df2\u7ecf\u4e0b\u964d\u5230\u4e00\u4e2a\u975e\u5e38\u4f4e\u7684\u503c\uff09\uff0c\u56e0\u6b64\uff0c\u5c06\u7cbe\u786e\u5ea6 (Precision)\u6839\u636e\u6807\u6ce8\u6846\u5927\u5c0f\u8fdb\u884c\u4e86\u5f52\u4e00\u5316\uff0c\u5f97\u5230\u4e86\u5f52\u4e00\u5316\u7cbe\u786e\u5ea6 (Normalized Precision)\u3002</p> <p><code>&lt;a id=\"table-1\"&gt;&lt;/a&gt;</code></p>"},{"location":"dsdl_template/cv/cv_object_tracking/#13","title":"1.3 \u4e3b\u6d41\u6570\u636e\u96c6\u8c03\u7814","text":"<p>\u6211\u4eec\u5bf94\u4e2a\u76ee\u6807\u68c0\u6d4b\u6570\u636e\u96c6\u8fdb\u884c\u8c03\u7814\uff0c\u5bf9\u76f8\u5173\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\uff08\u4e3b\u8981\u662f\u6807\u6ce8\u5b57\u6bb5\uff09\u8fdb\u884c\u5206\u6790\u6c47\u603b\uff0c\u76f8\u540c\u542b\u4e49\u7684\u6807\u6ce8\u5b57\u6bb5\u4f1a\u4ee5\u7edf\u4e00\u547d\u540d\u8fdb\u884c\u5c55\u793a\uff0c\u6c47\u603b\u4fe1\u606f\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> \u76ee\u6807\u8ddf\u8e2a\u6570\u636e\u96c6 \u5171\u4eab\u5b57\u6bb5 \u72ec\u7acb\u5b57\u6bb5 instance_id bbox category media_path frame_ID width height frameRate seqLength absence Visibility/Cover/Occluded truncated/cut_by_image ignore_flag TrackingNet Y Y Y GOT10k Y Y Y Y Y Y Y Y Y Y MOT17 Y Y Y Y Y Y Y Y Y Y Y KITTI-tracking Y Y Y Y Y Y Y <p>\u5bf9\u5171\u4eab\u5b57\u6bb5\u548c\u72ec\u7acb\u5b57\u6bb5\u8fdb\u884c\u6c47\u603b\uff0c\u5f97\u5230\u4e0b\u8868\uff1a</p> \u5b57\u6bb5\u7c7b\u578b \u5b57\u6bb5\u540d\u79f0 \u542b\u4e49 \u5171\u4eab\u5b57\u6bb5 instance_id \u76ee\u6807\u7f16\u53f7\uff0c\u540c\u4e00\u76ee\u6807\u5728\u6574\u4e2a\u89c6\u9891\u7247\u6bb5\u4e2d\u5177\u6709\u552f\u4e00\u7684\u7f16\u53f7\uff0c\u5728\u591a\u76ee\u6807\u8ddf\u8e2a\u91cc\u4e3a\u5fc5\u9700\u5b57\u6bb5 bbox \u5b9a\u4f4d\u5355\u4e2a\u76ee\u6807\u7684\u77e9\u5f62\u6846\uff0c\u6bd4\u5982\u7528[xmin, ymin, xmax, ymax]\u8868\u793a category \u5355\u4e2a\u76ee\u6807\u6240\u5c5e\u7684\u7c7b\u522b media_path \u5a92\u4f53\u6587\u4ef6\u8def\u5f84 frame_ID \u5e27\u53f7\uff0c\u7528\u4e8e\u89c6\u9891\u5e8f\u5217\u6392\u5e8f \u72ec\u7acb\u5b57\u6bb5 width \u56fe\u7247\u7684\u5bbd height \u56fe\u7247\u7684\u9ad8 frameRate \u5e27\u7387\uff0c\u6709\u7684\u6570\u636e\u96c6\u4e5f\u53ebanno_fps seqLength \u89c6\u9891\u5e27\u5e8f\u5217\u957f\u5ea6/\u5f20\u6570 absence \u6307\u793a\u8be5\u5e27\u662f\u5426\u5b58\u5728\u8be5\u5bf9\u8c61 Visibility/Cover/Occluded \u906e\u6321\u5ea6\u3002\u5728\u4e0d\u540c\u6570\u636e\u96c6\u6709\u4e0d\u540c\u7684\u8868\u793a\u65b9\u6cd5\uff0c\u53ef\u4ee5\u662fCover\uff08\u906e\u6321\u5ea6\u3001\u7ea7\u522b\u8303\u56f4\u4e3a0~8\uff09\uff0c\u4e5f\u53ef\u4ee5\u662fvisibility\uff08\u7269\u4f53\u53ef\u89c1\u7a0b\u5ea6\uff0c\u53d6\u503c\u5728 0~1 \u4e4b\u95f4\uff09,\u8fd8\u53ef\u4ee5\u662fOccluded\uff08\u5f53\u524d\u6807\u6ce8\u662f\u5426\u6709\u88ab\u906e\u6321\u30020 \u8868\u793a \"fully visiable\"\uff1b1 \u8868\u793a \"partly occluded\"\uff1b2 \u8868\u793a \"largely occluded\"\uff1b3 \u8868\u793a \"unknown\"\uff09 truncated/cut_by_image \u5f53\u524d\u6807\u6ce8\u7684\u5bf9\u8c61\u662f\u5426\u6b63\u88ab\u56fe\u50cf\u8fb9\u7f18\u622a\u65ad,1\u8868\u793a\u88ab\u622a\u65ad ignore_flag \u5f53\u524d\u6807\u6ce8\u5728\u8bc4\u4f30\u4e2d\u662f\u5426\u88ab\u8003\u8651\uff0c\u82e5 flag = 1\uff0c\u5219\u8003\u8651\u5f53\u524d\u6807\u6ce8\uff0c\u82e5 flag = 0\uff0c\u5219\u5ffd\u7565 <p>\u53ef\u4ee5\u770b\u5230\uff0c\u5982\u679c\u8981\u63cf\u8ff0\u4e00\u4e2a\u68c0\u6d4b\u6570\u636e\u96c6\u7684\u6837\u672c\uff0cinstance_id\u3001bbox\u3001media_path\u548cframe_id\u662f\u6700\u57fa\u7840\u7684\u5b57\u6bb5\uff0c\u6b64\u5916\u8fd8\u5305\u542b\u4e86\u5404\u79cd\u63cf\u8ff0\u8fb9\u754c\u6846\u4fe1\u606f\u7684\u7279\u6b8a\u5b57\u6bb5\u3002</p> <p><code>&lt;a id=\"table-2\"&gt;&lt;/a&gt;</code></p>"},{"location":"dsdl_template/cv/cv_object_tracking/#2","title":"2. \u6a21\u677f\u5c55\u793a","text":"<p>\u76ee\u6807\u8ddf\u8e2a\u4efb\u52a1\u662f\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\u7684\u62d3\u5c55\uff0c\u4e5f\u5305\u542b\u5d4c\u5957\u7ed3\u6784\u4f53\uff08\u5176\u8be6\u7ec6\u5b9a\u4e49\u53ef\u4ee5\u53c2\u8003DSDL\u5165\u95e8\u6587\u6863-\u8bed\u8a00\u5b9a\u4e49-\u5d4c\u5957\u7ed3\u6784\u4f53\uff09\u548c\u7c7b\u522b\u57df\uff08class domain\uff0c\u6216\u8005cdom\uff0c\u5177\u4f53\u53ef\u4ee5\u53c2\u8003DSDL\u5165\u95e8\u6587\u6863-\u8bed\u8a00\u5b9a\u4e49-\u7c7b\u522b\u57df\uff09\uff0c\u4f46\u4e0e\u4e4b\u4e0d\u540c\u7684\u662f\uff1a\u6839\u636e\u4e0a\u8ff0\u7684\u8c03\u7814\u7ed3\u679c\uff0c\u6211\u4eec\u77e5\u9053\u5bf9\u4e8e\u76ee\u6807\u8ddf\u8e2a\u4efb\u52a1\u91cd\u8981\u7684\u5c5e\u6027\u5305\u62ecframe_id\u3001media_path\u3001instance_id\u3001bbox\u548ccategory\uff0c\u800c\u8fd9\u4e9b\u5c5e\u6027\u5206\u522b\u5c5e\u4e8e \u4e09\u4e2a\u5c42\u7ea7\u7684\u7ed3\u6784\u4f53 \uff0c\u7b2c\u4e00\u5c42\u662f\u89c6\u9891\uff0c\u7b2c\u4e8c\u5c42\u662f\u89c6\u9891\u5e27\uff08\u5373\u56fe\u7247\uff09\uff0c\u7b2c\u4e09\u5c42\u662f\u6807\u6ce8\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5b9a\u4e49\u4e09\u5c42\u7684\u5d4c\u5957\u7ed3\u6784\u4f53\uff0c\u7528\u6765\u8be6\u7ec6\u63cf\u8ff0\u6bcf\u4e2a\u6837\u672c\u7684\u4fe1\u606f\u3002</p> <p>\u57fa\u4e8e\u4e0a\u8ff0\u8003\u8651\uff0c\u6211\u4eec\u5236\u5b9a\u4e86\u76ee\u6807\u8ddf\u8e2a\u4efb\u52a1\u7684\u6a21\u677f\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <p>object-tracking.yaml</p> <pre><code>$dsdl-version: \"0.5.0\"\nLocalObjectEntry:  $def: struct   $params: [\"cdom\"]\n$fields: instance_id: InstanceID\nbbox: BBox\ncategory: Label[dom=$cdom]\nFrameSample:\n$def: struct\n$params: [\"cdom\"]\n$fields:\nframe_id: UniqueID\nmedia_path: Image\nobjects: List[etype=LocalObjectEntry[cdom=$cdom]]\nVideoFrame:\n$def: struct\n$params: [\"cdom\"]\n$fields:\nvideo_name: Str\nvideoframes: List[etype=FrameSample[cdom=$cdom]]\n</code></pre> <p>\u5728\u76ee\u6807\u8ddf\u8e2a\u6a21\u677f\u4e2d\u7684\u4e00\u4e9b\u5b57\u6bb5\u542b\u4e49\u5982\u4e0b\uff08\u8be6\u7ec6\u5b66\u4e60\u8bf7\u53c2\u8003 DSDL\u8bed\u8a00\u6559\u7a0b\uff09</p> <ul> <li>$dsdl-version: \u63cf\u8ff0\u4e86\u8be5\u6587\u4ef6\u5bf9\u5e94\u7684dsdl\u7248\u672c</li> <li>LocalObjectEntry: \u5b9a\u4e49\u4e86\u6807\u6ce8\u6846\u7684\u63cf\u8ff0\u65b9\u5f0f\u7684\u5d4c\u5957\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5:</li> <li>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li>$params: \u5b9a\u4e49\u4e86\u5f62\u53c2\uff0c\u5728\u8fd9\u91cc\u5373class domain</li> <li>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:<ul> <li>instance_id\uff1a\u7269\u4f53\u7f16\u53f7\uff0c\u540c\u4e00\u7269\u4f53\u5728\u6574\u4e2a\u89c6\u9891\u7247\u6bb5\u4e2d\u5177\u6709\u552f\u4e00\u7684\u7f16\u53f7</li> <li>bbox\uff1a\u6807\u6ce8\u6846\u4fe1\u606f\uff0c\u8f6c\u5316\u4e3abbox\u6807\u51c6\uff0c\u5373[x,y,w,h]</li> <li>category\uff1a\u6807\u6ce8\u6846\u7c7b\u522b\uff0c\u4e0eClassDom\u5bf9\u5e94</li> </ul> </li> <li>FrameSample: \u5b9a\u4e49\u4e86\u89c6\u9891\u5e27sample\u7684\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5:</li> <li>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li>$params: \u5b9a\u4e49\u4e86\u5f62\u53c2\uff0c\u5728\u8fd9\u91cc\u5373class domain</li> <li>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:<ul> <li>frame_id\uff1a\u89c6\u9891\u5e27\u5e8f\u53f7\uff0c\u7c7b\u578b\u4e3aUniqueID\uff0c\u5982\u6709\u591a\u4e2a\u5c42\u7ea7\u5305\u542bUniqueID\uff0c\u53ef\u6307\u5b9a\u53c2\u6570id_type\uff0c\u6bd4\u5982UniqueID[id_type='frame']</li> <li>media_path\uff1a\u89c6\u9891\u5e27\u7684\u8def\u5f84</li> <li>objects\uff1a\u6807\u6ce8\u4fe1\u606f\uff0c\u4e3a\u524d\u9762\u7684\u6807\u6ce8\u6846\u7ed3\u6784\u4f53\u6784\u6210\u7684\u4e00\u4e2a\u5217\u8868</li> </ul> </li> <li>VideoFrame\uff1a\u5b9a\u4e49\u4e86\u4e00\u4e2a\u89c6\u9891sample\u7684\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5</li> <li>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li>$params: \u5b9a\u4e49\u4e86\u5f62\u53c2\uff0c\u5728\u8fd9\u91cc\u5373class domain</li> <li>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:<ul> <li>video_name\uff1a\u89c6\u9891\u7684\u540d\u79f0\uff08\u4e00\u822c\u662f\u6587\u4ef6\u5939\u540d\u5b57\uff09</li> <li>videoframes\uff1a\u4e3a\u524d\u9762\u7684\u89c6\u9891\u5e27sample\u6784\u6210\u7684\u4e00\u4e2a\u5217\u8868   \u9664\u4e86\u8fd9\u4e9b\u5fc5\u9700\u5b57\u6bb5\u4ee5\u5916\uff0c\u7528\u6237\u8fd8\u53ef\u4ee5\u53c2\u8003\u201c\u4e3b\u6d41\u6570\u636e\u96c6\u8c03\u7814\u201d\u4e2d\u7684\u7279\u6b8a\u5b57\u6bb5\u548c\u5176\u4ed6\u5b57\u6bb5\uff0c\u65b0\u589e\u5bf9\u7ed3\u6784\u4f53\u7684\u5c5e\u6027\u5b9a\u4e49\u3002</li> </ul> </li> </ul>"},{"location":"dsdl_template/cv/cv_object_tracking/#3","title":"3. \u5b8c\u6574\u793a\u4f8b","text":"<p>\u6211\u4eec\u4ee5TrackingNet\u6570\u636e\u96c6\uff08\u5355\u76ee\u6807\u8ddf\u8e2a\uff09\u4e3a\u4f8b\uff0c\u5c55\u793a\u76ee\u6807\u8ddf\u8e2a\u6570\u636e\u96c6DSDL\u63cf\u8ff0\u6587\u4ef6\u5177\u4f53\u5185\u5bb9\u3002</p> <p>object-tracking.yaml</p> <pre><code>$dsdl-version: \"0.5.3\"\nLocalObjectEntry:  $def: struct   $params: [\"cdom\"]\n$fields: instance_id: InstanceID\nbbox: BBox\ncategory: Label[dom=$cdom]\nFrameSample:\n$def: struct\n$params: [\"cdom\"]\n$fields:\nframe_id: UniqueID\nmedia_path: Image\n_image_shape: ImageShape\nobjects: List[etype=LocalObjectEntry[cdom=$cdom]]\nVideoFrame:\n$def: struct\n$params: [\"cdom\"]\n$fields:\nvideo_name: Str\n_folder: Str\nvideoframes: List[etype=FrameSample[cdom=$cdom]]\n</code></pre> <p>\u5b57\u6bb5\u542b\u4e49\u89e3\u91ca\u53ca\u5bf9\u5e94\u5173\u7cfb\uff1a</p> <p>\uff08\u4ee5\u4e0b\u5212\u7ebf\u5f00\u5934\u7684\u5b57\u6bb5\u662f\u76ee\u6807\u8ddf\u8e2a\u4efb\u52a1\u6a21\u677f\u4e2d\u6ca1\u6709\u5305\u542b\u7684\u5b57\u6bb5\uff09</p> <ul> <li>\u5728LocalObjectEntry\u4e2d\uff1a</li> <li>bbox\uff1a\u5bf9\u5e94\u539f\u6570\u636e\u96c6txt\u6807\u6ce8\u6587\u4ef6\u4e2d\u7684\u6807\u6ce8\u6846\u5750\u6807\uff0c\u5373[x,y,w,h]</li> <li>\u5728ObjectTrackingSample\u4e2d\uff1a</li> <li>frame_id\uff1a\u89c6\u9891\u5e27\u5e8f\u53f7\uff0c\u7c7b\u578b\u4e3aUniqueID\uff0c\u8fd9\u91cc\u5bf9\u5e94\u7684\u662f\u539f\u6570\u636e\u96c6\u7684\u89c6\u9891\u5e27\u6587\u4ef6\u540d\uff0c\u6bd4\u5982\u201c0.jpg\"\u5bf9\u5e94\u7684frame_id\u4e3a\u201c0\u201d\u3002</li> <li>media_path\uff1a\u8be5\u5b57\u6bb5\u662f\u6211\u4eec\u81ea\u9002\u5e94\u7684\u5b57\u6bb5\uff0c\u7528\u4e8e\u50a8\u5b58\u56fe\u50cf\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u4e3b\u8981\u4ece\u539f\u59cb\u6570\u636e\u96c6\u7684filename\u5b57\u6bb5\u8f6c\u5316\u800c\u6765</li> <li>_image_shape\uff1a\u56fe\u7247\u7684\u5bbd\u9ad8\u4fe1\u606f\uff0c\u683c\u5f0f\u4e3a[height, width]\uff0cTrackingNet\u4e2d\u5e76\u6ca1\u6709\u76f4\u63a5\u63d0\u4f9b\u56fe\u7247\u5bbd\u9ad8\u5c5e\u6027\uff0c\u4f46\u662f\u4e3a\u4e86\u65b9\u4fbfodl\u5de5\u5177\u7684\u7b5b\u9009\u7b49\u64cd\u4f5c\uff0c\u5efa\u8bae\u6dfb\u52a0\u8be5\u5b57\u6bb5</li> <li>objects\uff1a\u8be5\u5b57\u6bb5\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684object\u5b57\u6bb5\uff0c\u4ee5List\u7684\u5f62\u5f0f\u5b58\u50a8\u5177\u4f53bounding box\u7684\u6807\u6ce8\u4fe1\u606f</li> <li>\u5728VideoFrame\u4e2d\uff1a</li> <li>video_name\uff1a\u89c6\u9891\u7684\u540d\u79f0\uff08\u5bf9\u5e94frames\u4e0b\u7684\u5b50\u76ee\u5f55\u6587\u4ef6\u540d\uff09</li> <li>_folder: \u4e3b\u8981\u662f\u6807\u8bc6\u89c6\u9891\u6765\u81ea\u4e8e\u54ea\u4e2a\u6587\u4ef6\u5939\uff0c\u56e0\u4e3a\u8bad\u7ec3\u96c6\u4e00\u5171\u5206\u4e8612\u4e2a\u6587\u4ef6\u5939\uff0c\u6a21\u677f\u4e2d\u6ca1\u6709\u8be5\u5b57\u6bb5\uff0c\u4e3a\u65b0\u589e\u5b57\u6bb5</li> <li>videoframes\uff1a\u4ee5\u5217\u8868\u7684\u5f62\u5f0f\u5b58\u50a8\u4e86\u89c6\u9891\u7684\u6bcf\u4e00\u5e27\u7684\u4fe1\u606f</li> </ul> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u7531\u4e8e\u8be5\u6570\u636e\u96c6\u6ca1\u6709\u7c7b\u522b\u4fe1\u606f\uff0c\u56e0\u6b64\u5176\u5b9e\u53ef\u4ee5\u4e0d\u9700\u8981category\u5b57\u6bb5\u548c\u7c7b\u522b\u57df\u6587\u4ef6\uff0c\u53e6\u5916\uff0c\u56e0\u4e3a\u662f\u5355\u76ee\u6807\u8ddf\u8e2a\uff0cinstance_id\u5b57\u6bb5\u4e5f\u53ef\u4ee5\u7701\u7565\u3002\u4f46\u4e3a\u4e86\u4fdd\u8bc1\u793a\u4f8b\u7684\u5b8c\u6574\u6027\uff0c\u5728\u6b64\u7686\u4fdd\u7559\uff0c\u4f9b\u7528\u6237\u53c2\u8003\u3002</p> <p>\u7c7b\u522b\u57df\u7684\u6587\u4ef6\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff0c\u7531\u4e8eTrackingNet\u6ca1\u6709\u7c7b\u522b\u6807\u6ce8\uff0c\u5728\u8fd9\u91cc\u7528\u9ed8\u8ba4\u7c7b\u522b\"object\"\u4f5c\u4e3a\u5355\u4e00\u7c7b\u522b\u4fe1\u606f\u3002</p> <p>class-dom.yaml</p> <pre><code>$dsdl-version: 0.5.3\nTrackingNetClassDom:\n$def: class_domain\nclasses:\n- object\n</code></pre> <p>\u5728\u5b9a\u4e49\u65b0\u7684DSDL\u6570\u636e\u96c6\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u4e86\u89e3\u4e86\u5982\u4f55\u4eceyaml\u6587\u4ef6\u8bfb\u53d6\u6837\u672c\u5177\u4f53\u6807\u6ce8\u4fe1\u606f\uff0c\u5728\u8be5\u793a\u4f8b\u4e2d\u5c06\u5c55\u793a\u5982\u4f55\u4ece\u5916\u90e8\u8bfb\u53d6\u6837\u672c\u5177\u4f53\u6807\u6ce8\u4fe1\u606f\u3002</p> <p>train.yaml</p> <pre><code>$dsdl-version: \"0.5.3\"\n$import:\n- ../defs/object-tracking\n- ../defs/class-dom\nmeta:\ndataset_name: \"TrackingNet\"\ncreator: \"King Abdullah University of Science and Technology\"\nhome-page: \"https://tracking-net.org/\"  opendatalab-page: \"https://opendatalab.com/TrackingNet\"\nsub_dataset_name: \"train\"\ntask_name: \"single-object tracking\" data:\nsample-type: VideoFrame[cdom=TrackingNetClassDom]\nsample-path: train_samples.json\n</code></pre> <p>\u4e0a\u9762\u7684\u63cf\u8ff0\u6587\u4ef6\u4e2d\uff0c\u9996\u5148\u5b9a\u4e49\u4e86dsdl\u7684\u7248\u672c\u4fe1\u606f\uff0c\u7136\u540eimport\u4e86\u4e4b\u524d\u5b9a\u4e49\u7684\u6570\u636e\u96c6\u6a21\u677f\u6587\u4ef6\uff0c\u5305\u62ec\u4efb\u52a1\u6a21\u677f\u548c\u7c7b\u522b\u57df\u6a21\u677f\u3002\u63a5\u7740\u7528meta\u548cdata\u5b57\u6bb5\u6765\u63cf\u8ff0\u81ea\u5df1\u7684\u6570\u636e\u96c6\uff0c\u5177\u4f53\u7684\u5b57\u6bb5\u8bf4\u660e\u5982\u4e0b\u6240\u793a\uff1a</p> <ul> <li>$dsdl-version: dsdl\u7248\u672c\u4fe1\u606f</li> <li>$import: \u6a21\u677f\u5bfc\u5165\u4fe1\u606f\uff0c\u8fd9\u91cc\u5bfc\u5165\u68c0\u6d4b\u4efb\u52a1\u6a21\u677f\u548cTrackingNet\u7684class domain</li> <li>meta: \u4e3b\u8981\u5c55\u793a\u6570\u636e\u96c6\u7684\u4e00\u4e9b\u5143\u4fe1\u606f\uff0c\u6bd4\u5982\u6570\u636e\u96c6\u540d\u79f0\uff0c\u521b\u5efa\u8005\u7b49\u7b49\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5df1\u6dfb\u52a0\u60f3\u8981\u5907\u6ce8\u7684\u5176\u5b83\u4fe1\u606f</li> <li>data: data\u7684\u5185\u5bb9\u5c31\u662f\u6309\u7167\u524d\u9762\u5b9a\u4e49\u597d\u7684\u7ed3\u6784\u6240\u4fdd\u5b58\u7684\u6837\u672c\u4fe1\u606f\uff0c\u5177\u4f53\u5982\u4e0b\uff1a</li> <li>sample-type: \u6570\u636e\u7684\u7c7b\u578b\u5b9a\u4e49\uff0c\u5728\u8fd9\u91cc\u7528\u7684\u662f\u4ece\u76ee\u6807\u8ddf\u8e2a\u4efb\u52a1\u6a21\u677f\u4e2d\u5bfc\u5165\u7684VideoFrame\u7c7b\uff0c\u540c\u65f6\u6307\u5b9a\u4e86\u91c7\u7528\u7684cdom\u4e3aTrackingNetClassDom</li> <li>sample-path: samples\u7684\u5b58\u653e\u8def\u5f84\uff0c\u8fd9\u91cc\u7ed9\u4e86\u5b9e\u9645\u7684json\u6587\u4ef6\u8def\u5f84\uff0c\u56e0\u6b64samples\u7684\u5185\u5bb9\u5c06\u4ece\u8be5\u6587\u4ef6\u8bfb\u53d6</li> </ul> <p>train_samples.json</p> <p>train_samples.json\u9700\u8981\u6211\u4eec\u5199\u811a\u672c\u4ece\u539f\u59cb\u6570\u636e\u96c6\u8f6c\u6362\u6765\uff0c\u6ce8\u610f\uff0c\u91cc\u9762\u7684\u5b57\u6bb5\u9700\u8981\u548c\u4e4b\u524d\u5b9a\u4e49\u7684struct\u5bf9\u5e94\uff0c\u6700\u7ec8\u6837\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>{\"samples\": [\n    {\n        \"video_name\": \"0-6LB4FqxoE_0\",\n        \"_folder\": \"TRAIN_0\",\n        \"videoframes\": [\n            {\n                \"frame_id\": \u201c0\u201d,\n                \"media_path\": \"TRAIN_0/frames/0-6LB4FqxoE_0/0.jpg\",\n                \"_image_shape\": [360, 480],\n                \"objects\": [\n                    {\n                        \"instance_id\": 000000000001,\n                        \"bbox\": [120.24, 0.32, 359.76, 596.04], \n                        \"category\": 1  \n                    }, \n                    ...\n                 ]\n            },\n            ...\n        ]\n     },\n     ...  \n]}\n</code></pre>"},{"location":"dsdl_template/cv/cv_ocr/","title":"\u5b57\u7b26\u8bc6\u522b\u4efb\u52a1","text":"<p>\u6211\u4eec\u901a\u8fc7\u5bf9\u5b57\u7b26\u8bc6\u522b\u4efb\u52a1\u8fdb\u884c\u8c03\u7814\uff0c\u5e76\u603b\u7ed3\u6570\u636e\u96c6\u63cf\u8ff0\u4e2d\u7684\u5b57\u6bb5\u4fe1\u606f\uff0c\u4ece\u800c\u5236\u5b9a\u51fa\u5b57\u7b26\u8bc6\u522b\u4efb\u52a1DSDL\u6a21\u677f\uff0c\u4f9b\u5927\u5bb6\u53c2\u8003\u4f7f\u7528\u3002</p>"},{"location":"dsdl_template/cv/cv_ocr/#1","title":"1. \u4efb\u52a1\u8c03\u7814","text":""},{"location":"dsdl_template/cv/cv_ocr/#11","title":"1.1 \u4efb\u52a1\u5b9a\u4e49","text":"<p>\u5b57\u7b26\u8bc6\u522bOCR \uff08Optical Character Recognition\uff0c\u5149\u5b66\u5b57\u7b26\u8bc6\u522b\uff09\u662f\u6307\u5bf9\u56fe\u7247\u4e2d\u7684\u6587\u5b57\u8fdb\u884c\u67e5\u627e\u3001\u63d0\u53d6\u3001\u8bc6\u522b\u7684\u4e00\u79cd\u6280\u672f\uff0c\u901a\u8fc7\u68c0\u6d4b\u6697\u3001\u4eae\u7684\u6a21\u5f0f\u786e\u5b9a\u5176\u5f62\u72b6\uff0c\u7136\u540e\u7528\u5b57\u7b26\u8bc6\u522b\u65b9\u6cd5\u5c06\u5f62\u72b6\u7ffb\u8bd1\u6210\u8ba1\u7b97\u673a\u6587\u5b57\u7684\u8fc7\u7a0b\u3002\u5176\u793a\u610f\u56fe\u5982\u4e0b\u6240\u793a\uff1a</p> <p> </p> <p>OCR\u4efb\u52a1\u6309\u7167\u7b97\u6cd5\u53ef\u5206\u4e3a\u51e0\u4e2a\u90e8\u5206\u3002</p> <ul> <li>\u6587\u5b57\u68c0\u6d4b/\u5206\u5272\uff0c\u6307\u4ece\u573a\u666f\u56fe\u7247\u4e2d\u51c6\u786e\u627e\u5230\u6587\u5b57\u6240\u5728\u4f4d\u7f6e\uff0c\u6807\u6ce8\u5f62\u5f0f\u4e3apolygon\u3001bbox\u6216\u56fe\u7247</li> <li>\u6587\u5b57\u8bc6\u522b\uff0c\u6307\u4ece\u7eaf\u6587\u5b57\u56fe\u7247\u6216\u4e0a\u8ff0\u7684\u68c0\u6d4b\u6846\u4e2d\u5f97\u5230\u6587\u5b57\u5185\u5bb9\uff0c\u6807\u6ce8\u5f62\u5f0f\u4e3atext</li> <li>\u5173\u952e\u4fe1\u606f\u63d0\u53d6\uff1a\u4ece\u5c0f\u7968\u3001\u8eab\u4efd\u8bc1\u7b49\u7279\u6b8a\u6587\u4ef6\u4e2d\u63d0\u53d6\u60f3\u8981\u7684\u7c7b\u522b</li> <li>\u5176\u4ed6\u5982\u8868\u683c\u8bc6\u522b\u3001\u5173\u7cfb\u63d0\u53d6\u3001\u7248\u9762\u5206\u6790\u7b49\u3002</li> </ul> <p>\u6839\u636e\u8f93\u5165\u56fe\u7247\u53ef\u5206\u4e3a\u8857\u666f\u56fe\u7247\u3001\u624b\u5199\u56fe\u7247\u3001\u6587\u6863\u3001\u7f51\u7edc\u56fe\u7247\u7b49\u3002</p>"},{"location":"dsdl_template/cv/cv_ocr/#12","title":"1.2 \u8bc4\u4ef7\u6307\u6807","text":""},{"location":"dsdl_template/cv/cv_ocr/#121","title":"1.2.1\u68c0\u6d4b\u9636\u6bb5","text":"<ul> <li>\u5148\u6309\u7167\u68c0\u6d4b\u6846\u548c\u6807\u6ce8\u6846\u7684IOU\u8bc4\u4f30\uff0cIOU\u5927\u4e8e\u67d0\u4e2a\u9608\u503c\u5224\u65ad\u4e3a\u68c0\u6d4b\u51c6\u786e\u3002\u8fd9\u91cc\u68c0\u6d4b\u6846\u548c\u6807\u6ce8\u6846\u4e0d\u540c\u4e8e\u4e00\u822c\u7684\u901a\u7528\u76ee\u6807\u68c0\u6d4b\u6846\uff0c\u90e8\u5206\u662f\u91c7\u7528\u591a\u8fb9\u5f62\u8fdb\u884c\u8868\u793a\u3002</li> </ul>  \u68c0\u6d4b\u7cbe\u786e\u7387= {\u6b63\u786e\u7684\u68c0\u6d4b\u6846\u4e2a\u6570\\over\u6a21\u578b\u68c0\u6d4b\u6846\u4e2a\u6570}   \u68c0\u6d4b\u53ec\u56de\u7387=\\frac {\u6b63\u786e\u7684\u68c0\u6d4b\u6846\u4e2a\u6570}{\u4eba\u5de5\u6807\u6ce8\u6846\u4e2a\u6570}   \u68c0\u6d4b\u53ec\u56de\u7387=\\frac {\u6b63\u786e\u7684\u68c0\u6d4b\u6846\u4e2a\u6570}{\u4eba\u5de5\u6807\u6ce8\u6846\u4e2a\u6570}   F1~score = \\frac {2*\u68c0\u6d4b\u7cbe\u786e\u7387*\u68c0\u6d4b\u53ec\u56de\u7387}{\u68c0\u6d4b\u7cbe\u786e\u7387+\u68c0\u6d4b\u53ec\u56de\u7387}   F1~score = \\frac {2*\u68c0\u6d4b\u7cbe\u786e\u7387*\u68c0\u6d4b\u53ec\u56de\u7387}{\u68c0\u6d4b\u7cbe\u786e\u7387+\u68c0\u6d4b\u53ec\u56de\u7387}"},{"location":"dsdl_template/cv/cv_ocr/#122","title":"1.2.2 \u8bc6\u522b\u9636\u6bb5","text":"<p>\u5355\u8bcd\u8bc6\u522b\u51c6\u786e\u7387\uff0c\u53ea\u6709\u6574\u884c\u6587\u672c\u8bc6\u522b\u5bf9\u624d\u7b97\u6b63\u786e\u8bc6\u522b\u3002</p>  \u5355\u8bcd\u8bc6\u522b\u51c6\u786e\u7387 = \\frac {\u6b63\u786e\u8bc6\u522b\u7684\u6587\u672c\u884c\u6570\u91cf}{\u4eba\u5de5\u6807\u6ce8\u7684\u6587\u672c\u884c\u6570\u91cf}   \u5355\u8bcd\u8bc6\u522b\u51c6\u786e\u7387 = \\frac {\u6b63\u786e\u8bc6\u522b\u7684\u6587\u672c\u884c\u6570\u91cf}{\u4eba\u5de5\u6807\u6ce8\u7684\u6587\u672c\u884c\u6570\u91cf}"},{"location":"dsdl_template/cv/cv_ocr/#123","title":"1.2.3 \u7aef\u5230\u7aef\u7edf\u8ba1","text":"\u7aef\u5230\u7aef\u7cbe\u786e\u7387=\\frac {\u51c6\u786e\u68c0\u6d4b\u5e76\u6b63\u786e\u8bc6\u522b\u6587\u672c\u884c\u6570\u91cf}{\u6a21\u578b\u68c0\u6d4b\u7684\u6587\u672c\u884c\u6570\u91cf}   \u7aef\u5230\u7aef\u7cbe\u786e\u7387=\\frac {\u51c6\u786e\u68c0\u6d4b\u5e76\u6b63\u786e\u8bc6\u522b\u6587\u672c\u884c\u6570\u91cf}{\u6a21\u578b\u68c0\u6d4b\u7684\u6587\u672c\u884c\u6570\u91cf}   \u7aef\u5230\u7aef\u53ec\u56de\u7387=\\frac{\u51c6\u786e\u68c0\u6d4b\u5e76\u6b63\u786e\u8bc6\u522b\u6587\u672c\u884c\u6570\u91cf}{\u4eba\u5de5\u6807\u6ce8\u7684\u6587\u672c\u884c\u6570\u91cf}   \u7aef\u5230\u7aef\u53ec\u56de\u7387=\\frac{\u51c6\u786e\u68c0\u6d4b\u5e76\u6b63\u786e\u8bc6\u522b\u6587\u672c\u884c\u6570\u91cf}{\u4eba\u5de5\u6807\u6ce8\u7684\u6587\u672c\u884c\u6570\u91cf}"},{"location":"dsdl_template/cv/cv_ocr/#13","title":"1.3 \u4e3b\u6d41\u6570\u636e\u96c6\u8c03\u7814","text":"<p>OCR\u6570\u636e\u96c6\uff0c\u5176\u4e2d\u5305\u542b\u4e86Total-Text\u3001ICDAR2015\u7b49\u5e38\u89c1\u6570\u636e\u96c6\u3002\u8003\u8651\u5230\u6709\u4e9b\u6570\u636e\u96c6\u540c\u65f6\u5305\u542b\u4e86\u4e0d\u540c\u7684OCR\u5b50\u4efb\u52a1\uff0c\u8fd9\u91cc\u5bf9\u5e38\u7528\u7684\u5b50\u4efb\u52a1\u8fdb\u884c\u4e86\u62c6\u5206\uff0c\u5e76\u4e14\u6bcf\u4e2a\u5b50\u4efb\u52a1\u53ea\u8003\u8651\u548c\u4ed6\u76f8\u5173\u7684\u6807\u6ce8\u5185\u5bb9\u3002\u4e3a\u4e86\u4f7f\u5f97\u6a21\u677f\u66f4\u52a0\u901a\u7528\uff0c\u540c\u65f6\u4e5f\u5177\u5907\u62d3\u5c55\u80fd\u529b\uff0c\u6211\u4eec\u7740\u91cd\u5173\u6ce8\u5404\u4e2a\u6570\u636e\u96c6\u4e4b\u95f4\u7684\u5171\u6027\u548c\u7279\u6027\uff0c\u6b64\u5916\uff0c\u8c03\u7814\u8fc7\u7a0b\u4f1a\u9047\u5230\u4e00\u4e9b\u540d\u79f0\u4e0d\u540c\uff0c\u4f46\u662f\u5b9e\u9645\u542b\u4e49\u76f8\u540c\u6216\u7c7b\u4f3c\u7684\u5b57\u6bb5\uff0c\u8fd9\u4e9b\u5b57\u6bb5\u6211\u4eec\u4e5f\u89c6\u4e3a\u540c\u4e00\u5b57\u6bb5\uff0c\u5e76\u7edf\u4e00\u53bb\u547d\u540d\uff0c\u6bd4\u5982image_id\u5b57\u6bb5\u4e00\u822c\u8868\u793a\u56fe\u7247\u7684\u8def\u5f84\u6216\u8005id\uff0c\u4ed6\u662f\u56fe\u7247\u7684\u552f\u4e00\u6807\u8bc6\uff1b</p>"},{"location":"dsdl_template/cv/cv_ocr/#131","title":"1.3.1 \u6587\u5b57\u68c0\u6d4b\u6570\u636e\u96c6\u8c03\u7814","text":"<p>\u6211\u4eec\u8c03\u7814\u4e86ICDAR2013\u3001ICDAR2015\u3001SVT\u3001Total-Text\u3001MSRA-TD50\u3001CUTE80\uff0c\u6570\u636e\u96c6\u7684\u6807\u6ce8\u6846\u4fe1\u606f\u662f\u5fc5\u8981\u7684\uff0c\u4f46\u683c\u5f0f\u53ef\u4ee5\u4e3abbox\u6216polygon\u5f62\u5f0f\u3002</p> OCR\u6570\u636e\u96c6 \u5171\u4eab\u5b57\u6bb5 \u72ec\u7acb\u5b57\u6bb5 image_id bbox polygon orientation isdifficult ICDAR2013 Y Y Y ICDAR2015 Y Y SVT Y Y Total-Text Y Y Y MSRA-TD50 Y Y Y Y CUTE80 Y Y <p>\u5907\u6ce8\uff1a\u5176\u4e2dTotal-Text\u6570\u636e\u96c6\u65e7\u7248\u63d0\u4f9b\u4e86bbox\u548cpolygon\u4e24\u4e2a\u5b57\u6bb5\uff0c\u4f46\u662f\u65b0\u7248\u4ec5\u63d0\u4f9bpolygon\uff0c\u8fd9\u91cc\u4ee5\u65b0\u7248\u4e3a\u4e3b\u3002</p> <p>\u5404\u4e2a\u5b57\u6bb5\u7684\u542b\u4e49\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> \u5b57\u6bb5\u7c7b\u578b \u5b57\u6bb5\u540d\u79f0 \u542b\u4e49 \u5171\u4eab\u5b57\u6bb5 image_id \u5b9a\u4f4d\u5230\u552f\u4e00\u56fe\u7247\uff0c\u6bd4\u5982\u7528\u56fe\u7247\u540d\u6216\u8005\u56fe\u7247\u8def\u5f84\u8868\u793a bbox \u5b9a\u4f4d\u5355\u4e2a\u76ee\u6807\u7684\u77e9\u5f62\u6846\uff0c\u6bd4\u5982\u7528[xmin, ymin, xmax, ymax]\u8868\u793a polygon \u5b9a\u4f4d\u5355\u4e2a\u76ee\u6807\u7684\u591a\u8fb9\u5f62\u6846\uff0c\u9876\u70b9\u4e2a\u6570\u4e0d\u56fa\u5b9a \u72ec\u7acb\u5b57\u6bb5 orientation \u76ee\u6807\u6846\u65cb\u8f6c\u7684\u89d2\u5ea6\uff0c\u6216\u76ee\u6807\u6846\u65cb\u8f6c\u7c7b\u522b\uff1a\u5f2f\u66f2\u3001\u6c34\u5e73\u7b49 isdifficult \u662f\u5426\u4e3a\u68c0\u6d4b\u56f0\u96be\u7684\u76ee\u6807 <p>\u53ef\u4ee5\u770b\u5230\uff0c\u5728\u6587\u5b57\u68c0\u6d4b\u4efb\u52a1\u4e2d\uff0cimage_id\u548cbbox/polygon\u4e3a\u6700\u57fa\u7840\u7684\u5b57\u6bb5\uff0c\u5176\u4e2dbbox\u548cpolygon\u5b57\u6bb5\u9700\u81f3\u5c11\u9009\u62e9\u4e00\u79cd\u683c\u5f0f\u3002</p>"},{"location":"dsdl_template/cv/cv_ocr/#132","title":"1.3.2 \u6587\u5b57\u5206\u5272\u6570\u636e\u96c6\u8c03\u7814","text":"<p>\u652f\u6301\u6587\u5b57\u5206\u5272\u7684\u6570\u636e\u96c6\u8f83\u5c11\uff0c\u8fd9\u91cc\u6211\u4eec\u4ec5\u8c03\u7814\u4e86Total-Text\uff0c\u7ed3\u679c\u5982\u4e0b\uff1a</p> OCR\u6570\u636e\u96c6 \u5171\u4eab\u5b57\u6bb5 image_id segmentation_map Total-Text Y Y <p>\u5404\u4e2a\u5b57\u6bb5\u7684\u542b\u4e49\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> \u5b57\u6bb5\u7c7b\u578b \u5b57\u6bb5\u540d\u79f0 \u542b\u4e49 \u5171\u4eab\u5b57\u6bb5 image_id \u5b9a\u4f4d\u5230\u552f\u4e00\u56fe\u7247\uff0c\u6bd4\u5982\u7528\u56fe\u7247\u540d\u6216\u8005\u56fe\u7247\u8def\u5f84\u8868\u793a segmentation_map \u5206\u5272\u56fe\uff0c\u53ef\u4ee5\u662f\u5355\u8bcd\u5206\u5272\u4e5f\u53ef\u4ee5\u662f\u5b57\u7b26\u5206\u5272\uff0c\u4e00\u822c\u4e3a\u4e8c\u503c\u5316\u56fe"},{"location":"dsdl_template/cv/cv_ocr/#133","title":"1.3.3 \u6587\u5b57\u8bc6\u522b\u6570\u636e\u96c6\u8c03\u7814","text":"<p>\u6211\u4eec\u8c03\u7814\u4e86ICDAR2013\u3001ICDAR2015\u3001SVT\u3001Total-Text\u3001IIIT-5K\uff0c\u7ed3\u679c\u5982\u4e0b\uff1a</p> OCR\u6570\u636e\u96c6 \u5171\u4eab\u5b57\u6bb5 \u72ec\u7acb\u5b57\u6bb5 image_id text lexicon ICDAR2013 Y Y Y ICDAR2015 Y Y Y SVT Y Y Y Total-Text Y Y IIIT-5K Y Y Y <p>\u5404\u4e2a\u5b57\u6bb5\u7684\u542b\u4e49\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> \u5b57\u6bb5\u7c7b\u578b \u5b57\u6bb5\u540d\u79f0 \u542b\u4e49 \u5171\u4eab\u5b57\u6bb5 image_id \u5b9a\u4f4d\u5230\u552f\u4e00\u56fe\u7247\uff0c\u6bd4\u5982\u7528\u56fe\u7247\u540d\u6216\u8005\u56fe\u7247\u8def\u5f84\u8868\u793a text \u76ee\u6807\u6846\u4e2d\u6587\u672c\u5185\u5bb9 \u72ec\u7acb\u5b57\u6bb5 lexicon \u8bcd\u6c47\u8868\uff0c\u53ef\u4ee5\u662f\u5355\u5f20\u56fe\u7247\u8bcd\u6c47\u8868\uff0c\u4e5f\u53ef\u4ee5\u662f\u6570\u636e\u96c6\u8bcd\u6c47\u8868"},{"location":"dsdl_template/cv/cv_ocr/#2","title":"2. \u6a21\u677f\u5c55\u793a","text":"<p>\u6839\u636e\u4e0a\u8ff0\u7684\u8c03\u7814\u7ed3\u679c\uff0c\u6211\u4eec\u77e5\u9053\u5bf9\u4e8eOCR\u4efb\u52a1\uff0c\u4e00\u4e2a\u6837\u672c\u6700\u91cd\u8981\u7684\u5c5e\u6027\u662f\u56fe\u7247\u7684id(\u6216\u8def\u5f84)\u3001\u6bcf\u4e2a\u6807\u6ce8\u6846\u7684\u4f4d\u7f6e\u4ee5\u53ca\u6587\u672c\uff0c\u8003\u8651\u5230\u6bcf\u5f20\u56fe\u7247\u53ef\u80fd\u5305\u542b\u591a\u4e2a\u6807\u6ce8\u6846\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5d4c\u5957\u7ed3\u6784\u4f53LocalInstanceEntry\uff08\u5176\u8be6\u7ec6\u5b9a\u4e49\u53ef\u4ee5\u53c2\u8003DSDL\u5165\u95e8\u6587\u6863-\u8bed\u8a00\u5b9a\u4e49-\u5d4c\u5957\u7ed3\u6784\u4f53\uff09\uff0c\u7528\u6765\u8868\u8ff0\u5355\u4e2a\u6807\u6ce8\u6846\u7684\u4fe1\u606f\uff08\u5373\u7c7b\u522b\u548c\u4f4d\u7f6e\uff09\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u53ef\u4ee5\u5728OCR\u4efb\u52a1\u7ed3\u6784\u4f53\u7684$fields\u5c5e\u6027\u4e2d\u5b9a\u4e49image\u548cinstances\u4e24\u4e2a\u5b57\u6bb5\uff0c\u5176\u4e2dinstances\u5b57\u6bb5\u5219\u4e3a\u591a\u4e2aLocalObjectEntry\u7ed3\u6784\u4f53\u6784\u6210\u7684\u5217\u8868\uff08\u5217\u8868\u4e3a\u7a7a\u8868\u793a\u56fe\u7247\u6ca1\u6709\u6807\u6ce8\u6846\uff09\u3002\u57fa\u4e8e\u4e0a\u8ff0\u8003\u8651\uff0c\u6211\u4eec\u5236\u5b9a\u4e86\u4e0d\u540cOCR\u4efb\u52a1\u7684\u6a21\u677f\uff0c\u8fd9\u91cc\u6a21\u677f\u4e3a\u65b9\u4fbf\u7406\u89e3\uff0c\u5c06\u4efb\u52a1\u8fdb\u884c\u8be6\u7ec6\u62c6\u5206\u3002</p>"},{"location":"dsdl_template/cv/cv_ocr/#21","title":"2.1 \u6587\u5b57\u68c0\u6d4b\u6a21\u677f","text":"<p>\u6587\u5b57\u68c0\u6d4b\u6a21\u677f\u5177\u4f53\u53ef\u4ee5\u53c2\u8003\u5355\u72ec\u7684\u76ee\u6807\u68c0\u6d4b\u6587\u6863\uff0c\u8fd9\u91cc\u6211\u4eec\u5236\u5b9a\u4e86OCR\u68c0\u6d4b\u4efb\u52a1\u7684\u8303\u4f8b\u6a21\u677f\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>$dsdl-version: \"0.5.0\"\nOCRSample:\n$def: struct\n$fields:\nimage: Image\ninstances: List[Bbox] </code></pre> <p>\u5728\u6a21\u677f\u4e2d\u7684\u4e00\u4e9b\u5b57\u6bb5\u542b\u4e49\u5982\u4e0b\uff1a</p> <ul> <li>$dsdl-version: \u63cf\u8ff0\u4e86\u8be5\u6587\u4ef6\u5bf9\u5e94\u7684dsdl\u7248\u672c</li> <li>OCRSample: \u5b9a\u4e49\u4e86OCR\u4efb\u52a1sample\u7684\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5:</li> <li>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:<ul> <li>image \u56fe\u7247\u7684\u8def\u5f84</li> <li>instances \u6807\u6ce8\u4fe1\u606f\uff0cOCR\u4efb\u52a1\u4e2d\uff0c\u4e3a\u591a\u4e2a\u6807\u6ce8\u6846\u6784\u6210\u7684\u4e00\u4e2a\u5217\u8868\uff0c\u6807\u6ce8\u6846\u5f62\u5f0f\u53d6\u51b3\u4e8e\u6570\u636e\u96c6\uff0c\u53ef\u4ee5\u662fBbox\uff0c\u4e5f\u53ef\u4ee5\u662fPolygon</li> </ul> </li> </ul>"},{"location":"dsdl_template/cv/cv_ocr/#22","title":"2.2 \u6587\u5b57\u5206\u5272\u6a21\u677f","text":"<p>\u6587\u5b57\u5206\u5272\u6a21\u677f\u5177\u4f53\u53ef\u4ee5\u53c2\u8003\u5355\u72ec\u7684\u56fe\u50cf\u5206\u5272\u6587\u6863\uff0c\u8fd9\u91cc\u6211\u4eec\u5236\u5b9a\u4e86OCR\u5206\u5272\u4efb\u52a1\u7684\u8303\u4f8b\u6a21\u677f\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>$dsdl-version: \"0.5.0\"\nSegClassDom:\n$def: class_domain\nclasses:\n- text\nOCRSample:\n$def: struct\n$params: [\"cdom\"]\n$fields:\nimage: Image\nword_segmap: LabelMap[dom=$cdom]\nchr_segmap: LabelMap[dom=$cdom]\n</code></pre> <p>\u5728\u6a21\u677f\u4e2d\u7684\u4e00\u4e9b\u5b57\u6bb5\u542b\u4e49\u5982\u4e0b\uff1a</p> <ul> <li>$dsdl-version: \u63cf\u8ff0\u4e86\u8be5\u6587\u4ef6\u5bf9\u5e94\u7684dsdl\u7248\u672c</li> <li>SegClassDom: \u5b9a\u4e49\u4e86\u5206\u5272\u4efb\u52a1\u7684classdom\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5\uff1a</li> <li>$def class_domain\uff0c\u8868\u793a\u8fd9\u662f\u4e00\u4e2aclass_domain\u7c7b\u578b</li> <li>classes \u5305\u542b\u5177\u4f53\u7c7b\u522b\uff0c\u8fd9\u91cc\u53ea\u6709\u4e00\u4e2atext\u7c7b\u522b</li> <li>OCRSample: \u5b9a\u4e49\u4e86OCR\u4efb\u52a1sample\u7684\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5:</li> <li>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li>$params: \u5b9a\u4e49\u4e86\u5f62\u53c2\uff0c\u5728\u8fd9\u91cc\u5373class domain</li> <li>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:<ul> <li>image \u56fe\u7247\u7684\u8def\u5f84</li> <li>word_segmap \u5355\u8bcd\u7c92\u5ea6\u7684\u5206\u5272\u56fe</li> <li>chr_segmap \u5b57\u7b26\u7c92\u5ea6\u7684\u5206\u5272\u56fe</li> </ul> </li> </ul>"},{"location":"dsdl_template/cv/cv_ocr/#23","title":"2.3 \u6587\u5b57\u8bc6\u522b\u6a21\u677f","text":"<p>\u6587\u5b57\u8bc6\u522b\u6a21\u677f\u4e3aOCR\u4efb\u52a1\u5355\u72ec\u4f7f\u7528\uff0c\u5b9a\u4e49\u4e86\u65b0\u7684\u5b57\u6bb5Text\u3002</p> <pre><code>$dsdl-version: \"0.5.0\"\nOCRSample:\n$def: struct\n$fields:\nword_image: Image\ntext: Text\n</code></pre> <p>\u5728\u6a21\u677f\u4e2d\u7684\u4e00\u4e9b\u5b57\u6bb5\u542b\u4e49\u5982\u4e0b\uff1a</p> <ul> <li>$dsdl-version: \u63cf\u8ff0\u4e86\u8be5\u6587\u4ef6\u5bf9\u5e94\u7684dsdl\u7248\u672c</li> <li>OCRSample: \u5b9a\u4e49\u4e86OCR\u4efb\u52a1sample\u7684\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5:</li> <li>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:<ul> <li>word_image \u56fe\u7247\u7684\u8def\u5f84\uff0c\u6ce8\u610f\u6587\u5b57\u8bc6\u522b\u4efb\u52a1\u4e2d\u56fe\u7247\u4e3a\u88c1\u5207\u56fe\u7247\uff0c\u5373\u6587\u5b57\u68c0\u6d4b\u540e\u7684\u56fe\u7247</li> <li>annotations \u6807\u6ce8\u4fe1\u606f\uff0cOCR\u4efb\u52a1\u4e2d\uff0c\u4e3a\u524d\u9762\u7684LocalInstanceEntry\u6784\u6210\u7684\u4e00\u4e2a\u5217\u8868</li> </ul> </li> </ul>"},{"location":"dsdl_template/cv/cv_ocr/#24","title":"2.4 \u7aef\u5230\u7aef\u6a21\u677f","text":"<p>\u8fd9\u91cc\u7aef\u5230\u7aef\u4efb\u52a1\u4ee5\u6587\u5b57\u68c0\u6d4b+\u6587\u5b57\u8bc6\u522b\u4e3a\u4f8b\uff1a</p> <pre><code>$dsdl-version: \"0.5.0\"\nLocalInstanceEntry:\n$def: struct\n$fields:\nlocation: Polygon/Bbox text: Text\nOCRSample:\n$def: struct\n$fields:\nimage: Image\ninstances: List[LocalInstanceEntry]\n</code></pre> <p>\u5728\u6a21\u677f\u4e2d\u7684\u4e00\u4e9b\u5b57\u6bb5\u542b\u4e49\u5982\u4e0b\uff1a</p> <ul> <li>$dsdl-version: \u63cf\u8ff0\u4e86\u8be5\u6587\u4ef6\u5bf9\u5e94\u7684dsdl\u7248\u672c</li> <li>LocalInstanceEntry: \u5b9a\u4e49\u4e86\u6807\u6ce8\u6846\u7684\u63cf\u8ff0\u65b9\u5f0f\u7684\u5d4c\u5957\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5:</li> <li>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:<ul> <li>polygon \u6807\u6ce8\u6846\u7684\u4f4d\u7f6e</li> <li>text \u6807\u6ce8\u6846\u7684\u5185\u5bb9</li> </ul> </li> <li>OCRSample: \u5b9a\u4e49\u4e86\u68c0\u6d4b\u4efb\u52a1sample\u7684\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5:</li> <li>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:<ul> <li>image \u56fe\u7247\u7684\u8def\u5f84</li> <li>instances \u6807\u6ce8\u4fe1\u606f\uff0c\u4e3a\u524d\u9762\u7684LocalInstanceEntry\u6784\u6210\u7684\u4e00\u4e2a\u5217\u8868</li> </ul> </li> </ul>"},{"location":"dsdl_template/cv/cv_ocr/#3","title":"3. \u4f7f\u7528\u8bf4\u660e","text":"<p>\u5728\u8fd9\u4e2a\u7ae0\u8282\u4ecb\u7ecd\u4e00\u4e0b\u5982\u4f55\u901a\u8fc7import\u7684\u65b9\u5f0f\u6765\u5f15\u7528\u6211\u4eec\u7684\u6a21\u677f\u3002\u4ee5SynthText\u7aef\u5230\u7aef\u6a21\u677f\u4e3a\u4f8b</p> <p>\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>SynthText-dsdl/\n\u251c\u2500\u2500 defs/                        \n\u2502  \u251c\u2500\u2500 OCR-SynthText.yaml           # struct\u5b9a\u4e49\u6587\u4ef6\n\u251c\u2500\u2500 train/                          # \u8be5\u6570\u636e\u96c6\u4ec5\u6709\u8bad\u7ec3\u96c6\uff0cmmocr\u4e2d\u4f7f\u7528\u5176\u4ed6\u6570\u636e\u96c6\u4f5c\u4e3a\u4e0b\u6e38\u6d4b\u8bd5\n\u2502  \u251c\u2500\u2500 train.yaml                   # \u8bad\u7ec3\u7684yaml\u6587\u4ef6\n\u2502  \u251c\u2500\u2500 train_samples.json           # \u8bad\u7ec3\u96c6sample\u7684json\u6587\u4ef6\n\u251c\u2500\u2500 config.py                       # \u6570\u636e\u96c6\u8bfb\u53d6\u8def\u5f84\u7b49config\u6587\u4ef6\n\u2514\u2500\u2500 README.md                       # \u6570\u636e\u96c6\u6559\u7a0b\uff1a\u4e0b\u8f7d\u3001\u600e\u4e48\u4f7f\u7528\u3001\u914d\u7f6e\u6587\u4ef6\u7684\u6559\u7a0b\u3002\n</code></pre>"},{"location":"dsdl_template/cv/cv_ocr/#31","title":"3.1 \u6570\u636e\u96c6\u5b9a\u4e49\u6587\u4ef6","text":"<p>OCR-SynthText.yaml\u5982\u4e0b\uff1a</p> <pre><code>$dsdl-version: \"0.5.0\"\n\nLocalCharEntry:                        # instance\u5185\u5b57\u7b26\u6807\u6ce8\u5185\u5bb9\n    $def: struct \n    $fields:\n        char_polygon: Polygon\n        char_text: Text                 # \u6807\u6ce8\u7684\u5b57\u7b26\u5185\u5bb9\n\nLocalInstanceEntry:                     # instance\u6807\u6ce8\u5185\u5bb9\uff0c\u5305\u62ec\u5355\u8bcd\u548c\u5b57\u7b26          \n    $def: struct \n    $fields:        \n        polygon: Polygon\n        text: Text                      # \u6807\u6ce8\u7684\u5355\u8bcd\u5185\u5bb9\n        charlist: List[LocalCharEntry]\n\nOCRSample:\n    $def: struct\n    $fields:\n        image: Image\n        instances: List[LocalInstanceEntry]\n</code></pre> <p>\u5177\u4f53\u7684\u5b57\u6bb5\u8bf4\u660e\u5982\u4e0b\u6240\u793a\uff1a</p> <ul> <li>$dsdl-version: \u63cf\u8ff0\u4e86\u8be5\u6587\u4ef6\u5bf9\u5e94\u7684dsdl\u7248\u672c</li> <li>LocalCharEntry: \u5b9a\u4e49\u4e86\u5b57\u7b26\u7c92\u5ea6\u7684\u6807\u6ce8\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5\uff1a</li> <li>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:<ul> <li>char_polygon \u5355\u4e2a\u5b57\u7b26\u7684polygon</li> <li>char_text \u5355\u4e2a\u5b57\u7b26\u7684\u6587\u672c\u6807\u6ce8</li> </ul> </li> <li>LocalInstanceEntry: \u5b9a\u4e49\u4e86\u5355\u8bcd\u7c92\u5ea6\u7684\u6807\u6ce8\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5\uff1a</li> <li>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:<ul> <li>polygon \u5355\u8bcd\u7684polygon</li> <li>text \u5355\u8bcd\u7684\u6587\u672c\u6807\u6ce8</li> <li>charlist \u8be5\u5355\u8bcd\u5185\u5b57\u7b26\u7684\u6587\u672c\u6807\u6ce8,\u4e3a\u4e0a\u9762LocalCharEntry\u6784\u6210\u7684\u4e00\u4e2a\u5217\u8868</li> </ul> </li> <li>OCRSample: \u5b9a\u4e49\u4e86\u68c0\u6d4b\u4efb\u52a1sample\u7684\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5:</li> <li>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:<ul> <li>image \u56fe\u7247\u7684\u8def\u5f84</li> <li>instances \u6807\u6ce8\u4fe1\u606f\uff0c\u4e3a\u524d\u9762\u7684LocalInstanceEntry\u6784\u6210\u7684\u4e00\u4e2a\u5217\u8868</li> </ul> </li> </ul>"},{"location":"dsdl_template/cv/cv_ocr/#32-samples","title":"3.2 samples\u76f8\u5173\u6587\u4ef6","text":"<p>train.yaml\u5982\u4e0b\uff1a</p> <pre><code>$dsdl-version: \"0.5.2\"\n$import:\n- ../defs/OCR-SynthText\nmeta:\ndataset_name: \"SynthText\"\ncreator: \"University of Oxford\"\nhome-page: \"https://www.robots.ox.ac.uk/~vgg/data/scenetext/\"\nopendatalab-page: \"https://opendatalab.com/SynthText\"\nsub-name: \"train\"\ntask-type: \"Optical Character Recognition\"\ndata:\nsample-type: OCRSample\nsample-path: train_samples.json\n</code></pre> <p>train_sample.json\u7684\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>{\"samples\": [\n{\n\"image\": \"image\":\"8/ballet_106_0.jpg\",\n\"instances\": [\n{\n\"polygon\": [[[420,21],[512,23],[512,42],[420,40]]],\n\"text\": \"Lines\",\n\"charlist\":[\n{\"char_polygon\":[[[423,22],[438,22],[436,40],[420,40]]],\n\"char_text\": \"L\"}\n{\"char_polygon\":[[[440,22],[453,22],[450,40],[437,40]]],\n\"char_text\": \"i\"}\n...\n]\n},\n...\n]\n},\n...\n]}\n</code></pre>"},{"location":"dsdl_template/cv/cv_rotated_detection/","title":"\u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1","text":"<p>\u6211\u4eec\u901a\u8fc7\u5bf9\u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\u8fdb\u884c\u8c03\u7814\uff0c\u5e76\u603b\u7ed3\u6570\u636e\u96c6\u63cf\u8ff0\u4e2d\u7684\u5b57\u6bb5\u4fe1\u606f\uff0c\u4ece\u800c\u5236\u5b9a\u51fa\u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1DSDL\u6a21\u677f\uff0c\u4f9b\u5927\u5bb6\u53c2\u8003\u4f7f\u7528\u3002</p>"},{"location":"dsdl_template/cv/cv_rotated_detection/#1","title":"1. \u4efb\u52a1\u8c03\u7814","text":""},{"location":"dsdl_template/cv/cv_rotated_detection/#11","title":"1.1 \u4efb\u52a1\u5b9a\u4e49","text":"<p>\u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\u662f\u6307\u5728\u56fe\u50cf\u4e2d\u7528\u65cb\u8f6c\u77e9\u5f62\u6846\u3001\u56db\u8fb9\u5f62\u751a\u81f3\u4efb\u610f\u5f62\u72b6\u7684\u5f62\u5f0f\u68c0\u6d4b\u51fa\u7269\u4f53\u7684\u4f4d\u7f6e\uff0c\u5e76\u8bc6\u522b\u5176\u6240\u5c5e\u7c7b\u522b\uff0c\u793a\u610f\u56fe\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"dsdl_template/cv/cv_rotated_detection/#12","title":"1.2 \u8bc4\u4ef7\u6307\u6807\uff1a","text":"<p>\u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b\u7684\u8bc4\u4ef7\u6307\u6807\u4e0e\u76ee\u6807\u68c0\u6d4b\u76f8\u540c\uff0c\u6700\u5e38\u7528\u7684\u8bc4\u4ef7\u6307\u6807\u5c31\u662fmAP\uff08mean Average Precision\uff09\u548cAP\uff08Average Precision\uff09\uff0c\uff08\u8be6\u7ec6\u5b66\u4e60\u8bf7\u53c2\u8003 \u76ee\u6807\u68c0\u6d4b\u8bc4\u4ef7\u6307\u6807\uff09\u3002</p> <p><code>&lt;a id=\"table-1\"&gt;&lt;/a&gt;</code></p>"},{"location":"dsdl_template/cv/cv_rotated_detection/#13","title":"1.3 \u4e3b\u6d41\u6570\u636e\u96c6\u8c03\u7814\uff1a","text":"<p>\u6211\u4eec\u5bf95\u4e2a\u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b\u6570\u636e\u96c6\u8fdb\u884c\u8c03\u7814\uff0c\u5bf9\u76f8\u5173\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\uff08\u4e3b\u8981\u662f\u6807\u6ce8\u5b57\u6bb5\uff09\u8fdb\u884c\u5206\u6790\u6c47\u603b\uff0c\u76f8\u540c\u542b\u4e49\u7684\u6807\u6ce8\u5b57\u6bb5\u4f1a\u4ee5\u7edf\u4e00\u547d\u540d\u8fdb\u884c\u5c55\u793a\uff0c\u6c47\u603b\u4fe1\u606f\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> \u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b\u6570\u636e\u96c6 \u5171\u4eab\u5b57\u6bb5 \u72ec\u7acb\u5b57\u6bb5 image_id label_id rbbox bbox istruncated isdifficult pose theta head DOTAv2.0 Y Y Y Y Y HRSC2016 Y Y Y Y Y Y Y UCAS_AOD Y Y Y Y Y SZTAKI-INRIA Y Y Y SSDD+ Y Y Y Y Y Y <p>\u5bf9\u5171\u4eab\u5b57\u6bb5\u548c\u72ec\u7acb\u5b57\u6bb5\u8fdb\u884c\u6c47\u603b\uff0c\u5f97\u5230\u4e0b\u8868\uff1a</p> \u5b57\u6bb5\u7c7b\u578b \u5b57\u6bb5\u540d\u79f0 \u542b\u4e49 \u5171\u4eab\u5b57\u6bb5 image_id \u5b9a\u4f4d\u5230\u552f\u4e00\u56fe\u7247\uff0c\u6bd4\u5982\u7528\u56fe\u7247\u540d\u6216\u8005\u56fe\u7247\u8def\u5f84\u8868\u793a label_id \u5355\u4e2a\u76ee\u6807\u6240\u5c5e\u7684\u7c7b\u522b rbbox \u5b9a\u4f4d\u5355\u4e2a\u65cb\u8f6c\u76ee\u6807\u6846\uff0c\u6bd4\u5982\u7528[x1, y1, x2, y2, x3, y3, x4, y4]\u8868\u793a \u72ec\u7acb\u5b57\u6bb5 bbox \u5b9a\u4f4d\u5355\u4e2a\u76ee\u6807\u7684\u666e\u901a\u77e9\u5f62\u6846\uff0c\u6bd4\u5982\u7528[xmin, ymin, xmax, ymax]\u8868\u793a\uff0c\u4e00\u822c\u7528\u4e8e\u666e\u901a\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\uff0c\u505a\u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\u65f6\uff0c\u5e76\u4e0d\u4f7f\u7528\u8be5\u5b57\u6bb5 istruncated \u76ee\u6807\u662f\u5426\u88ab\u622a\u65ad\uff0c\u5373\u76ee\u6807\u90e8\u5206\u5904\u4e8e\u56fe\u7247\u4e4b\u5916 isdifficult \u662f\u5426\u4e3a\u68c0\u6d4b\u56f0\u96be\u7684\u76ee\u6807 theta \u7269\u4f53\u5c3e\u90e8\u5230\u5934\u90e8\u7684\u5411\u91cf\u4e0ex\u8f74\u6b63\u65b9\u5411\u7684\u5939\u89d2 head \u7269\u4f53\u5934\u90e8\u5750\u6807 pose \u62cd\u6444\u89d2\u5ea6\uff0c\u53d6\u503c\u4e3a Unspecified\uff0cFrontal\uff0cRear\uff0cLeft\uff0cRight <p>\u53ef\u4ee5\u770b\u5230\uff0c\u5982\u679c\u8981\u63cf\u8ff0\u4e00\u4e2a\u65cb\u8f6c\u68c0\u6d4b\u6570\u636e\u96c6\u7684\u6837\u672c\uff0cimage_id\u3001label_id\u548crbbox\u662f\u6700\u57fa\u7840\u7684\u5b57\u6bb5\uff0c\u6b64\u5916\u8fd8\u5305\u542b\u4e86\u5404\u79cd\u63cf\u8ff0\u8fb9\u754c\u6846\u4fe1\u606f\u7684\u7279\u6b8a\u5b57\u6bb5\u3002</p> <p><code>&lt;a id=\"table-2\"&gt;&lt;/a&gt;</code></p>"},{"location":"dsdl_template/cv/cv_rotated_detection/#2","title":"2. \u6a21\u677f\u5c55\u793a","text":"<p>\u6839\u636e\u4e0a\u8ff0\u8c03\u7814\uff0c\u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\u4e2d\u4e00\u5f20\u56fe\u50cf\u5bf9\u5e94\u4e0d\u5b9a\u6570\u91cf\u7684\u76ee\u6807\uff0c\u6bcf\u4e2a\u76ee\u6807\u7528\u8fb9\u754c\u6846RotatedBBox\u6765\u5b9a\u4f4d\u76ee\u6807\u4f4d\u7f6e\uff0c\u6bcf\u4e2aRotatedBBox\u540c\u65f6\u63d0\u4f9b\u8bed\u4e49\u6807\u7b7e\uff0c\u7531\u6b64\u6211\u4eec\u5b9a\u4e49\u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b\u6a21\u677f\u5982\u4e0b\uff1a</p> <pre><code>$dsdl-version: \"0.5.0\"\nLocalObjectEntry:\n$def: struct\n$params: ['cdom']\n$fields:\nrbbox: RotatedBBox[mode=\"xyxy\"]\nlabel: Label[dom=$cdom]\nOrientedObjectDetectionSample:\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\nobjects: List[LocalObjectEntry[cdom=$cdom]]\n</code></pre> <p>\u5728\u68c0\u6d4b\u6a21\u677f\u4e2d\u7684\u4e00\u4e9b\u5b57\u6bb5\u542b\u4e49\u5982\u4e0b\uff08\u8be6\u7ec6\u5b66\u4e60\u8bf7\u53c2\u8003 DSDL\u8bed\u8a00\u6559\u7a0b\uff09</p> <ul> <li>$dsdl-version: \u63cf\u8ff0\u4e86\u8be5\u6587\u4ef6\u5bf9\u5e94\u7684dsdl\u7248\u672c</li> <li> <p>LocalObjectEntry: \u5b9a\u4e49\u4e86\u8fb9\u754c\u6846\u7684\u63cf\u8ff0\u65b9\u5f0f\u7684\u5d4c\u5957\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5:</p> </li> <li> <p>$def: struct\uff0c\u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</p> </li> <li>$params: \u5b9a\u4e49\u4e86\u5f62\u53c2\uff0c\u5728\u8fd9\u91cc\u5373class domain</li> <li> <p>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:</p> <ul> <li>rbbox \u8fb9\u754c\u6846\u7684\u4f4d\u7f6e\uff0c\u76ee\u524d\u6709\u4e24\u79cd\u6a21\u5f0f</li> <li>RotatedBBox[mode=\"xyxy\"]\uff1a\u4ee3\u8868\u4ee5\u56db\u8fb9\u5f62\u8868\u793a\u6807\u6ce8\u6846<ul> <li>\u5177\u4f53\u6807\u6ce8\u503c\u793a\u4f8b\uff1a[x1,y1,x2,y2,x3,y3,x4,y4]\uff0cxi,yi\u4ee3\u8868\u56db\u8fb9\u5f62\u7684\u56db\u4e2a\u9876\u70b9\u5750\u6807\u3002</li> </ul> </li> <li>RotatedBBox[mode=\"xywht\", measure=\"degree\"]\uff1a\u4ee3\u8868\u4ee5\u65cb\u8f6c\u77e9\u5f62\u8868\u793a\u6807\u6ce8\u6846<ul> <li>\u5177\u4f53\u6807\u6ce8\u503c\u793a\u4f8b\uff1a[x, y, w, h, t]\uff0cx,y\uff1a\u77e9\u5f62\u6846\u7684\u4e2d\u5fc3\u70b9\u5750\u6807\uff0cw,h\uff1a\u77e9\u5f62\u6846\u7684\u5bbd\u548c\u9ad8\uff0ct\uff1a\u77e9\u5f62\u6846\u65cb\u8f6c\u7684\u89d2\u5ea6\u3002</li> <li>\u5f53measure=\"degree\" \u65f6\uff0ct\u4ee3\u8868\u89d2\u5ea6\uff0c\u8303\u56f4\u662f(-180,180)\uff1b\u5f53measure=\"radian\"\u65f6\uff0ct\u4ee3\u8868\u5f27\u5ea6\uff0c\u8303\u56f4\u662f\uff08-pi,pi\uff09\u3002</li> <li>measure\u7684\u9ed8\u8ba4\u503c\u662f\u5f27\u5ea6\u3002\u5373RotatedBBox[mode=\"xywht\"]\u4ee3\u8868t\u53ea\u80fd\u586b\u5199\u5f27\u5ea6\u503c\u3002</li> </ul> </li> <li>label \u8fb9\u754c\u6846\u7684\u7c7b\u522b</li> <li>OrientedObjectDetectionSample: \u5b9a\u4e49\u4e86\u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1sample\u7684\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5:</li> </ul> </li> <li> <p>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</p> </li> <li>$params: \u5b9a\u4e49\u4e86\u5f62\u53c2\uff0c\u5728\u8fd9\u91cc\u5373class domain</li> <li> <p>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:</p> <ul> <li>image \u56fe\u7247\u7684\u8def\u5f84</li> <li>objects \u6807\u6ce8\u4fe1\u606f\uff0c\u68c0\u6d4b\u4efb\u52a1\u4e2d\uff0c\u4e3a\u524d\u9762\u7684LocalObjectEntry\u6784\u6210\u7684\u4e00\u4e2a\u5217\u8868</li> </ul> </li> </ul>"},{"location":"dsdl_template/cv/cv_rotated_detection/#3","title":"3. \u5b8c\u6574\u793a\u4f8b","text":"<p>\u6211\u4eec\u4ee5DOTAv2.0\u6570\u636e\u96c6\u4e3a\u4f8b\uff0c\u5c55\u793a\u76ee\u6807\u68c0\u6d4b\u6570\u636e\u96c6DSDL\u63cf\u8ff0\u6587\u4ef6\u5177\u4f53\u5185\u5bb9\u3002</p>"},{"location":"dsdl_template/cv/cv_rotated_detection/#31-dsdl","title":"3.1 DSDL\u8bed\u6cd5\u63cf\u8ff0\u7c7b\u522b\u4fe1\u606f","text":"<p><code>&lt;code&gt;</code>class-dom.yaml<code>&lt;/code&gt;</code></p> <pre><code>$dsdl-version: \"0.5.2\"\nDOTAV2ClassDom:\n$def: class_domain\nclasses:\n- large_vehicle\n- small_vehicle\n- ship\n- ground_track_field\n- soccer_ball_field\n- tennis_court\n- swimming_pool\n- harbor\n- baseball_diamond\n- plane\n- storage_tank\n- roundabout\n- basketball_court\n- bridge\n- helicopter\n- container_crane\n- airport\n- helipad\nExampleClassDomDescr:\n$def: struct\n$params: ['cdom']\n$fields:\ndsdl_name: Label[dom=$cdom]\noriginal_name: Str\nClassMapInfo:\n$def: struct\n$params: ['cdom']\n$fields:\nclass_info: List[ExampleClassDomDescr[cdom=$cdom]]\n</code></pre> <p>\u4e0a\u9762\u7684\u6587\u4ef6\u4e2d\u7ed9\u51fa\u4e86DOTAV2ClassDom\u7684\u5b9a\u4e49\uff0c\u5177\u4f53\u5305\u542b\u4e0b\u5217\u5b57\u6bb5\uff1a</p> <ul> <li>$def: \u63cf\u8ff0\u4e86DOTAV2ClassDom\u7684dsdl\u7c7b\u578b\uff0c\u8fd9\u91cc\u5373class_domain</li> <li>classes: \u63cf\u8ff0\u4e86\u8be5\u7c7b\u522b\u57df\u4e2d\u6240\u5305\u542b\u7684\u7c7b\u522b\u53ca\u5176\u987a\u5e8f\uff0c\u5728DOTAV2ClassDom\u6570\u636e\u96c6\u4e2d\uff0c\u5219\u4f9d\u6b21\u4e3alarge_vehicle\u3001small_vehicle\u7b49\u7b49</li> </ul> <p>\u4ececlass_domain\u53ef\u4ee5\u83b7\u53d6\u5f53\u524d\u6570\u636e\u96c6\u6240\u6709\u7c7b\u522b\u4fe1\u606f\uff0c\u719f\u6089DOTA\u6570\u636e\u96c6\u7684\u7528\u6237\u53ef\u4ee5\u770b\u51fa\uff0c\u5f53\u524d\u7684\u7c7b\u522b\u540d\u4e0e\u539f\u59cbDOTA\u6570\u636e\u96c6\u5b58\u5728\u4e00\u5b9a\u5dee\u5f02\uff0c\u8fd9\u662f\u56e0\u4e3aDOTA\u6570\u636e\u96c6\u7c7b\u522b\u547d\u540d\u5b58\u5728\u7279\u6b8a\u5b57\u7b26\uff0c\u6211\u4eec\u5bf9\u9f50\u8fdb\u884c\u89c4\u8303\u5316\u8f6c\u6362\u3002\u6211\u4eec\u5c06\u539f\u59cb\u547d\u540d\u5230DSDL\u547d\u540d\u7684\u6620\u5c04\u5173\u7cfb\u5b58\u50a8\u5728ClassMapInfo\u4e2d\uff0c\u9700\u8981\u7684\u7528\u6237\u53ef\u4ee5\u81ea\u884c\u83b7\u53d6\u3002</p>"},{"location":"dsdl_template/cv/cv_rotated_detection/#32-yaml","title":"3.2 \u6570\u636e\u96c6yaml\u6587\u4ef6\u5b9a\u4e49","text":"<p><code>&lt;code&gt;</code>train.yaml<code>&lt;/code&gt;</code></p> <pre><code>$dsdl-version: \"0.5.2\"\n$import:\n- ../defs/class-dom\n- ../defs/rotated-detection\nmeta:\ndataset_name: \"DOTAv2.0\"\nsubset-name: \"train\"\ncreator: \"Wuhan University\u00b7Cornell University\u00b7Huazhong University of Science and Technology\"\ndataset-version: \"2.0\"\nhome-page: \"https://captain-whu.github.io/DOTA/dataset.html\"\nopendatalab-page: \"https://opendatalab.com/DOTA_V2.0\"\ntask_type: \"Rotated Object Detection\"\ndata:\nglobal-info-type: ClassMapInfo[cdom=DOTAV2ClassDom]\nglobal-info-path: ../defs/global-info.json sample-type: OrientedObjectDetectionSample[cdom=DOTAV2ClassDom]\nsample-path: samples.json\n</code></pre> <p>\u4e0a\u9762\u7684\u63cf\u8ff0\u6587\u4ef6train.yaml\u4e2d\uff0c\u9996\u5148\u5b9a\u4e49\u4e86dsdl\u7684\u7248\u672c\u4fe1\u606f\uff0c\u7136\u540eimport\u4e86\u4e24\u4e2a\u6a21\u677f\u6587\u4ef6\uff0c\u5305\u62ec\u4efb\u52a1\u6a21\u677f\u548c\u7c7b\u522b\u57df\u6a21\u677f\uff0c\u63a5\u7740\u7528meta\u548cdata\u5b57\u6bb5\u6765\u63cf\u8ff0\u81ea\u5df1\u7684\u6570\u636e\u96c6\uff0c\u5177\u4f53\u7684\u5b57\u6bb5\u8bf4\u660e\u5982\u4e0b\u6240\u793a\uff1a</p> <ul> <li>$dsdl-version: dsdl\u7248\u672c\u4fe1\u606f</li> <li>$import: \u6a21\u677f\u5bfc\u5165\u4fe1\u606f\uff0c\u8fd9\u91cc\u5bfc\u5165\u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\u6a21\u677f\u548cDOTAV2\u7684class domain\u3002</li> <li>meta: \u4e3b\u8981\u5c55\u793a\u6570\u636e\u96c6\u7684\u4e00\u4e9b\u5143\u4fe1\u606f\uff0c\u6bd4\u5982\u6570\u636e\u96c6\u540d\u79f0\uff0c\u521b\u5efa\u8005\u7b49\u7b49\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5df1\u6dfb\u52a0\u60f3\u8981\u5907\u6ce8\u7684\u5176\u5b83\u4fe1\u606f</li> <li> <p>data: data\u7684\u5185\u5bb9\u5c31\u662f\u6309\u7167\u524d\u9762\u5b9a\u4e49\u597d\u7684\u7ed3\u6784\u6240\u4fdd\u5b58\u7684\u6837\u672c\u4fe1\u606f\uff0c\u5177\u4f53\u5982\u4e0b\uff1a</p> </li> <li> <p>global-info-type: \u6570\u636e\u96c6\u7684\u5168\u5c40\u4fe1\u606f\u7c7b\u578b\u5b9a\u4e49\uff0c\u5728\u8fd9\u91cc\u7528\u7684\u662f\u4ececlass-dom.yaml\u4e2d\u5bfc\u5165\u7684ClassMapInfo\u7c7b\uff0c\u540c\u65f6\u6307\u5b9a\u4e86\u91c7\u7528\u7684cdom\u4e3aDOTAV2ClassDom.</p> </li> <li>global-info-path: \u5168\u5c40\u4fe1\u606fglobal-info.json\u7684\u5b58\u653e\u8def\u5f84.</li> <li>sample-type: \u6570\u636e\u7684\u7c7b\u578b\u5b9a\u4e49\uff0c\u5728\u8fd9\u91cc\u7528\u7684\u662f\u4ece\u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\u6a21\u677f\u4e2d\u5bfc\u5165\u7684OrientedObjectDetectionSample\u7c7b\uff0c\u540c\u65f6\u6307\u5b9a\u4e86\u91c7\u7528\u7684cdom\u4e3aDOTAV2ClassDom.</li> <li>sample-path: samples\u7684\u5b58\u653e\u8def\u5f84\uff0c\u5982\u679c\u5b9e\u9645\u662f\u4e00\u4e2a\u8def\u5f84\uff0c\u5219samples\u7684\u5185\u5bb9\u4ece\u8be5\u6587\u4ef6\u8bfb\u53d6\uff08\u6b64\u5904\u662f\u5f53\u524d\u76ee\u5f55\u4e0b\u7684samples.json\u6587\u4ef6\uff09\uff0c\u5982\u679c\u662f$local\uff0c\u5219\u4ece\u672c\u6587\u4ef6\u7684data.samples\u5b57\u6bb5\u4e2d\u76f4\u63a5\u8bfb\u53d6.</li> <li>samples: \u4fdd\u5b58\u6570\u636e\u96c6\u7684\u6837\u672c\u4fe1\u606f\uff0c\u6ce8\u610f\u53ea\u6709\u5728sample-path\u662f$local\u7684\u65f6\u5019\u8be5\u5b57\u6bb5\u624d\u4f1a\u751f\u6548\uff0c\u5426\u5219samples\u4f1a\u4f18\u5148\u4ecesample-path\u4e2d\u7684\u8def\u5f84\u53bb\u8bfb\u53d6</li> </ul> <p>train.yaml\u4e2d\u51fa\u73b0\u7684\u6587\u4ef6\u548c\u5185\u5bb9\u5982\u4e0b\u6240\u793a\uff1a</p> <p><code>&lt;code&gt;</code>rotated-detection.yaml<code>&lt;/code&gt;</code></p> <pre><code>$dsdl-version: \"0.5.2\"\nLocalObjectEntry:\n$def: struct\n$params: ['cdom']\n$fields:\nrbbox: RotatedBBox[mode=\"xyxy\"]\nlabel: Label[dom=$cdom]\nisdifficult: Bool\nbbox: BBox\n$optional: ['bbox']\nOrientedObjectDetectionSample:\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\nimageshape: ImageShape\nobjects: List[etype=LocalObjectEntry[cdom=$cdom]]\nacquisition_dates: Str\nimagesource: Str\ngsd: Num\n$optional: ['objects','acquisition_dates', 'imagesource', 'gsd']\n</code></pre> <p>\u6b64\u6a21\u677f\u4e2d\u4f7f\u7528\u5230\u4e86\u201c$optional\u201d\u5b57\u6bb5\uff0c\u8be5\u5b57\u6bb5\u7684\u503c\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u4e2d\u7684\u503c\u53ea\u80fd\u6765\u6e90\u4e8e\u201c$fields\u201d\u4e2d\u3002\u5217\u8868\u4e2d\u51fa\u73b0\u7684\u5b57\u6bb5\u5728\u6837\u672c\u4e2d\u662f\u53ef\u4ee5\u4e0d\u51fa\u73b0\u7684\u3002\u5177\u4f53\u7528\u6cd5\u8bf7\u53c2\u8003<code>&lt;a href=\"http://research.pages.shlab.tech/dataset_standard/dsdl-docs/dsdl_language/lang/data_section/#262-optional\"&gt;</code>DSDL\u4e2dOptional\u7684\u7528\u6cd5<code>&lt;/a&gt;</code></p> <p><code>&lt;code&gt;</code>global-info.json<code>&lt;/code&gt;</code></p> <pre><code>{\n\"global-info\": {\n\"class_info\": [\n{\n\"dsdl_name\": \"roundabout\",\n\"original_name\": \"roundabout\"\n},\n{\n\"dsdl_name\": \"large_vehicle\",\n\"original_name\": \"large-vehicle\"\n},\n{\n\"dsdl_name\": \"small_vehicle\",\n\"original_name\": \"small-vehicle\"\n},\n......\n]\n}\n}\n</code></pre> <p><code>&lt;code&gt;</code>samples.json<code>&lt;/code&gt;</code></p> <pre><code>{\n\"samples\": [\n{     \"image\": \"train/images/P0000.png\",\n\"imageshape\": [\n5502,   3875  ],    \"objects\": [\n{     \"rbbox\": [\n2244.0, 1791.0, 2254.0, 1795.0, 2245.0, 1813.0, 2238.0, 1809.0  ],    \"label\": \"small_vehicle\",\n\"isdifficult\": true,\n\"bbox\": [\n2238.0, 1791.0, 16.0,   22.0  ]     },\n......\n],\n\"acquisition_dates\": \"2016-05-04\",\n\"imagesource\": \"GoogleEarth\",\n\"gsd\": 0.146343590398\n}\n......\n]\n}\n</code></pre> <p>\u63d0\u793a\uff1a\u82e5\u5f53\u524d\u6570\u636e\u96c6\u56fe\u50cf\u6570\u76ee\u8f83\u591a\uff0c\u5c06\u6240\u6709\u6807\u6ce8\u4fe1\u606f\u5b58\u50a8\u5728yaml\u6587\u4ef6\u91cc\u4f1a\u5bfc\u81f4\u540e\u7eed\u6570\u636e\u52a0\u8f7d\u901f\u5ea6\u8fc7\u6162\u3002\u6b64\u65f6\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u63d0\u4f9b\u5916\u90e8\u6587\u4ef6\uff0c\u4f8b\u5982train.yaml\u4e2d\u7684sample-path: samples.json \u5c06\u6570\u636e\u5b58\u653e\u5230\u53ef\u9ad8\u6548\u8bfb\u53d6\u7684\u6587\u4ef6\u4e2d</p>"},{"location":"dsdl_template/cv/cv_segmentation/","title":"\u56fe\u50cf\u5206\u5272\u4efb\u52a1","text":"<p>\u4e3a\u4e86\u5236\u5b9a\u56fe\u50cf\u5206\u5272\u4efb\u52a1\u6570\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u7684\u6a21\u677f\uff0c\u6211\u4eec\u5bf9\u4e3b\u6d41\u7684\u56fe\u50cf\u5206\u5272\u4efb\u52a1\u6570\u636e\u96c6\u8fdb\u884c\u4e86\u8c03\u7814\uff0c\u4e0e\u5206\u7c7b\u4efb\u52a1\u548c\u68c0\u6d4b\u4efb\u52a1\u4e0d\u540c\u7684\u662f\uff0c\u56fe\u50cf\u5206\u5272\u4efb\u52a1\u901a\u5e38\u5206\u4e3a\u8bed\u4e49\u5206\u5272\u3001\u5b9e\u4f8b\u5206\u5272\u3001\u5168\u666f\u5206\u5272\u4e09\u4e2a\u5b50\u4efb\u52a1\uff0c\u6211\u4eec\u4f1a\u5206\u5b50\u4efb\u52a1\u8ba8\u8bba\u5176\u76ee\u7684\u548c\u5e38\u89c1\u6807\u6ce8\u4fe1\u606f\u6240\u5305\u542b\u7684\u5b57\u6bb5\uff0c\u4ece\u4e2d\u6574\u7406\u51fa\u5171\u4eab\u5b57\u6bb5\u548c\u72ec\u7acb\u5b57\u6bb5\uff0c\u5e76\u5728\u6b64\u57fa\u7840\u4e0a\u5236\u5b9a\u4e09\u4e2a\u5b50\u4efb\u52a1\u6570\u7684\u636e\u96c6\u63cf\u8ff0\u6587\u4ef6\u7684\u901a\u7528\u6a21\u677f\u3002</p>"},{"location":"dsdl_template/cv/cv_segmentation/#1","title":"1. \u4efb\u52a1\u8c03\u7814","text":""},{"location":"dsdl_template/cv/cv_segmentation/#11","title":"1.1 \u4efb\u52a1\u5b9a\u4e49","text":"<p>\u56fe\u50cf\u5206\u5272\u4efb\u52a1\u662f\u6307\u901a\u8fc7\u5bf9\u56fe\u7247\u4e2d\u6bcf\u4e2a\u50cf\u7d20\u8fdb\u884c\u8bed\u4e49\u6807\u6ce8\uff0c\u6839\u636e\u5176\u6807\u6ce8\u7684\u76ee\u6807\u7684\u8f7b\u5fae\u4e0d\u540c\uff0c\u53ef\u4ee5\u5206\u4e3a\u4e09\u4e2a\u5b50\u4efb\u52a1\uff1a</p> <ul> <li> <p>\u8bed\u4e49\u5206\u5272\uff1a\u5373\u6700\u57fa\u672c\u7684\u56fe\u50cf\u5206\u5272\uff0c\u5c06\u56fe\u50cf\u4e2d\u6bcf\u4e2a\u50cf\u7d20\u7684\u8bed\u4e49\u7c7b\u522b\u6807\u6ce8\u51fa\u6765\uff1b</p> </li> <li> <p>\u5b9e\u4f8b\u5206\u5272\uff1a\u53ea\u5173\u6ce8\u53ef\u6570\u7269\u4f53\uff08\u5982\u4eba\uff0c\u8f66\u7b49\uff09\u7684\u56fe\u50cf\u5206\u5272\uff0c\u5c06\u56fe\u7247\u4e2d\u7684\u4e0d\u540c\u5b9e\u4f8b\u90fd\u533a\u5206\u6807\u6ce8\u51fa\u6765\uff1b</p> </li> <li> <p>\u5168\u666f\u5206\u5272\uff1a\u8bed\u4e49\u5206\u5272\u548c\u5b9e\u4f8b\u5206\u5272\u7684\u7efc\u5408\uff0c\u901a\u5e38\u5728\u81ea\u52a8\u9a7e\u9a76\u9886\u57df\u4e2d\u51fa\u73b0\uff0c\u5176\u5c06\u7269\u4f53\u5206\u4e3a\u53ef\u6570\u7269\u4f53\uff08things\uff0c\u6bd4\u5982\u4eba\uff0c\u732b\uff0c\u8f66\u7b49\u7b49\uff09\u548c\u4e0d\u53ef\u6570\u7269\u4f53\uff08stuff\uff0c\u6bd4\u5982\u5929\u7a7a\uff0c\u9a6c\u8def\u7b49\u7b49\uff09\uff0c\u5bf9\u4e8e\u53ef\u6570\u7269\u4f53\u6807\u6ce8\u8bed\u4e49\u548c\u5b9e\u4f8b\uff0c\u5bf9\u4e8e\u4e0d\u53ef\u6570\u7269\u4f53\uff0c\u5219\u53ea\u6807\u6ce8\u8bed\u4e49\uff1b</p> </li> </ul> <p>\u4e09\u79cd\u56fe\u50cf\u5206\u5272\u7684\u53ef\u89c6\u5316\u7ed3\u679c\u5982\u4e0b\u56fe\u6240\u793a ( \u56fe\u7247\u53d6\u81eaCVPR2019\u7684\u8bba\u6587: Panoptic Segmentation )\uff1a</p> <p></p>"},{"location":"dsdl_template/cv/cv_segmentation/#12","title":"1.2 \u8bc4\u4ef7\u6307\u6807\uff1a","text":"<p>\u56fe\u50cf\u5206\u5272\u4e09\u79cd\u5b50\u4efb\u52a1\u7684\u8bc4\u4ef7\u6307\u6807\u7565\u6709\u4e0d\u540c\uff0c\u5177\u4f53\u5982\u4e0b\uff1a</p>"},{"location":"dsdl_template/cv/cv_segmentation/#121","title":"1.2.1 \u8bed\u4e49\u5206\u5272","text":"<p>\u8bed\u4e49\u5206\u5272\u7684\u8bc4\u4ef7\u6807\u51c6\u4e00\u822c\u91c7\u7528mIoU\uff08mean Intersection over Union\uff0c\u5373\u9884\u6d4b\u533a\u57df\u4e0e\u771f\u503c\u4e4b\u95f4\u7684\u4ea4\u96c6\u5e76\u96c6\u7684\u6bd4\u4f8b\uff09\u548cmPA\uff08mean Pixel Accuracy\uff0c\u5373\u6b63\u786e\u5206\u7c7b\u7684\u50cf\u7d20\u4e0e\u5168\u90e8\u50cf\u7d20\u7684\u6bd4\u4f8b\uff09\uff0c\u4e0e\u68c0\u6d4b\u4e0d\u540c\uff0c\u8bed\u4e49\u5206\u5272\u7684mIoU\u66f4\u591a\u662f\u8ba1\u7b97\u4e0d\u89c4\u5219\u533a\u57df\uff0c\u800c\u975e\u77e9\u5f62\u6846\u4e4b\u95f4\u3002 \u8fd9\u91cc\u4e3a\u65b9\u4fbf\u8ba1\u7b97\uff0c\u5047\u5b9a\u4e00\u5b9a\u6709k+1\u7c7b\uff08\u5305\u62eck\u4e2a\u76ee\u6807\u7c7b\u548c1\u4e2a\u80cc\u666f\u7c7b\uff09\uff0cp_{ij}\u8868\u793a\u672c\u5c5e\u4e8eii\u7c7b\u5374\u9884\u6d4b\u4e3ajj\u7c7b\u7684\u50cf\u7d20\u70b9\u603b\u6570\uff0c\u5177\u4f53\u5730\uff0cp_{ii}p_{ii}\u8868\u793atrue postives\uff0cp_{ij}p_{ij}\u8868\u793afalse positives\uff0cp_{ji}p_{ji}\u8868\u793afalse negatives; \u5219mIoU\u548cmPA\u7684\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\u6240\u793a\uff1a</p> <ul> <li>mIoU</li> </ul>  mIoU = {1\\over{k+1}} \\sum_{i=0}^{k}{{p_{ii}}\\over{\\sum_{j=0}^{k}p_{ij}+\\sum_{j=0}^{k}p_{ji}-p_{ii}}}   mIoU = {1\\over{k+1}} \\sum_{i=0}^{k}{{p_{ii}}\\over{\\sum_{j=0}^{k}p_{ij}+\\sum_{j=0}^{k}p_{ji}-p_{ii}}}  <ul> <li>mPA</li> </ul>  mPA = {1\\over{k+1}} \\sum_{i=0}^{k} {{p_{ii}}\\over{\\sum_{j=0}^{k}p_{ij}}}   mPA = {1\\over{k+1}} \\sum_{i=0}^{k} {{p_{ii}}\\over{\\sum_{j=0}^{k}p_{ij}}}"},{"location":"dsdl_template/cv/cv_segmentation/#122","title":"1.2.2 \u5b9e\u4f8b\u5206\u5272","text":"<p>\u5b9e\u4f8b\u5206\u5272\u7684\u8bc4\u4ef7\u6807\u51c6\u901a\u5e38\u548c\u76ee\u6807\u68c0\u6d4b\u76f8\u540c\uff0c\u91c7\u7528mAP\u4f5c\u4e3a\u8bc4\u4ef7\u6807\u51c6\uff0c\u4f46\u662f\u5176\u4e2d\u7684mIoU\u8ba1\u7b97\u65b9\u5f0f\u4e3a\u9884\u6d4bmask\u548c\u771f\u503cmask\u4e4b\u95f4\u7684IoU\uff0c\u800c\u975e\u5728\u68c0\u6d4b\u4e2d\u9884\u6d4b\u6846\u548c\u771f\u503c\u68c0\u6d4b\u6846\u4e4b\u95f4\u7684IoU\uff0c\u5173\u4e8e\u68c0\u6d4b\u4e2dmAP\u7684\u8ba1\u7b97\u65b9\u5f0f\u53c2\u8003\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\u8c03\u7814\u62a5\u544a\u3002</p>"},{"location":"dsdl_template/cv/cv_segmentation/#123","title":"1.2.3 \u5168\u666f\u5206\u5272","text":"<p>\u5168\u666f\u5206\u5272\u91c7\u7528\u4e00\u79cd\u65b0\u7684\u8bc4\u4ef7\u6807\u51c6\uff0c\u65e2\u8003\u8651\u5230things\uff0c\u4e5f\u8003\u8651\u5230\u4e86stuff\uff0c\u5373Panoptic Quality\uff08PQ\uff09\uff0c\u8ba1\u7b97PQ\u6709\u4e24\u4e2a\u6b65\u9aa4\uff1a  </p> <ol> <li> <p>\u5206\u5272\u5339\u914d\uff1a\u5f53\u4e14\u4ec5\u5f53\u9884\u6d4b\u533a\u57df\u548c\u771f\u503c\u533a\u57df\u7684\u4ea4\u5e76\u6bd4\uff08IoU\uff09\u5927\u4e8e0.5\u65f6\uff0c\u8ba4\u4e3a\u4e8c\u8005\u5339\u914d\uff1b\uff08\u7ed3\u5408\u5168\u666f\u5206\u5272\u7684\u975e\u91cd\u53e0\u6027\u6211\u4eec\u53ef\u4ee5\u63a8\u8bba\uff0c\u6bcf\u4e2a\u771f\u503c\u533a\u57df\u6700\u591a\u53ef\u4ee5\u6709\u4e00\u4e2a\u9884\u6d4b\u533a\u57df\u5339\u914d\u3002\uff09</p> </li> <li> <p>PQ\u8ba1\u7b97\uff1a\u5f53\u5206\u5272\u5339\u914d\u5b8c\u6210\u540e\uff0c\u6bcf\u4e00\u4e2a\u5206\u5272\u9884\u6d4b\u53ef\u80fd\u6709\u4e09\u79cd\u60c5\u51b5: TP (\u6b63\u786e\u5339\u914d\u7684\u5206\u5272\u5bf9), FP (\u672a\u5339\u914d\u7684\u9884\u6d4b\u7ed3\u679c), and FN (\u672a\u5339\u914d\u7684\u771f\u503c\u533a\u57df). \u7ed9\u5b9a TP, FP, \u548c FN, \u6bcf\u4e2a\u7c7b\u522b\u7684PQ\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u516c\u5f0f\u8ba1\u7b97:</p> </li> </ol>  PQ = {{\\sum_{(p,g)\\in TP} {IoU(p,g)}}\\over{\\lvert TP \\rvert + {1\\over2} \\lvert FP \\rvert + {1\\over2} \\lvert FN \\rvert}}   PQ = {{\\sum_{(p,g)\\in TP} {IoU(p,g)}}\\over{\\lvert TP \\rvert + {1\\over2} \\lvert FP \\rvert + {1\\over2} \\lvert FN \\rvert}}  <p>PQ\u540c\u65f6\u4e5f\u53ef\u4ee5\u770b\u6210\u662fsegmentation quality (SQ) \u548c recognition quality (RQ)\u7684\u4e58\u79ef\uff1a</p>  PQ = \\underbrace{{{\\sum_{(p,g)\\in TP} {IoU(p,g)}}\\over{\\lvert TP \\rvert}}}_{\\text{segmentation quality (SQ)}} \\times \\underbrace{{ {\\lvert TP \\rvert}\\over{{\\lvert TP \\rvert + {1\\over2} \\lvert FP \\rvert + {1\\over2} \\lvert FN \\rvert}}}}_{\\text{recognition quality (RQ)}}  PQ = \\underbrace{{{\\sum_{(p,g)\\in TP} {IoU(p,g)}}\\over{\\lvert TP \\rvert}}}_{\\text{segmentation quality (SQ)}} \\times \\underbrace{{ {\\lvert TP \\rvert}\\over{{\\lvert TP \\rvert + {1\\over2} \\lvert FP \\rvert + {1\\over2} \\lvert FN \\rvert}}}}_{\\text{recognition quality (RQ)}} <p>\u5173\u4e8ePQ\u8ba1\u7b97\u516c\u5f0f\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u53ef\u4ee5\u53c2\u8003\u539f\u8bba\u6587Panoptic Segmentation.</p> <p></p>"},{"location":"dsdl_template/cv/cv_segmentation/#13","title":"1.3 \u4e3b\u6d41\u6570\u636e\u96c6\u8c03\u7814\uff1a","text":"<p>\u6211\u4eec\u8c03\u7814\u4e86\u4e3b\u6d41\u7684\u56fe\u50cf\u5206\u5272\u6570\u636e\u96c6\uff0c\u5176\u4e2d\u5305\u542b\u4e86COCO\u3001VOC\u3001CityScapes\u3001ADE20K\u7b49\u5e38\u89c1\u6570\u636e\u96c6\u3002\u8003\u8651\u5230\u6709\u4e9b\u6570\u636e\u96c6\u540c\u65f6\u5305\u542b\u4e86\u4e0d\u540c\u7684\u5206\u5272\u5b50\u4efb\u52a1\uff0c\u8fd9\u91cc\u5bf9\u4e09\u4e2a\u5b50\u4efb\u52a1\u8fdb\u884c\u4e86\u62c6\u5206\uff0c\u4e14\u6bcf\u4e2a\u5b50\u4efb\u52a1\u4e0b\u53ea\u8003\u8651\u548c\u4ed6\u76f8\u5173\u7684\u6807\u6ce8\u5185\u5bb9\u3002\u6b64\u5916\uff0c\u8c03\u7814\u8fc7\u7a0b\u4f1a\u9047\u5230\u4e00\u4e9b\u540d\u79f0\u4e0d\u540c\uff0c\u4f46\u662f\u5b9e\u9645\u542b\u4e49\u76f8\u540c\u6216\u7c7b\u4f3c\u7684\u5b57\u6bb5\uff0c\u8fd9\u4e9b\u5b57\u6bb5\u6211\u4eec\u4e5f\u89c6\u4e3a\u540c\u4e00\u5b57\u6bb5\uff0c\u5e76\u5728\u8fd9\u91cc\u7edf\u4e00\u53bb\u79f0\u547c\uff0c\u6bd4\u5982image_id\u8868\u793a\u56fe\u7247\u7684\u552f\u4e00\u8868\u793a\uff0c\u6709\u65f6\u5019\u4e5f\u4f1a\u7528\u56fe\u7247\u8def\u5f84\u6765\u8868\u793a\uff0ccategory_id\u540c\u65f6\u4e5f\u5305\u542bcategory_name\u7684\u542b\u4e49\u3002\u6700\u540e\uff0c\u8003\u8651\u5230\u56fe\u50cf\u5206\u5272\u7279\u6709\u7684\u5206\u5272\u56fe(segmentation_map, \u5373\u56fe\u7247\u5f62\u5f0f\u5bf9\u539f\u56fe\u8fdb\u884c\u6807\u6ce8\uff0c\u6bcf\u4e2a\u4f4d\u7f6e\u7684\u50cf\u7d20\u503c\u90fd\u662f\u539f\u56fe\u5bf9\u5e94\u4f4d\u7f6e\u7684\u6807\u6ce8\u4fe1\u606f)\u6807\u6ce8\u5f62\u5f0f\uff0ccategory_id\u6709\u65f6\u5019\u6ca1\u6709\u663e\u5f0f\u7684\u6807\u6ce8\u51fa\u6765\uff0c\u800c\u662f\u6839\u636e\u5206\u5272\u56fe\u4e2d\u7684\u50cf\u7d20\u503c\u901a\u8fc7\u4e00\u5b9a\u7684\u5173\u7cfb\u8ba1\u7b97\u5f97\u5230\uff0c\u56e0\u6b64\u6211\u4eec\u5177\u8c61\u5316\u4e86\u4e00\u4e2a\u4e0d\u5b58\u7684\u7684\u5b57\u6bb5pixel_mapping\uff0c\u7528\u6765\u63cf\u8ff0\u4ece\u50cf\u7d20\u503c\u5230\u5b9e\u9645\u7684label_id\u548cinstance_id\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u8fd9\u4e2a\u5b57\u6bb5\u88ab\u52a0\u4e0a\u4e86*\u4ee5\u793a\u533a\u522b\uff0c\u5e76\u4e14\u8fd9\u4e2a\u5b57\u6bb5\u5c06\u548csegmentation_map\u5b57\u6bb5\u7ed1\u5b9a\u51fa\u73b0\uff08\u6709\u4e9b\u50cf\u7d20\u503c\u7b49\u4e8elabel_id\u6216\u8005instance_id\u7684\uff0c\u53ef\u4ee5\u8ba4\u4e3a\u6620\u5c04\u5173\u7cfb\u662f\u6052\u7b49\u6620\u5c04\uff09\u3002</p>"},{"location":"dsdl_template/cv/cv_segmentation/#131","title":"1.3.1 \u8bed\u4e49\u5206\u5272\u6570\u636e\u96c6\u8c03\u7814","text":"<p>\u6211\u4eec\u8c03\u7814\u4e86VOC\uff0cCityScapes\u548cADE20K\u4e09\u4e2a\u6570\u636e\u96c6\u7684\u8bed\u4e49\u5206\u5272\u4efb\u52a1\uff0c\u7ed3\u679c\u5982\u4e0b\uff1a</p> \u8bed\u4e49\u5206\u5272\u6570\u636e\u96c6 \u5171\u4eab\u5b57\u6bb5 \u72ec\u7acb\u5b57\u6bb5 image_id segmentation_map pixel_mapping* VOC Y Y Y CityScapes Y Y Y ADE20K Y Y Y <p>\u4e0a\u8868\u4e2d*\u5373\u8868\u793a\u4e0a\u6587\u63d0\u5230\u7684\u5047\u60f3\u5b57\u6bb5\uff08\u5373\u5b9e\u9645\u6709\u8fd9\u4e2a\u4fe1\u606f\uff0c\u4f46\u662f\u4e0d\u662f\u901a\u8fc7\u6807\u6ce8\u6587\u4ef6\u7684\u5f62\u5f0f\u7ed9\u51fa\u6765\u7684\uff0c\u4e0b\u540c\uff09\uff0c\u5176\u4ed6\u5404\u4e2a\u5b57\u6bb5\u7684\u542b\u4e49\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> \u5b57\u6bb5\u7c7b\u578b \u5b57\u6bb5\u540d\u79f0 \u542b\u4e49 \u5171\u4eab\u5b57\u6bb5 image_id \u5b9a\u4f4d\u5230\u552f\u4e00\u56fe\u7247\uff0c\u6bd4\u5982\u7528\u56fe\u7247\u540d\u6216\u8005\u56fe\u7247\u8def\u5f84\u8868\u793a segmentation_map \u5206\u5272\u56fe\uff0c\u8bed\u4e49\u5206\u5272\u4efb\u52a1\u5c31\u662f\u8bed\u4e49\u5206\u5272mask \u72ec\u7acb\u5b57\u6bb5 pixel_mapping* \u5206\u5272\u56fe\u4e2d\u7684\u50cf\u7d20\u503c\u5230\u8bed\u4e49id/\u5b9e\u4f8bid\u7684\u6620\u5c04\u5173\u7cfb"},{"location":"dsdl_template/cv/cv_segmentation/#132","title":"1.3.2 \u5b9e\u4f8b\u5206\u5272\u6570\u636e\u96c6\u8c03\u7814","text":"<p>\u6211\u4eec\u8c03\u7814\u4e86VOC, COCO, CityScapes, ADE20K\u8fd9\u56db\u4e2a\u6570\u636e\u96c6\u7684\u5b9e\u4f8b\u5206\u5272\u4efb\u52a1\uff0c\u7ed3\u679c\u5982\u4e0b\uff1a</p> \u5b9e\u4f8b\u5206\u5272\u6570\u636e\u96c6 \u5171\u4eab\u5b57\u6bb5 \u72ec\u7acb\u5b57\u6bb5 image_id segmentation_map pixel_mapping* polygon/rle_polygon category_id instance_id area iscrowd occluded parts scenes VOC Y Y Y COCO Y Y Y Y Y Y CityScapes Y Y Y Y Y Y ADE20K Y Y Y Y Y Y Y Y Y <p>\u5404\u4e2a\u5b57\u6bb5\u7684\u542b\u4e49\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> \u5b57\u6bb5\u7c7b\u578b \u5b57\u6bb5\u540d\u79f0 \u542b\u4e49 \u5171\u4eab\u5b57\u6bb5 image_id \u5b9a\u4f4d\u5230\u552f\u4e00\u56fe\u7247\uff0c\u6bd4\u5982\u7528\u56fe\u7247\u540d\u6216\u8005\u56fe\u7247\u8def\u5f84\u8868\u793a \u72ec\u7acb\u5b57\u6bb5 segmentation_map \u5206\u5272\u56fe\u4e2d\u7684\u50cf\u7d20\u503c\u5230\u8bed\u4e49id/\u5b9e\u4f8bid\u7684\u6620\u5c04\u5173\u7cfb pixel_mapping* \u5206\u5272\u56fe\uff0c\u8bed\u4e49\u5206\u5272\u4efb\u52a1\u5c31\u662f\u8bed\u4e49\u5206\u5272mask polygon/rle_polygon \u5355\u4e2a\u5bf9\u8c61\u7684\u591a\u8fb9\u5f62\u6807\u6ce8\u7684\u9876\u70b9\u5750\u6807\u96c6\u5408 category_id \u5355\u4e2a\u5bf9\u8c61\u6240\u5c5e\u7684\u7c7b\u522bid instance_id \u5355\u4e2a\u5bf9\u8c61\u6240\u5c5e\u7684\u5b9e\u4f8bid area \u5355\u4e2a\u5bf9\u8c61\u7684\u5206\u5272\u533a\u57df\u9762\u79ef iscrowd \u8be5\u5bf9\u8c61\u662f\u5426\u4e3a\u4e00\u7ec4\u5bf9\u8c61\uff0c\u6bd4\u5982\u4e00\u7fa4\u4eba\u3001\u4e00\u5806\u82f9\u679c\u7b49 occluded \u8be5\u5bf9\u8c61\u662f\u5426\u88ab\u906e\u6321 parts \u90e8\u4ef6\u4fe1\u606f\uff0c\u5373\u8be5\u5bf9\u8c61\u662f\u5426\u5305\u542b\u67d0\u4e2a\u90e8\u4ef6(part)\uff0c\u6216\u8005\u8be5\u5bf9\u8c61\u662f\u5426\u662f\u53e6\u4e00\u4e2a\u5bf9\u8c61\u7684\u90e8\u4ef6(part) scenes \u6bcf\u5f20\u56fe\u7247\u6240\u5c5e\u7684\u573a\u666f\u7c7b\u522b"},{"location":"dsdl_template/cv/cv_segmentation/#133","title":"1.3.3 \u5168\u666f\u5206\u5272\u6570\u636e\u96c6\u8c03\u7814","text":"<p>\u6211\u4eec\u8c03\u7814\u4e86COCO\u548cCityScapes\u4e24\u4e2a\u6570\u636e\u96c6\u7684\u5168\u666f\u5206\u5272\u4efb\u52a1\uff0c\u7ed3\u679c\u5982\u4e0b\uff1a</p> \u5b9e\u4f8b\u5206\u5272\u6570\u636e\u96c6 \u5171\u4eab\u5b57\u6bb5 \u72ec\u7acb\u5b57\u6bb5 image_id segmentation_map pixel_mapping* polygon/rle_polygon category_id instance_id area iscrowd bbox isthing supercategory COCO Y Y Y Y Y Y Y Y Y Y Y CityScapes Y Y Y Y Y Y <p>\u5907\u6ce8\uff1a\u8fd9\u91ccisthing\u548csupercategory\u90fd\u662f\u7c7b\u522b\u57df(class_domain)\u7684\u63cf\u8ff0\u5b57\u6bb5\uff0c\u5373\u8fd9\u4e24\u4e2a\u5b57\u6bb5\u4e0d\u662f\u63cf\u8ff0\u67d0\u4e00\u4e2a\u6807\u6ce8\u7684\uff0c\u800c\u662f\u63cf\u8ff0\u67d0\u4e00\u4e2a\u7c7b\u522b\u7684\u3002 \u5404\u4e2a\u5b57\u6bb5\u7684\u542b\u4e49\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> \u5b57\u6bb5\u7c7b\u578b \u5b57\u6bb5\u540d\u79f0 \u542b\u4e49 \u5171\u4eab\u5b57\u6bb5 image_id \u5b9a\u4f4d\u5230\u552f\u4e00\u56fe\u7247\uff0c\u6bd4\u5982\u7528\u56fe\u7247\u540d\u6216\u8005\u56fe\u7247\u8def\u5f84\u8868\u793a segmentation_map \u5206\u5272\u56fe\u4e2d\u7684\u50cf\u7d20\u503c\u5230\u8bed\u4e49id/\u5b9e\u4f8bid\u7684\u6620\u5c04\u5173\u7cfb \u72ec\u7acb\u5b57\u6bb5 pixel_mapping* \u5206\u5272\u56fe\uff0c\u8bed\u4e49\u5206\u5272\u4efb\u52a1\u5c31\u662f\u8bed\u4e49\u5206\u5272mask polygon/rle_polygon \u5355\u4e2a\u5bf9\u8c61\u7684\u591a\u8fb9\u5f62\u6807\u6ce8\u7684\u9876\u70b9\u5750\u6807\u96c6\u5408 category_id \u5355\u4e2a\u5bf9\u8c61\u6240\u5c5e\u7684\u7c7b\u522bid instance_id \u5355\u4e2a\u5bf9\u8c61\u6240\u5c5e\u7684\u5b9e\u4f8bid area \u5355\u4e2a\u5bf9\u8c61\u7684\u5206\u5272\u533a\u57df\u9762\u79ef iscrowd \u8be5\u5bf9\u8c61\u662f\u5426\u4e3a\u4e00\u7ec4\u5bf9\u8c61\uff0c\u6bd4\u5982\u4e00\u7fa4\u4eba\u3001\u4e00\u5806\u82f9\u679c\u7b49 bbox \u7269\u4f53\u7684\u8fb9\u754c\u6846 isthing \u662f\u5426\u662fthings\uff0c\u5168\u666f\u5206\u5272\u901a\u5e38\u628a\u76ee\u6807\u5206\u4e3athings\uff08\u53ef\u6570\uff0c\u8fdb\u884c\u5b9e\u4f8b\u6807\u6ce8\uff09\u548cstuff\uff08\u4e0d\u53ef\u6570\uff0c\u53ea\u8fdb\u884c\u8bed\u4e49\u6807\u6ce8\uff09 supercategory \u7c7b\u522b\u7684\u7236\u7c7b\u522b\uff0c\u6bd4\u5982\u7c7b\u522b\"\u732b\"\u7684\u7236\u7c7b\u522b\u53ef\u80fd\u662f\"\u52a8\u7269\""},{"location":"dsdl_template/cv/cv_segmentation/#134-segmentation_map","title":"1.3.4 \u5206\u5272\u56fesegmentation_map\u8c03\u7814","text":"<p>\u524d\u6587\u53ef\u4ee5\u770b\u51fasegmentation_map\u662f\u56fe\u50cf\u5206\u5272\u4e2d\u6700\u4e3b\u8981\u7684\u6807\u6ce8\u624b\u6bb5\uff0c\u4f46\u662f\u4e0d\u540c\u6570\u636e\u96c6\u7684segmentation_map\u5374\u6709\u4e0d\u540c\u7684\u683c\u5f0f\uff0c\u8fd9\u91cc\u4e3b\u8981\u8c03\u7814segmentation_map\u53ca\u5176\u5bf9\u5e94\u7684pixel_mapping\u7684\u4e0d\u540c\u60c5\u51b5\uff0c\u65b9\u4fbf\u5236\u5b9asegmentation_map\u7684dsdl\u89c4\u8303\u3002 segmentation_map\u7684\u5e38\u89c1\u60c5\u51b5\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a  </p> <ol> <li> <p>\u57fa\u672c\u5f62\u5f0f\uff1a     \u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0csegmentation_map\u662f\u5355\u901a\u9053\uff0c\u5176\u50cf\u7d20\u503c\u662fint\u7c7b\u578b\uff0c\u5bf9\u4e8e\u8bed\u4e49\u5206\u5272\u6765\u8bf4\uff0csegmentation_map\u7684\u6bcf\u4e2a\u4f4d\u7f6e\u7684\u50cf\u7d20\u5c31\u662f\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u8bed\u4e49\u7c7b\u522b\uff0c\u5bf9\u4e8e\u5b9e\u4f8b\u5206\u5272\u6765\u8bf4\uff0csegmentation_map\u7684\u6bcf\u4e2a\u4f4d\u7f6e\u5c31\u662f\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u5b9e\u4f8b\u7c7b\u522b\u3002voc\u6570\u636e\u96c6\u7684\u8bed\u4e49\u5206\u5272\u548c\u5b9e\u4f8b\u5206\u5272\u4efb\u52a1\u5c31\u662f\u91c7\u7528\u7684\u8fd9\u79cd\u65b9\u6848\uff1a</p> <p></p> </li> <li> <p>\u901a\u8fc7\u67d0\u79cd\u6620\u5c04\u5f97\u5230\u8bed\u4e49\u7c7b\u522b\u6216\u5b9e\u4f8b\u7c7b\u522b\uff1a     \u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5206\u5272map\u53ef\u80fd\u662f\u5355\u901a\u9053\u4e5f\u53ef\u80fd\u662f\u591a\u901a\u9053\uff0c\u800c\u8bed\u4e49\u7c7b\u522b\u6216\u8005\u5b9e\u4f8b\u7c7b\u522b\u9700\u8981\u901a\u8fc7\u4e00\u5b9a\u7684\u5173\u7cfb\u8fdb\u884c\u8ba1\u7b97\uff0c\u6bd4\u5982\u5728CityScapes\u3001ADE20K\u3001COCO Panoptic\u4e2d\uff0c\u90fd\u6709\u8fd9\u79cd\u8ba1\u7b97\u5173\u7cfb\uff1a  </p> <ul> <li>CityScapes:</li> </ul> <p></p> <ul> <li>AED20K:</li> </ul> <p></p> <ul> <li>COCO Panoptic:</li> </ul> <p></p> </li> <li> <p>\u5b9e\u4f8b\u5206\u5272\u6709\u591a\u4e2a\u5206\u5272map\uff08\u4e00\u4e2a\u5b9e\u4f8b\u4e00\u4e2amap\uff09:     \u6709\u65f6\u5019\u5b9e\u4f8b\u5206\u5272\u4efb\u52a1\u4e2d\uff0c\u4e00\u5f20\u56fe\u7247\u4f1a\u63d0\u4f9b\u591a\u4e2a\u5b9e\u4f8bmap\uff0c\u6bcf\u4e2a\u5b9e\u4f8b\u4e00\u5f20map\uff0cmap\u4e3a\u5355\u901a\u9053\uff0c\u4e14\u53ea\u67090\uff0cx\u4e24\u79cd\u50cf\u7d20\uff0c0\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u4e3a\u80cc\u666f\uff0cx\u5219\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u662f\u8be5\u5b9e\u4f8b\uff0c\u5e76\u4e14\u5176\u8bed\u4e49\u7c7b\u522b\u4e3ax\uff0c\u6bd4\u5982\u5728ade20k\u4e2d\uff1a  </p> <p></p> </li> </ol> <p></p>"},{"location":"dsdl_template/cv/cv_segmentation/#2","title":"2. \u6a21\u677f\u5c55\u793a","text":"<p>\u6839\u636e\u4e0a\u9762\u7684\u8c03\u7814\uff0c\u53ef\u4ee5\u521d\u6b65\u68b3\u7406\u51fa\u6765\u5206\u5272\u4efb\u52a1\u6807\u6ce8\u7c7b\u578b\u7684\u51e0\u79cd\u60c5\u51b5\uff0c\u5927\u81f4\u7684\u5206\u7c7b\u5982\u4e0b\u6240\u793a\uff1a</p> <p></p> <p>\u57fa\u4e8e\u6b64\u53ef\u4ee5\u8fdb\u884c\u6a21\u677f\u5236\u5b9a\u3002</p>"},{"location":"dsdl_template/cv/cv_segmentation/#21-segmentation_map","title":"2.1 segmentation_map\u89c4\u8303","text":"<p>\u5236\u5b9a\u4efb\u52a1\u6a21\u677f\u4e4b\u524d\uff0c\u9996\u5148\u9700\u8981\u89c4\u5b9a\u5206\u5272\u56fe\u7684\u6a21\u677f\uff0c\u7ed3\u5408\u4e0a\u9762\u5bf9\u5206\u5272\u56fe\u7684\u8c03\u7814\uff0c\u6211\u4eec\u5236\u5b9a\u4e86\u4e24\u4e2a\u5206\u5272\u56fe\u89c4\u8303\uff0c\u4ee5\u9002\u5e94\u8bed\u4e49\u5206\u5272\u548c\u5b9e\u4f8b\u5206\u5272\u4e24\u79cd\u4efb\u52a1\u7c7b\u578b\uff08\u5168\u666f\u5206\u5272\u53ef\u4ee5\u770b\u6210\u662f\u4e24\u79cd\u4efb\u52a1\u7684\u7ed3\u5408\uff09\uff0c\u5177\u4f53\u7684\u5c31\u662f\u4e0b\u9762\u4e24\u79cd\u89c4\u8303\uff1a</p> <ul> <li> <p>LabelMap: \u5373label map\uff0c\u7528\u6765\u8868\u793a\u8bed\u4e49map\uff0cLabelMap\u662f\u4e00\u4e2a\u5355\u901a\u9053\uff0cint32\u7c7b\u578b\u7684\u56fe\u7247\uff0c\u4e14\u9700\u8981\u63a5\u53d7\u4e00\u4e2aclass domain\u53c2\u6570\uff0cLabelMap\u7684\u50cf\u7d20\u503c\u5373\u4ee3\u8868class domain\u4e2d\u7c7b\u522b\u7684\u7d22\u5f15\uff0c\u8fd9\u6837\u5373\u53ef\u5b9e\u73b0\u4ece\u50cf\u7d20\u5230\u8bed\u4e49\u7c7b\u522b\u7684\u6620\u5c04\uff1b</p> </li> <li> <p>InsMap: \u5373instance map\u7684\u7b80\u79f0\uff0c\u7528\u6765\u8868\u793a\u5b9e\u4f8bmap\uff0cInsMap\u540c\u6837\u662f\u4e00\u4e2a\u5355\u901a\u9053\uff0cint32\u7c7b\u578b\u7684\u56fe\u7247\uff0c\u77e9\u9635\u4e2d\u7684\u5143\u7d20\u7528\u6765\u8868\u793a\u5b9e\u4f8b\u7684\u4f4d\u7f6e\uff0c\u8bed\u4e49\u4fe1\u606f\u5219\u901a\u8fc7\u5bf9\u5e94\u4f4d\u7f6e\u7684LabelMap\u6765\u83b7\u53d6\uff08InsMap\u672c\u8eab\u4e0d\u9700\u8981class domain\u53c2\u6570\uff09\uff1b</p> </li> </ul> <p>\u8fd9\u91ccLabelMap\u548cInsMap\u90fd\u8868\u793a\u4e00\u4e2a\u5355\u901a\u9053\u56fe\u7247\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u4e3a\u4e86\u51cf\u5c11\u6807\u6ce8\u6587\u4ef6\u7684\u5bb9\u91cf\uff0c\u4e5f\u53ef\u4ee5\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\uff0c\u7136\u540eLabelMap\u548cInsMap\u4fdd\u5b58\u6307\u5411\u8fd9\u4e2a\u7b26\u5408\u89c4\u8303\u7684\u56fe\u50cf\u6587\u4ef6\u7684\u8def\u5f84\u4fe1\u606f\u3002 </p> <p>\u6709\u4e86\u5206\u5272\u56fe\u7684\u89c4\u8303\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u884c\u4e09\u4e2a\u5206\u5272\u4efb\u52a1\u7684\u89c4\u8303\u5236\u5b9a\u3002</p>"},{"location":"dsdl_template/cv/cv_segmentation/#22","title":"2.2 \u8bed\u4e49\u5206\u5272\u6a21\u677f","text":"<p>\u7531\u4e0a\u9762\u7684\u68b3\u7406\uff0c\u53ef\u4ee5\u77e5\u9053\u8bed\u4e49\u5206\u5272\u7684\u6807\u6ce8\u5f62\u5f0f\u53ea\u6709LabelMap\u7684\u5f62\u5f0f\uff0c\u4e14\u4e00\u5f20\u56fe\u7247\u5bf9\u5e94\u4e00\u5f20LabelMap\uff0c\u6240\u4ee5\u5236\u5b9a\u8bed\u4e49\u5206\u5272\u7684\u6a21\u677f\u5982\u4e0b\uff1a</p> <pre><code>SemanticSegmentationSample:\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\nsemantic_map: LabelMap[dom=$cdom]\n</code></pre>"},{"location":"dsdl_template/cv/cv_segmentation/#23","title":"2.3 \u5b9e\u4f8b\u5206\u5272\u6a21\u677f","text":"<p>\u5b9e\u4f8b\u5206\u5272\u7684\u6807\u6ce8\u5f62\u5f0f\u901a\u5e38\u6709instance map\u548cpolygon\u4e24\u79cd\uff0c\u6240\u4ee5\u5bf9\u5e94\u7684\u5b9e\u4f8b\u5206\u5272\u6a21\u677f\u5236\u5b9a\u5982\u4e0b\uff1a  </p> <ul> <li>instance map\u7c7b\u578b\uff1a  </li> </ul> <pre><code>InstanceSegmentationSample:\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\ninstance_map: InsMap\nsemantic_map: LabelMap[dom=$cdom]\n</code></pre> <ul> <li>polygon\u7c7b\u578b\uff1a  </li> </ul> <p><pre><code>LocalInstanceEntry:\n$def: struct\n$params: ['cdom']\n$fields:\nlabel: Label[dom=$cdom]\nbbox: BBox\npolygon: Polygon\nInstanceSegmentationSample:\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\ninstances: List[LocalInstanceEntry[cdom=$cdom]]\n</code></pre> \u5b9e\u9645\u4f7f\u7528\u65f6\uff0c\u7528\u6237\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u9009\u62e9\u5176\u4e2d\u4e00\u79cd\u5373\u53ef\u3002</p>"},{"location":"dsdl_template/cv/cv_segmentation/#24","title":"2.4 \u5168\u666f\u5206\u5272\u6a21\u677f","text":"<p>\u548c\u5b9e\u4f8b\u5206\u5272\u7c7b\u4f3c\uff0c\u5168\u666f\u5206\u5272\u5f53\u4e2d\u7684\u5b9e\u4f8b\u4fe1\u606f\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\u7ed9\u51fa\uff0c\u8fd9\u91cc\u5206\u522b\u7ed9\u51fa\u5176\u6a21\u677f\u5b9a\u4e49\uff1a  </p> <ul> <li>\u5b9e\u4f8b\u4fe1\u606f\u901a\u8fc7instance map\u7ed9\u51fa\uff1a  </li> </ul> <pre><code>PanopticSegmentationSample:\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\ninstance_map: InsMap\nsemantic_map: LabelMap[dom=$cdom]\n</code></pre> <ul> <li>\u5b9e\u4f8b\u4fe1\u606f\u901a\u8fc7polygon\u7ed9\u51fa\uff1a  </li> </ul> <p><pre><code>LocalInstanceEntry:\n$def: struct\n$params: ['cdom']\n$fields:\nlabel: Label[dom=$cdom]\nbbox: BBox\npolygon: Polygon\nInstanceSegmentationSample:\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\nsemantic_map: LabelMap[cdom=$cdom]\ninstances: List[LocalInstanceEntry[cdom=$cdom]]\n</code></pre> \u5b9e\u9645\u4f7f\u7528\u65f6\uff0c\u7528\u6237\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u9009\u62e9\u5176\u4e2d\u4e00\u79cd\u5373\u53ef\u3002</p> <p>\u6b64\u5916\uff0c\u5168\u666f\u5206\u5272\u7531\u4e8e\u5bf9\u7c7b\u522b\u6709things\u548cstuff\u7684\u533a\u5206\uff0c\u6240\u4ee5\u9700\u8981\u5bf9class domain\u8fdb\u884c\u8865\u5145\u8bf4\u660e\uff0c\u8fd9\u91cc\u6211\u4eec\u901a\u8fc7\u7236\u7c7b\u522b\u6765\u8bf4\u660e\u7c7b\u522b\u662fthings\u8fd8\u662fstuff\uff1a \u5982\u4e0b\u6240\u793a\uff1a <pre><code>$dsdl-version: \"0.5.0\"\nCOCOClassDom[ThingsorStuff]:\n$def: class_domain\nclasses:\n- sky[stuff]\n- horse[things]\n- person[things]\n- bottle[things]\n- ...\nThingsorStuff:\n$def: class_domain\nclasses:\n- things\n- stuff\n</code></pre> \u540c\u65f6\uff0c\u5982\u679c\u6570\u636e\u96c6\u672c\u7701\u6709\u5c42\u6b21\u7ed3\u6784\uff0cdsdl\u652f\u6301\u591a\u4e2a\u7236\u7c7b\u522b\uff0c\u5982\u4e0b\u6240\u793a\uff1a  </p> <pre><code>$dsdl-version: \"0.5.0\"\nCOCOClassDom[COCOParentDom, ThingsorStuff]:\n$def: class_domain\nclasses:\n- sky[][stuff]               # \u5982\u679c\u6ca1\u6709\u5bf9\u5e94\u7684\u7236\u7c7b\u522b\u5219\u7528\u7a7a\u62ec\u53f7\u8868\u793a\n- horse[animal][things]\n- person[animal][things]\n- bottle[][things]\n- ...\nCOCOParentDom:\n$def: class_domain\nclasses:\n- animal\n- food\n- ...\nThingsorStuff:\n$def: class_domain\nclasses:\n- things\n- stuff\n</code></pre>"},{"location":"dsdl_template/cv/cv_segmentation/#3","title":"3. \u4f7f\u7528\u8bf4\u660e","text":""},{"location":"dsdl_template/nlp/nlp/","title":"\u81ea\u7136\u8bed\u8a00\u5904\u7406","text":""},{"location":"getting_started/Detection/","title":"\u5b9e\u4f8b\u6f14\u793a- \u56fe\u50cf\u5206\u7c7b","text":"<p>\u8be5\u6559\u7a0b\u4ecb\u7ecd\u4e86\u5982\u4f55\u5c06\u4e00\u4e2a\u76ee\u6807\u68c0\u6d4b\u6570\u636e\u96c6\u8f6c\u6362\u4e3aDSDL\u683c\u5f0f\uff0c\u8fd9\u91cc\u4ee5VOC\u4e3a\u4f8b\u505a\u4e00\u4e2a\u4ecb\u7ecd\u3002\u4e3b\u8981\u5305\u542b\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a</p> <ul> <li>\u6570\u636e\u96c6\u8c03\u7814</li> <li>DSDL\u6a21\u677f\u5236\u5b9a</li> <li>\u6570\u636e\u96c6\u8f6c\u6362</li> <li>\u6570\u636e\u96c6\u9a8c\u8bc1</li> </ul>"},{"location":"getting_started/Detection/#_1","title":"\u6570\u636e\u96c6\u8c03\u7814","text":"<p>\u8c03\u7814\u9700\u8981\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li> <p>\u539f\u59cb\u6570\u636e\u96c6\u6587\u4ef6\u7ed3\u6784</p> </li> <li> <p>\u539f\u59cb\u6570\u636e\u96c6\u6807\u6ce8\u7684\u539f\u59cb\u5b57\u6bb5\u53ca\u5176\u542b\u4e49</p> </li> </ul>"},{"location":"getting_started/Detection/#_2","title":"\u539f\u59cb\u6570\u636e\u96c6\u6587\u4ef6\u7ed3\u6784","text":"<pre><code>VOC2007/\n\u251c\u2500\u2500 Annotations/              # \u91cc\u9762\u5b58\u653e\u7684\u662f\u6bcf\u5f20\u56fe\u7247\u6253\u5b8c\u6807\u7b7e\u6240\u5bf9\u5e94\u7684XML\u6587\u4ef6\n\u2502  \u251c\u2500\u2500 000001.xml             # \u67d0\u5f20\u56fe\u7247\u7684\u6807\u6ce8\u4fe1\u606f\n\u2502  \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 ImageSets/                # \u56fe\u7247\u5212\u5206\u7684txt\u5b58\u653e\u4f4d\u7f6e\n\u2502  \u251c\u2500\u2500 Layout                 # \u5305\u542bLayout\u6807\u6ce8\u4fe1\u606f\u7684\u56fe\u50cf\u6587\u4ef6\u540d\u5217\u8868\n\u2502  \u2502  \u251c\u2500\u2500 test.txt \u2502  \u2502  \u251c\u2500\u2500 train.txt \u2502  \u2502  \u251c\u2500\u2500 trainval.txt \u2502  \u2502  \u2514\u2500\u2500 val.txt \u2502  \u251c\u2500\u2500 Main                   # \u5305\u542b\u6240\u6709\u6587\u4ef6\u7684\u5217\u8868\u548c\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 aeroplane_test.txt  # \u6309\u6bcf\u4e2a\u7c7b\u522b\u7684\u8bad\u7ec3\u96c6\u3001\u6d4b\u8bd5\u96c6\u7b49\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 aeroplane_train.txt \u2502  \u2502  \u251c\u2500\u2500 ...\n\u2502  \u2502  \u251c\u2500\u2500 test.txt            # \u5168\u6570\u636e\u96c6\u7684test\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 train.txt           # \u5168\u6570\u636e\u96c6\u7684train\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 trainval.txt \u2502  \u2502  \u2514\u2500\u2500 val.txt \u2502  \u251c\u2500\u2500 Segmentation           # \u5305\u542b\u8bed\u4e49\u5206\u5272\u4fe1\u606f\u56fe\u50cf\u6587\u4ef6\u7684\u5217\u8868\u548c\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 test.txt \u2502  \u2502  \u251c\u2500\u2500 train.txt \u2502  \u2502  \u251c\u2500\u2500 trainval.txt \u2502  \u2502  \u2514\u2500\u2500 val.txt \u251c\u2500\u2500 JPEGImages/               # \u5b58\u653e\u7684\u662f\u8bad\u7ec3\u4e0e\u6d4b\u8bd5\u7684\u6240\u6709\u56fe\u7247\n\u2502  \u251c\u2500\u2500 000001.jpg             # \u56fe\u7247\uff08\u5e8f\u53f7\u4f5c\u4e3a\u56fe\u7247\u540d\uff09 \n\u2502  \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 SegmentationClass/        # \u8bed\u4e49\u5206\u5272\u6807\u6ce8\n\u2502  \u251c\u2500\u2500 000032.png             # \u67d0\u5f20\u56fe\u7247\u7684\u5a92\u4f53\u6587\u4ef6 \n\u2502  \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 SegmentationObject/       # \u5b9e\u4f8b\u5206\u5272\u6807\u6ce8\n\u251c\u2500\u2500 000032.png             # \u67d0\u5f20\u56fe\u7247\u7684\u5a92\u4f53\u6587\u4ef6 \n\u2514\u2500\u2500 ...\n</code></pre> <p>\u6211\u4eec\u8fd9\u91cc\u53ea\u4ee5\u68c0\u6d4b\u4efb\u52a1\u4e3a\u4f8b\u751f\u6210\u6a21\u677f\uff0c\u56e0\u6b64\u53ea\u9700\u8981Annotations/\u3001JPEGImages/\u8fd9\u4e24\u4e2a\u6587\u4ef6\u5939\uff0c\u53e6\u5916\uff0c\u8bad\u7ec3\u6d4b\u8bd5\u96c6\u5212\u5206\uff0c\u9700\u8981\u7528ImageSets/Main/train.txt\u3001val.txt\u3001test.txt\u8fd9\u4e09\u4e2a\u6587\u4ef6\u3002</p>"},{"location":"getting_started/Detection/#_3","title":"\u539f\u59cb\u6570\u636e\u96c6\u6807\u6ce8\u7684\u539f\u59cb\u5b57\u6bb5\u53ca\u5176\u542b\u4e49","text":"<p>\u6807\u6ce8\u7c7b\u578b\u5982\u4e0b\uff08\u4ee5Annotations/000001.xml\u4e3a\u4f8b\uff09\uff1a</p> <pre><code>&lt;annotation&gt;\n&lt;folder&gt;VOC2007&lt;/folder&gt;                         # \u6587\u4ef6\u5939\n   &lt;filename&gt;000001.jpg&lt;/filename&gt;                  # \u56fe\u7247\u6587\u4ef6\u540d\n   &lt;source&gt;                                         # \u56fe\u50cf\u5143\u4fe1\u606f\n      &lt;database&gt;The VOC2007 Database&lt;/database&gt;     # \u6570\u636e\u96c6\u540d\u79f0\n      &lt;annotation&gt;PASCAL VOC2007&lt;/annotation&gt;       # \u6807\u6ce8\u7c7b\u578b\n      &lt;image&gt;flickr&lt;/image&gt;                         # \u6765\u6e90\n      &lt;flickrid&gt;341012865&lt;/flickrid&gt;                # \u6765\u6e90ID\n   &lt;/source&gt;\n&lt;owner&gt;                                          # \u6e90\u4fe1\u606f\n      &lt;flickrid&gt;Fried Camels&lt;/flickrid&gt;\n&lt;name&gt;Jinky the Fruit Bat&lt;/name&gt;\n&lt;/owner&gt;\n&lt;size&gt;\n&lt;width&gt;353&lt;/width&gt;                            # \u56fe\u7247\u5bbd\n      &lt;height&gt;500&lt;/height&gt;                          # \u56fe\u7247\u9ad8 &lt;depth&gt;3&lt;/depth&gt;                              # \u56fe\u7247\u901a\u9053\u6570\n   &lt;/size&gt;\n&lt;segmented&gt;0&lt;/segmented&gt;                         # \u662f\u5426\u7528\u4e8e\u5206\u5272\n   &lt;object&gt;                                         # \u6807\u6ce8\u90e8\u5206 &lt;name&gt;dog&lt;/name&gt;                              # \u6807\u7b7e\n      &lt;pose&gt;Left&lt;/pose&gt;                             # \u59ff\u6001\n      &lt;truncated&gt;1&lt;/truncated&gt;                      # \u7269\u4f53\u662f\u5426\u88ab\u90e8\u5206\u906e\u6321\uff08&gt;15%\uff09\n      &lt;difficult&gt;0&lt;/difficult&gt;                      # \u662f\u5426\u4e3a\u96be\u4ee5\u8fa8\u8bc6\u7684\u7269\u4f53\n      &lt;bndbox&gt;\n&lt;xmin&gt;48&lt;/xmin&gt;                            # \u5de6\u4e0a\u89d2\u70b9\u7684x\n         &lt;ymin&gt;240&lt;/ymin&gt;                           # \u5de6\u4e0a\u89d2\u70b9\u7684y\n         &lt;xmax&gt;195&lt;/xmax&gt;                           # \u53f3\u4e0b\u89d2\u70b9\u7684x\n         &lt;ymax&gt;371&lt;/ymax&gt;                           # \u53f3\u4e0b\u89d2\u70b9\u7684y\n      &lt;/bndbox&gt;\n&lt;/object&gt;\n...\n&lt;/annotation&gt;\n</code></pre> <p>\u8fd9\u91cc\u4ee5ImageSets/Main/train.txt\u4e3a\u4f8b\u5c55\u793a\u4e00\u4e0b\u6570\u636e\u96c6segment\u5212\u5206\u7684\u6587\u4ef6\u5185\u5bb9\uff1a</p> <pre><code>000012         # \u56fe\u7247\u540d\u524d\u7f00\n000017\n000023\n000026\n...\n</code></pre>"},{"location":"getting_started/Detection/#dsdl","title":"DSDL\u6a21\u677f\u5236\u5b9a","text":""},{"location":"getting_started/Detection/#yaml","title":"Yaml\u683c\u5f0f\u89e3\u91ca","text":"<p>\u6700\u7ec8\u9700\u8981\u8f6c\u6210\u7684yaml\u6570\u636e\u96c6\u683c\u5f0f\uff0c\u5728\u8fd9\u91cc\u505a\u4e00\u4e2a\u8be6\u7ec6\u89e3\u91ca\u3002\u8f6c\u6210\u540e\u7684DSDL\u6570\u636e\u96c6\u5305\u542b\u4ee5\u4e0b\u51e0\u4e2a\u91cd\u8981\u7684\u6587\u4ef6\uff1a</p> <ul> <li> <p>struct\u7684\u5b9a\u4e49\u6587\u4ef6\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u6587\u4ef6\u540d\u4e3aobject-detetction.yaml\uff09\uff1a\u8fd9\u4e2a\u6587\u4ef6\u4e3b\u8981\u662f\u5bf9struct\u505a\u4e00\u4e2a\u660e\u786e\u7684\u5b9a\u4e49\uff0c\u53ef\u4ee5\u6709sample\u7684\u7ed3\u6784\u4f53\u548c\u6807\u6ce8\u7684\u7ed3\u6784\u4f53\u7b49\uff0c\u9700\u6307\u660e\u5305\u542b\u4e86\u54ea\u4e9bfield\uff0c\u6bcf\u4e2afield\u7684\u7c7b\u578b\u3002</p> </li> <li> <p>\u7c7b\u522b\u57df\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e3aVOC2007ClassDom.yaml\uff09\uff1a\u91cc\u9762\u5305\u542b\u4e86\u7c7b\u522b\u5217\u8868\uff0c\u5bf9\u5e94category\u7684\u5e8f\u53f7\uff08\u4ece1\u5f00\u59cb\u6392\u5e8f\uff09</p> </li> <li> <p>samples\u6587\u4ef6\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u5206\u522b\u5206\u4e3atrain.yaml\u548ctrain_samples.json)</p> </li> <li>train.yaml\u4e3b\u8981\u662f\u6307\u660e\u5f15\u7528\u54ea\u4e2astruct\u6a21\u677f\u548c\u7c7b\u522b\u57df\u6587\u4ef6\uff0c\u5e76\u4e14\u6307\u660e\u6570\u636e\u7c7b\u578b\u548c\u5b58\u653e\u8def\u5f84\uff0c\u53e6\u5916\u8fd8\u6709\u4e00\u4e9bmeta\u4fe1\u606f</li> <li>train_samples.json\u91cc\u4fdd\u5b58\u4e86\u5b9e\u9645\u7684samples\u4fe1\u606f\uff0c\u5176\u7ec4\u7ec7\u7ed3\u6784\u5fc5\u987b\u548c\u4e4b\u524d\u5b9a\u4e49\u7684\u7ed3\u6784\u4f53\u5339\u914d</li> </ul> <p>\u540e\u8fb9\u4f1a\u5bf9\u76ee\u5f55\u7ed3\u6784\u4ee5\u53ca\u6bcf\u4e00\u4e2a\u6587\u4ef6\u7684\u5185\u5bb9\u8fdb\u884c\u4e00\u4e2a\u8be6\u7ec6\u5c55\u793a\u548c\u89e3\u91ca\u3002</p>"},{"location":"getting_started/Detection/#dsdl_1","title":"DSDL\u6570\u636e\u96c6\u76ee\u5f55","text":"<pre><code>VOC2007-dsdl/\n\u251c\u2500\u2500 doms/                          \n\u2502  \u251c\u2500\u2500 object-detection.yaml       # struct\u5b9a\u4e49\u6587\u4ef6\n\u2502  \u2514\u2500\u2500 VOC2007ClassDom.yaml        # VOC\u6570\u636e\u96c6\u7684\u7c7b\u522b\u57df\n\u251c\u2500\u2500 train/                         # \u8bad\u7ec3\u96c6\n\u2502  \u251c\u2500\u2500 train.yaml                  # \u8bad\u7ec3\u7684yaml\u6587\u4ef6\n\u2502  \u2514\u2500\u2500 train_samples.json          # \u8bad\u7ec3\u96c6sample\u7684json\u6587\u4ef6\n\u251c\u2500\u2500 val/                           # \u9a8c\u8bc1\u96c6\n\u2502  \u251c\u2500\u2500 val.yaml\n\u2502  \u2514\u2500\u2500 val_samples.json          \n\u2514\u2500\u2500 test/                          # \u6d4b\u8bd5\u96c6\n   \u251c\u2500\u2500 test.yaml\n   \u2514\u2500\u2500 test_samples.json          \n</code></pre>"},{"location":"getting_started/Detection/#_4","title":"\u6a21\u677f\u53ca\u6807\u6ce8\u6587\u4ef6","text":"<ol> <li>object-detection.yaml\uff1a\u8fd9\u4e2a\u6587\u4ef6\u4e3b\u8981\u662f\u5b9a\u4e49struct\u7684yaml\u6587\u4ef6\uff0c\u91cc\u9762\u7684\u5b57\u6bb5\u540d\u79f0\u53ef\u4ee5\u6839\u636e\u539f\u59cb\u6570\u636e\u96c6\u8fdb\u884c\u4e00\u4e2a\u4fee\u6539\u548c\u9002\u5e94\uff08\u5c3d\u91cf\u4fdd\u7559\u539f\u59cb\u6570\u636e\u96c6\u7684\u5b57\u6bb5\u540d\u79f0\u548c\u7ed3\u6784\uff09\uff0c\u4f46\u662f\u5b57\u6bb5\u7c7b\u578b\u4e00\u5b9a\u8981\u4f7f\u7528\u53ef\u8bc6\u522b\u7684\u6570\u636e\u7c7b\u578b\uff08\u53ef\u8bc6\u522b\u7684\u6570\u636e\u7c7b\u578b\u8be6\u89c1\uff1ahttps://opendatalab.github.io/dsdl-docs/zh/lang/basic_types/\uff09</li> </ol> <pre><code>$dsdl-version: \"0.5.0\"\nLocalObjectEntry:                                    $def: struct                                     $params: [\"cdom\"]\n$fields:                                        _bbox: BBox\n_category: Label[dom=$cdom]                                             pose: Str      truncated: Bool\ndifficult: Bool\nObjectDetectionSample:\n$def: struct\n$params: [\"cdom\"]\n$fields:\nmedia_path: Image\nfolder: Str\nsource: Dict\nowner: Dict\nheight: Int\nwidth: Int\ndepth: Int\nsegmented: Bool\n_objects: List[etype=LocalObjectEntry[cdom=$cdom]]\n</code></pre> <p>\u5b57\u6bb5\u542b\u4e49\u89e3\u91ca\u53ca\u5bf9\u5e94\u5173\u7cfb\uff1a</p> <p>\uff08\u6ca1\u6709\u63d0\u5230\u7684\u5b57\u6bb5\u90fd\u662f\u4e0e\u539f\u6570\u636e\u96c6\u540c\u540d\u5bf9\u5e94\u7684\u5b57\u6bb5\uff0c\u53e6\u5916\uff0c\u547d\u540d\u4e2d\u4ee5\u4e0b\u5212\u7ebf\u5f00\u5934\u7684\u4e00\u822c\u90fd\u662f\u6211\u4eec\u81ea\u9002\u5e94\u7684\u5b57\u6bb5\uff0c\u5373\u539f\u6570\u636e\u96c6\u6ca1\u6709\u7684\u5b57\u6bb5\uff09</p> <ul> <li>\u5728ObjectDetectionSample\u4e2d\uff1a</li> <li>media_path\uff1a\u8be5\u5b57\u6bb5\u662f\u6211\u4eec\u81ea\u9002\u5e94\u7684\u5b57\u6bb5\uff0c\u7528\u4e8e\u50a8\u5b58\u56fe\u50cf\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u4e3b\u8981\u4ece\u539f\u59cb\u6570\u636e\u96c6\u7684filename\u5b57\u6bb5\u8f6c\u5316\u800c\u6765</li> <li>_objects\uff1a\u8be5\u5b57\u6bb5\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684object\u5b57\u6bb5\uff0c\u4ee5List\u7684\u5f62\u5f0f\u5b58\u50a8\u5177\u4f53bounding box\u7684\u6807\u6ce8\u4fe1\u606f</li> <li>source\uff1a\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684source\u5b57\u6bb5\uff0c\u4e3a\u4e00\u4e2a\u5b57\u5178\u5f62\u5f0f\uff0c\u91cc\u9762\u7684keys\u5206\u522b\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u91cc\u7684source\u5b57\u6bb5\u4e0b\u7684database\u3001annotation\u3001image\u3001flickerid\u5b57\u6bb5</li> <li>owner\uff1a\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684owner\u5b57\u6bb5\uff0c\u4e3a\u4e00\u4e2a\u5b57\u5178\u5f62\u5f0f\uff0c\u91cc\u9762\u7684keys\u5206\u522b\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u91cc\u7684owner\u5b57\u6bb5\u4e0b\u7684flickerid\u548cname\u5b57\u6bb5</li> <li> <p>width\u3001height\u3001depth\uff1a\u662f\u539f\u59cb\u6570\u636e\u96c6\u7684size\u5b57\u6bb5\u4e0b\u7684</p> </li> <li> <p>\u5728LocalObjectEntry\u4e2d\uff1a</p> </li> <li>_bbox\uff1a\u5bf9\u5e94\u539f\u6570\u636e\u96c6\u7684bndbox\u5b57\u6bb5\uff0c\u4f46\u8f6c\u5316\u4e3abbox\u6807\u51c6\uff0c\u5373[x,y,w,h]</li> <li> <p>_category\uff1a\u662f\u8be5\u76ee\u6807\u7684\u7c7b\u522b\u5bf9\u5e94\u7684\u7c7b\u522b\u6807\u53f7\uff0c\u5bf9\u5e94\u7684\u662f\u539f\u6570\u636e\u96c6\u7684name\u5b57\u6bb5\uff0c\u7c7b\u522b\u6807\u53f7\u53ef\u4ee5\u53c2\u89c1\u4e0b\u9762\u7684VOC2007ClassDom.yaml</p> </li> <li> <p>VOC2007ClassDom.yaml\uff1a\u8fd9\u662f\u4e00\u4e2a\u7c7b\u522b\u5b9a\u4e49\u7684Dom\u6587\u6863</p> </li> </ul> <pre><code>$dsdl-version: \"0.5.0\"\nVOC2007ClassDom:\n$def: class_domain\nclasses:\n- aeroplane                   # \u5bf9\u5e94category\u4e3a1\n- bicycle                     # \u5bf9\u5e94category\u4e3a2\n- bird\n- boat\n- bottle\n- bus\n- car\n- cat\n- chair\n- cow\n- diningtable\n- dog\n- horse\n- motorbike\n- person\n- pottedplant\n- sheep\n- sofa\n- train\n- tvmonitor\n</code></pre> <ol> <li>train.yaml\uff1a\u8fd9\u4e2a\u6587\u6863\u5f15\u7528\u4e86\u4e4b\u524d\u5b9a\u4e49\u7684\u4e24\u4e2a\u6587\u6863\uff0c\u5e76\u4e14\u6307\u5f15\u4e86\u5177\u4f53\u7684sample\u8def\u5f84\uff08test.yaml\u548cval.yaml\u7c7b\u4f3c\uff0c\u53ea\u662f\u4fee\u6539\u5bf9\u5e94sample-path\u548csub_dataset_name\u5b57\u6bb5\uff09</li> </ol> <pre><code>$dsdl-version: \"0.5.0\"\n$import:\n- VOC2007ClassDom\n- object-detection\nmeta:\ndataset_name: \"VOC2007\"\nprotocol_version: \"v0.3rc3\"\nsub_dataset_name: \"train\"\ndata:\nsample-type: ObjectDetectionSample[cdom=VOC2007ClassDom]\nsample-path: train_samples.json\n</code></pre> <ol> <li>\u5176\u4e2dtrain_samples.json\u9700\u8981\u6211\u4eec\u5199\u811a\u672c\u4ece\u539f\u59cb\u6570\u636e\u96c6\u8f6c\u6362\u6765\uff0c\u6ce8\u610f\uff0c\u91cc\u9762\u7684\u5b57\u6bb5\u9700\u8981\u548c\u4e4b\u524d\u5b9a\u4e49\u7684struct\u5bf9\u5e94\uff0c\u6700\u7ec8\u6837\u5f0f\u5982\u4e0b\uff1a</li> </ol> <pre><code>{\"samples\": [\n{\n\"_media_path\": \"JPEGImages/000001.jpg\",\n\"folder\": \"VOC2007\",\n\"source\": {\n\"database\": \"The VOC2007 Database\", \"annotation\": \"PASCAL VOC2007\",\n\"flickrid\": \"341012865\"\n},\n\"owner\":{\n\"flickrid\": \"Fried Camels\",\n\"name\": \"Jinky the Fruit Bat\"\n},\n\"height\": 640, \"width\": 480,\n\"depth\": 3,\n\"segmented\": 0,\n\"_objects\": [\n{\n\"_bbox\": [120.24, 0.32, 359.76, 596.04], \"_category\": 1, \"pose\": \"Left\", \"truncated\": 1, \"difficult\": 0   }, ...\n]\n},\n...\n]}\n</code></pre> <p>\u6ce8\u610f\uff0c\"samples\"\u5b57\u6bb5\u662f\u5fc5\u987b\u7684\uff08\u4e0d\u53ef\u6539\u540d\uff09\uff0c\u4e14\u7ec4\u7ec7\u5f62\u5f0f\u4e5f\u4e0d\u80fd\u6539\u53d8\uff0c\u5373\uff1a\u5fc5\u987b\u662f\u5b57\u5178\u5f62\u5f0f\uff0c\u5b57\u5178\u6709\u4e00\u4e2a\u952e\u4e3a\"samples\"\uff0c\u5176\u503c\u4e3a\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u7684\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u662f\u4e00\u4e2asample\u7c7b\u7684\u5b9e\u4f8b\uff08\u5373\u672c\u6848\u4f8b\u4e2d\u7684ObjectDetectionSample\u7c7b\uff09\u3002</p>"},{"location":"getting_started/Detection/#_5","title":"\u6570\u636e\u96c6\u8f6c\u6362","text":"<p>\u8fd9\u4e00\u8282\u63d0\u4f9b\u4e86\u9488\u5bf9\u4e4b\u524d\u5b9a\u4e49\u7684yaml\u6587\u4ef6\u5bf9\u5e94\u751f\u6210sample.json\u6587\u4ef6\u7684\u8f6c\u6362\u811a\u672c\uff0c\u8fd9\u4e2a\u811a\u672c\u53ef\u4ee5\u751f\u6210\u8bad\u7ec3\u3001\u6d4b\u8bd5\u548c\u9a8c\u8bc1\u4e09\u4e2asamples.json\u6587\u4ef6\uff08\u8f6c\u6362\u811a\u672c\u53ef\u81ea\u884c\u4f18\u5316\uff09\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6570\u636e\u96c6\u91cc\u7684\u6bcf\u4e2a\u5b57\u6bb5\u90fd\u9700\u8981\u548c\u4e4b\u524d\u5b9a\u4e49\u7684ObjectDetectionSample\u7c7b\u5bf9\u5e94\uff08\u65e0\u8bba\u662f\u5b57\u6bb5\u540d\uff0c\u8fd8\u662f\u5176\u503c\u7684\u7c7b\u578b\uff09\uff0c\u4e0d\u8981\u81ea\u884c\u589e\u52a0\u6216\u8005\u51cf\u5c11\u5b57\u6bb5\u3002</p> <p>\u8f6c\u6362\u811a\u672c\u5982\u4e0b\uff1a</p> <pre><code>#!/usr/bin/env python3\n#\n# Copyright 2022 Shanghai Artificial Intelligence Laboratory. All rights reserved.\n#\n\"\"\"\nThis file implements the generator of the VOC2007 DSDL format dataset.\n\"\"\"\nimport itertools\nimport itertools\nimport yaml\nimport os\nfrom xml.etree import ElementTree\nimport json\nf = open('train/VOC2007ClassDom.yaml', 'r')\ndata = yaml.safe_load(f)\ncategory_list = data['VOC2007ClassDom']['classes']\n_VOC_CATEGORY_DICT = {_name: (_ind + 1) for _ind, _name in enumerate(category_list)}\nroot_path = '/home/PJLAB/ouyanglinke/mmdetection-master/data/VOCdevkit/VOC2007'\nanno_paths = os.path.join(root_path, \"Annotations\")\nsegmentation = ['train', 'val', 'test']\nann_id_gen = itertools.count()\nfor seg in segmentation:\nseg_path = os.path.join(root_path, 'ImageSets', 'Main', seg + '.txt')\ntry:\nwith open(seg_path, 'r') as f:\nseg_list = f.readlines()\nexcept:\nprint('The segmentation file {} cannot be open, it will be skipped.'.format(seg_path))\ncontinue\nsamples = []\nfor anno_id in seg_list:\nanno_path = os.path.join(root_path, 'Annotations', anno_id.strip() + '.xml')\ntry:\nwith open(anno_path, 'r') as f:\nanno_tree = ElementTree.parse(f)\nexcept:\nprint('The annotation file {} cannot read, it will be skipped.'.format(anno_path))\ncontinue\nsample = {\n'media_path': os.path.join('JPEGImages', anno_tree.find('filename').text),\n'folder': '',\n'source': {\n'database': anno_tree.find('source').find('database').text,\n'annotation': anno_tree.find('source').find('annotation').text,\n'flickrid': anno_tree.find('source').find('flickrid').text,\n},\n'owner': {\n'flickrid': anno_tree.find('owner').find('flickrid').text,\n'name': anno_tree.find('owner').find('name').text\n},\n'height': int(anno_tree.find('size').find('height').text),\n'width': int(anno_tree.find('size').find('width').text),\n'depth': int(anno_tree.find('size').find('depth').text),\n'segmented': int(anno_tree.find('segmented').text),\n'_objects': []\n}\nfor obj in anno_tree.iter('object'):\nxmin, ymin, xmax, ymax = [float(obj.find('bndbox').find(boxes).text) for boxes in ['xmin', 'ymin', 'xmax', 'ymax']]\nsample['_objects'].append({\n'_bbox': [xmin, ymin, xmax-xmin, ymax-ymin],\n'_category': _VOC_CATEGORY_DICT[obj.find('name').text],\n'pose': obj.find('pose').text,\n'truncated': int(obj.find('truncated').text),\n'difficult': int(obj.find('difficult').text)\n})\nsamples.append(sample)\nsamples_save = {'samples': samples}\nsave_path = os.path.join(seg, seg + '_samples_v2.json')\nwith open(save_path, 'w') as f:\njson.dump(samples_save, f)\n</code></pre>"},{"location":"getting_started/Detection/#_6","title":"\u6570\u636e\u96c6\u9a8c\u8bc1","text":"<p>\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u81ea\u52a8\u9a8c\u8bc1\u7684\u65b9\u6cd5\u5982\u4e0b\u3002</p> <pre><code>dsdl check -y xxx.yaml -c config.py -l ali-oss -t detection -p ./ -o ./\n### -y \u4e3a\u8f93\u5165\u7684yaml\u6587\u4ef6\n### -c \u4e3a\u6570\u636e\u96c6\u7684\u8bfb\u53d6\u914d\u7f6e\uff08\u8bb0\u5f55\u4e86\u6570\u636e\u96c6\u5728\u963f\u91cc\u4e91/\u672c\u5730\u7684\u4f4d\u7f6e\uff09\uff0c\u4e3b\u8981\u5f62\u5f0f\u5982\u4e0b\uff1a\nlocal = dict(\ntype=\"LocalFileReader\",\nworking_dir=\"local path of your media\",\n)\nali_oss = dict(\ntype=\"AliOSSFileReader\",\naccess_key_secret=\"your secret key of aliyun oss\",\nendpoint=\"your endpoint of aliyun oss\",\naccess_key_id=\"your access key of aliyun oss\",\nbucket_name=\"your bucket name of aliyun oss\",\nworking_dir=\"the relative path of your media dir in the bucket\")\n### -l \u4e3a\u6307\u5b9a\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 ali-oss \u6216 local\n### -t \u4e3a\u6307\u5b9a\u5f53\u524dyaml\u7684\u4efb\u52a1\u7c7b\u522b\uff0c\u5f53\u524d\u652f\u6301\u7684\u4efb\u52a1\u7c7b\u522b\u6709\uff08detection\uff0csegmentation\uff0cclassification\uff09\n### -p yaml\u6587\u4ef6\u5bfc\u5165\u7684\u5e93\u6587\u4ef6\u6240\u5728\u7684\u8def\u5f84\u5730\u5740\n### -o \u4e3a\u8f93\u51fa\u7684\u6587\u4ef6\u5939\uff0c\u5305\u542b\u56fe\u7247\u548cmd\u6587\u6863\uff0c\u6ce8\u610f\u6253\u5305\u4e0b\u8f7d\n</code></pre> <p>\u6700\u7ec8\u83b7\u5f97\u7684\u62a5\u544a\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li>parser\u68c0\u67e5\u7ed3\u679c\uff1a\u7ed3\u679c\u5305\u62ec\u4e86parse\u7ed3\u679c\u662f\u5426\u6210\u529f\uff0c\u5982\u679c\u4e0d\u6210\u529f\uff0c\u5219\u53ef\u4ee5\u67e5\u770b\u5177\u4f53\u7684\u62a5\u9519\u4fe1\u606f</li> <li>samples\u5b9e\u4f8b\u5316\u68c0\u67e5\u7ed3\u679c\uff1a\u5176\u4e2d\u62a5\u544a\u8bf4\u660e\u4e86\u5f53\u524d\u6570\u636e\u96c6\u5171\u6709\u6837\u672c\u4e2a\u6570\uff0c\u6b63\u5e38\u6837\u672c\u4e2a\u6570\uff0c\u8b66\u544a\u6837\u672c\u4e2a\u6570\uff0c\u9519\u8bef\u6837\u672c\u4e2a\u6570\uff0c\u5e76\u63d0\u4f9b\u4e86\u5f02\u5e38\u6837\u672c\u7684\u5177\u4f53\u4fe1\u606f\u65e5\u5fd7</li> <li>\u53ef\u89c6\u5316\u7ed3\u679c\uff1a\u9700\u8981\u8089\u773c\u89c2\u5bdf\u53ef\u89c6\u5316\u7ed3\u679c\u662f\u5426\u6b63\u786e\uff0c\u6bd4\u5982bbox\u4f4d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u6807\u7b7e\u5185\u5bb9\u662f\u5426\u6b63\u786e\u7b49\u3002\u5728\u56fe\u7247\u4e0b\u9762\u5c55\u793a\u4e86\u53ef\u89c6\u5316\u8fc7\u7a0b\u4e2d\u7684\u65e5\u5fd7\u5185\u5bb9\uff0c\u6bd4\u5982\u662f\u53ef\u89c6\u5316\u6210\u529f\u8fd8\u662f\u5931\u8d25\uff0c\u4ee5\u53ca\u5931\u8d25\u65e5\u5fd7\u7b49\u3002</li> </ul>"},{"location":"getting_started/install/","title":"\u5b89\u88c5\u90e8\u7f72","text":""},{"location":"getting_started/install/#_1","title":"\u73af\u5883\u4f9d\u8d56","text":"<ul> <li>Python3.8+</li> </ul>"},{"location":"getting_started/install/#dsdl-sdk","title":"DSDL-SDK\u5b89\u88c5","text":"<p>\u4e3a\u4e86\u4f7f\u7528DSDL\u76f8\u5173\u7684\u529f\u80fd\uff0c\u6211\u4eec\u63a8\u8350\u5b89\u88c5DSDL-SDK\u3002\u63d0\u4f9b\u4e24\u79cd\u5b89\u88c5\u65b9\u5f0f\uff1a</p>"},{"location":"getting_started/install/#1-pip","title":"1. pip \u5b89\u88c5","text":"<pre><code>pip install dsdl\n</code></pre>"},{"location":"getting_started/install/#2","title":"2. \u6e90\u7801\u5b89\u88c5\uff08\u63a8\u8350\uff09","text":"<p>\u7531\u4e8eDSDL\u6b63\u5728\u5f00\u53d1\u5185\u6d4b\u9636\u6bb5\uff0c\u63a8\u8350\u4f7f\u7528\u6e90\u7801\u5b89\u88c5\uff0c\u4ee5\u83b7\u53d6\u6700\u65b0\u7684\u7248\u672c\u66f4\u65b0\u3002</p> <pre><code>git clone -b dev-alg https://github.com/opendatalab/dsdl-sdk.git\ncd dsdl\npython setup.py install\n</code></pre>"},{"location":"getting_started/install/#opendatalab-cli","title":"OpenDataLab-CLI\u5b89\u88c5","text":"<p>\u4e3a\u4e86\u66f4\u65b9\u4fbf\u5730\u83b7\u53d6\u539f\u59cb\u6570\u636e\u96c6\u548cDSDL\u6570\u636e\u96c6\uff0c\u63a8\u8350\u7528\u6237\u4e0b\u8f7dOpenDataLab CLI\u5de5\u5177\u3002</p>"},{"location":"getting_started/install/#1-pip_1","title":"1. pip \u5b89\u88c5","text":"<pre><code># \u5b89\u88c5\npip install opendatalab\n\n# \u7248\u672c\u5347\u7ea7\npip install -U opendatalab\n</code></pre>"},{"location":"getting_started/install/#2_1","title":"2. \u6570\u636e\u96c6\u83b7\u53d6","text":"<pre><code>odl login                       # \u767b\u5f55\nodl info &lt;\u6570\u636e\u96c6\u552f\u4e00\u6807\u8bc6\u540d&gt;      # \u67e5\u770b\u6b64\u6570\u636e\u96c6\u7684\u5143\u6570\u636e\nodl ls   &lt;\u6570\u636e\u96c6\u552f\u4e00\u6807\u8bc6\u540d&gt;      # \u67e5\u770b\u6b64\u6570\u636e\u96c6\u7684\u6587\u4ef6\u5217\u8868\nodl get  &lt;\u6570\u636e\u96c6\u552f\u4e00\u6807\u8bc6\u540d&gt;      # \u4e0b\u8f7d\u6b64\u6570\u636e\u96c6\n</code></pre> <p>\u6570\u636e\u96c6\u552f\u4e00\u6807\u8bc6\u540d\u53ef\u4ee5\u5728OpenDataLab\u5b98\u7f51\u83b7\u53d6\uff0c\u6b64\u5916\uff0c\u6570\u636e\u96c6\u4e5f\u53ef\u4ee5\u4ece\u7f51\u9875\u7aef\u76f4\u63a5\u4e0b\u8f7d\u3002</p>"},{"location":"getting_started/overview/","title":"\u6574\u4f53\u4ecb\u7ecd","text":""},{"location":"getting_started/overview/#dsdl","title":"DSDL\u7b80\u4ecb","text":"<p>\u6570\u636e\u96c6\u63cf\u8ff0\u8bed\u8a00DSDL\uff08Data Set Description Language\uff09\u65e8\u5728\u63d0\u4f9bAI\u6570\u636e\u96c6\u7edf\u4e00\u89c4\u8303\uff0c\u4f7f\u7528\u6237\u53ef\u4ee5\u9ad8\u6548\u4fbf\u6377\u5730\u4f7f\u7528\u591a\u9886\u57df\u4eba\u5de5\u667a\u80fd\u6570\u636e\u3002</p> <ol> <li> <p>\u4e3a\u4e86\u65b9\u4fbf\u7528\u6237\u5feb\u6377\u83b7\u53d6\u6570\u636e\uff0c\u6211\u4eec\u642d\u5efa\u4e86AI\u6570\u636e\u96c6\u5e73\u53f0\u3010OpenDataLab\u3011\uff0c\u5e73\u53f0\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ul> <li>\u6570\u636e\u96c6LICENSE\u58f0\u660e\uff0c\u4fdd\u8bc1\u6570\u636e\u96c6\u4f7f\u7528\u5408\u89c4\u6027\uff1b</li> <li>\u6c47\u805a\u4e30\u5bcc\u7684\u516c\u5f00AI\u6570\u636e\u96c6\u8d44\u6e90\uff0c\u6db5\u76d6\u5404\u884c\u4e1a\u3001\u5404\u7814\u7a76\u9886\u57df\u7684\u9ad8\u8d28\u91cf\u6570\u636e\u96c6\uff1b</li> <li>\u63d0\u4f9b\u591a\u7ef4\u6570\u636e\u68c0\u7d22\u80fd\u529b\u53ca\u6570\u636e\u96c6\u9ad8\u901f\u4e0b\u8f7d\u652f\u6301\u3002</li> </ul> </li> <li> <p>\u4e3a\u4e86\u65b9\u4fbf\u7528\u6237\u9ad8\u6548\u4f7f\u7528\u6570\u636e\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86AI\u6570\u636e\u96c6\u63cf\u8ff0\u8bed\u8a00\u3010DSDL\u3011\uff1a</p> <ul> <li>\u7528\u6237\u53ef\u4ee5\u8bfb\u53d6AI\u5a92\u4f53\u6570\u636e\u53ca\u5bf9\u5e94\u6807\u6ce8\uff0c\u65e0\u9700\u8fdb\u884c\u7e41\u7410\u7684\u683c\u5f0f\u8f6c\u6362\u64cd\u4f5c</li> <li>\u7528\u6237\u53ef\u4ee5\u7528\u7edf\u4e00\u63a5\u53e3\u64cd\u4f5c\u5404\u79cd\u4efb\u52a1\u53ca\u6a21\u6001\u6570\u636e\uff0c\u4fbf\u6377\u7075\u6d3b\u5730\u7ec4\u5408\u4f7f\u7528\u591a\u4efb\u52a1\uff0c\u591a\u6a21\u6001\u6570\u636e</li> </ul> </li> </ol>"},{"location":"getting_started/overview/#dsdl_1","title":"DSDL\u76ee\u6807\u7528\u6237","text":"<p>DSDL\u6838\u5fc3\u76ee\u6807\u662f\u7edf\u4e00AI\u6570\u636e\u96c6\u6807\u6ce8\u89c4\u8303\uff0c\u6253\u901a\u4e0d\u540c\u4efb\u52a1\u53ca\u6a21\u6001\u95f4\u6570\u636e\u5173\u8054\uff0c\u5176\u76ee\u6807\u7528\u6237\u5305\u542b\uff1a</p> <ul> <li> <p><code>AI\u521d\u5b66\u8005</code>\uff1a\u5bf9\u4e8e\u5f00\u59cb\u63a5\u89e6AI\u7814\u7a76\u7684\u65b0\u7528\u6237\uff0c\u65e0\u9700\u82b1\u8d39\u5927\u91cf\u65f6\u95f4\u5bf9\u6570\u636e\u96c6\u683c\u5f0f\u3001\u5185\u5bb9\u8fdb\u884c\u5206\u6790\u3002\u6211\u4eec\u63d0\u524d\u5bf9AI\u5404\u4e2a\u9886\u57df\u7684\u4e3b\u6d41\u6570\u636e\u96c6\u8fdb\u884cDSDL\u6807\u51c6\u5316\u64cd\u4f5c\uff08DSDL\u6807\u51c6\u5316\u6570\u636e\u5217\u8868\uff09\uff0cDSDL\u53ef\u4ee5\u6e05\u6670\u7b80\u6d01\u5730\u63d0\u4f9b\u6570\u636e\u5143\u4fe1\u606f\u3001\u6807\u6ce8\u4fe1\u606f\uff0c\u7528\u6237\u4e00\u76ee\u4e86\u7136\uff0c\u5e76\u4e14\u53ef\u76f4\u63a5\u4f7f\u7528\u7edf\u4e00\u63a5\u53e3\u8fdb\u884c\u8bad\u7ec3\u63a8\u7406\u64cd\u4f5c\u3002  </p> </li> <li> <p><code>\u7279\u5b9a\u9886\u57df\u7814\u7a76/\u5f00\u53d1</code>\uff1a\u6211\u4eec\u5bf9\u5927\u90e8\u5206\u4e3b\u6d41\u6570\u636e\u96c6\u8fdb\u884cDSDL\u6807\u51c6\u5316\uff0c\u540c\u65f6\u63d0\u4f9b\u7edf\u4e00\u7684Dataset\u51fd\u6570\u63a5\u53e3\uff0c\u7528\u6237\u4f7f\u7528\u5404\u79cd\u6570\u636e\u66f4\u52a0\u4fbf\u6377\u3002  </p> </li> <li> <p><code>\u5927\u6a21\u578b\u7814\u7a76/\u5f00\u53d1</code>\uff1a\u5927\u6a21\u578b\u7814\u7a76\u901a\u5e38\u9700\u8981\u5927\u91cf\u7684\u6570\u636e\u83b7\u53d6\uff0c\u9884\u5904\u7406\u64cd\u4f5c\u3002OpenDataLab\u53ef\u4ee5\u5feb\u901f\u83b7\u53d6\u5404\u7c7b\u6570\u636e\uff0cDSDL\u4f7f\u5f97\u4e0d\u540c\u4efb\u52a1\u548c\u6a21\u6001\u6570\u636e\u4ee5\u7edf\u4e00\u89c4\u8303\u63cf\u8ff0\u3002\u7528\u6237\u53ef\u7075\u6d3b\u9ad8\u6548\u7ec4\u5408\u4f7f\u7528\u6240\u9700\u6570\u636e\u3002</p> </li> </ul>"},{"location":"getting_started/overview/#dsdl_2","title":"DSDL\u5b66\u4e60\u4f7f\u7528","text":"<p>\u5bf9\u4e8e\u521d\u6b21\u4f7f\u7528DSDL\u7684\u7528\u6237\uff0c\u8bf7\u5148\u5b89\u88c5\u90e8\u7f72DSDL-SDK\uff0c\u6211\u4eec\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u4e0b\u8ff0\u5b66\u4e60\u8d44\u6e90\uff1a</p> <p>\u5feb\u901f\u5f00\u59cb\uff1a\u5e2e\u52a9\u7528\u6237\u5feb\u901f\u4e86\u89e3DSDL\u6570\u636e\u96c6\u4e0b\u8f7d\u3001\u4f7f\u7528\u65b9\u6cd5\u3002</p> <p>\u7528\u6237\u6559\u7a0b\uff1a\u63d0\u4f9b\u6570\u636e\u96c6\u4e0b\u8f7d\u3001\u9884\u5904\u7406\u3001\u6570\u636e\u5206\u6790\u3001\u6a21\u578b\u8bad\u7ec3\u3001\u6a21\u578b\u63a8\u7406\u7cfb\u7edf\u6027\u6559\u7a0b\u3002</p> <p>DSDL\u4efb\u52a1\u6a21\u677f\uff1a\u5e2e\u52a9\u7528\u6237\u5feb\u901f\u4e86\u89e3\u76f8\u5173\u4efb\u52a1DSDL\u6a21\u677f\u5b9a\u4e49\uff0c\u9ad8\u6548\u5b8c\u6210\u6570\u636e\u96c6\u8f6c\u6362\u5de5\u4f5c\u3002</p> <p>DSDL\u8bed\u8a00\u6559\u7a0b\uff1a\u7528\u6237\u4e86\u89e3\u5e76\u7cfb\u7edf\u6027\u5b66\u4e60DSDL\u8bed\u8a00\u3002</p> <p>\u9ad8\u9636\u6559\u7a0b\uff1a\u4ecb\u7ecdDSDL\u4efb\u52a1\u62d3\u5c55\u3001\u6570\u636e\u96c6\u8f6c\u6362\u3001\u53caDSDL Dataset\u5f00\u53d1\u6d41\u7a0b\u3002</p> <p>\u5982\u5bf9DSDL\u6709\u4efb\u4f55\u7591\u95ee\uff0c\u6b22\u8fce\u5728GitHub\u9875\u9762\u63d0issue\u8fdb\u884c\u54a8\u8be2\u3002</p>"},{"location":"getting_started/quick_start/","title":"\u5feb\u901f\u5165\u95e8","text":"<p>\u672c\u6559\u7a0b\u5c06\u4f7f\u7528 <code>PASCAL VOC 2007</code>\u68c0\u6d4b\u6570\u636e\u96c6\u4e3a\u4f8b\uff0c\u6f14\u793a\u6570\u636e\u5904\u7406\u53ca\u6a21\u578b\u8bad\u7ec3\u5168\u6d41\u7a0b\u3002</p>"},{"location":"getting_started/quick_start/#1","title":"1. \u6570\u636e\u96c6\u4e0b\u8f7d","text":"<pre><code>odl get VOC07-det\n</code></pre> <p>\u51fa\u73b0\u5982\u4e0b\u65e5\u5fd7\uff0c\u8bf4\u660e\u6570\u636e\u96c6\u5df2\u7ecf\u4e0b\u8f7d\u5b8c\u6210\u3002</p> <pre><code>saving to {your home path}/datasets/VOC07-det\npreparing...\nstart download...\nDownload |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 100.0%, Eta 0 seconds\nDownload Complete\nregister local dataset...\n</code></pre> <p>\u4e0b\u8f7d\u5b8c\u6210\u540e\u9700\u8981\u8fdb\u884c\u89e3\u538b\uff08\u89e3\u538b\u6b65\u9aa4\u53ef\u4ee5\u53c2\u8003\u6559\u7a0b\u6570\u636e\u96c6\u51c6\u5907\uff09\uff0c\u89e3\u538b\u5b8c\u6210\u540e\uff0c\u539f\u59cb\u6570\u636e\u96c6\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a</p> voc\u6570\u636e\u96c6\u539f\u59cb\u76ee\u5f55\u7ed3\u6784 <pre><code>original/                     # \u539f\u59cb\u6570\u636e\u96c6\u6587\u4ef6\u5939\n\u251c\u2500\u2500 Annotations/              # \u91cc\u9762\u5b58\u653e\u7684\u662f\u6bcf\u5f20\u56fe\u7247\u6253\u5b8c\u6807\u7b7e\u6240\u5bf9\u5e94\u7684XML\u6587\u4ef6\n\u2502  \u251c\u2500\u2500 000001.xml             # \u67d0\u5f20\u56fe\u7247\u7684\u6807\u6ce8\u4fe1\u606f\n\u2502  \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 ImageSets/                # \u56fe\u7247\u5212\u5206\u7684txt\u5b58\u653e\u4f4d\u7f6e\n\u2502  \u251c\u2500\u2500 Layout                 # \u5305\u542bLayout\u6807\u6ce8\u4fe1\u606f\u7684\u56fe\u50cf\u6587\u4ef6\u540d\u5217\u8868\n\u2502  \u2502  \u251c\u2500\u2500 test.txt \n\u2502  \u2502  \u251c\u2500\u2500 train.txt \n\u2502  \u2502  \u251c\u2500\u2500 trainval.txt \n\u2502  \u2502  \u2514\u2500\u2500 val.txt \n\u2502  \u251c\u2500\u2500 Main                   # \u5305\u542b\u6240\u6709\u6587\u4ef6\u7684\u5217\u8868\u548c\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 aeroplane_test.txt  # \u6309\u6bcf\u4e2a\u7c7b\u522b\u7684\u8bad\u7ec3\u96c6\u3001\u6d4b\u8bd5\u96c6\u7b49\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 aeroplane_train.txt \n\u2502  \u2502  \u251c\u2500\u2500 ...\n\u2502  \u2502  \u251c\u2500\u2500 test.txt            # \u5168\u6570\u636e\u96c6\u7684test\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 train.txt           # \u5168\u6570\u636e\u96c6\u7684train\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 trainval.txt \n\u2502  \u2502  \u2514\u2500\u2500 val.txt \n\u2502  \u251c\u2500\u2500 Segmentation           # \u5305\u542b\u8bed\u4e49\u5206\u5272\u4fe1\u606f\u56fe\u50cf\u6587\u4ef6\u7684\u5217\u8868\u548c\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 test.txt \n\u2502  \u2502  \u251c\u2500\u2500 train.txt \n\u2502  \u2502  \u251c\u2500\u2500 trainval.txt \n\u2502  \u2502  \u2514\u2500\u2500 val.txt \n\u251c\u2500\u2500 JPEGImages/               # \u5b58\u653e\u7684\u662f\u8bad\u7ec3\u4e0e\u6d4b\u8bd5\u7684\u6240\u6709\u56fe\u7247\n\u2502  \u251c\u2500\u2500 000001.jpg             # \u56fe\u7247\uff08\u5e8f\u53f7\u4f5c\u4e3a\u56fe\u7247\u540d\uff09 \n\u2502  \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 SegmentationClass/        # \u8bed\u4e49\u5206\u5272\u6807\u6ce8\n\u2502  \u251c\u2500\u2500 000032.png             # \u67d0\u5f20\u56fe\u7247\u7684\u5a92\u4f53\u6587\u4ef6 \n\u2502  \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 SegmentationObject/       # \u5b9e\u4f8b\u5206\u5272\u6807\u6ce8\n   \u251c\u2500\u2500 000032.png             # \u67d0\u5f20\u56fe\u7247\u7684\u5a92\u4f53\u6587\u4ef6 \n   \u2514\u2500\u2500 ...\n</code></pre> <p>\u5bf9\u5e94\u7684DSDL\u6807\u51c6\u5316\u6587\u4ef6\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a</p> dsdl-voc\u76ee\u5f55\u7ed3\u6784 <pre><code>dsdl/\n\u251c\u2500\u2500 defs/  \n\u2502  \u251c\u2500\u2500 object-detection-def.yaml              # \u4efb\u52a1\u7c7b\u578b\u7684\u5b9a\u4e49\n\u2502  \u2514\u2500\u2500 class-dom.yaml                         # \u6570\u636e\u96c6\u7684\u7c7b\u522b\u57df\n\u251c\u2500\u2500 set-train/                                # \u8bad\u7ec3\u96c6\n\u2502  \u251c\u2500\u2500 train.yaml                             # \u8bad\u7ec3\u7684yaml\u6587\u4ef6\n\u2502  \u2514\u2500\u2500 train_samples.json                     # \u8bad\u7ec3\u96c6sample\u7684json\u6587\u4ef6\n\u251c\u2500\u2500 set-val/                                  # \u9a8c\u8bc1\u96c6\n\u2502  \u251c\u2500\u2500 val.yaml\n\u2502  \u2514\u2500\u2500 val_samples.json  \n\u251c\u2500\u2500 set-test/                                 # \u6d4b\u8bd5\u96c6\n\u2502  \u251c\u2500\u2500 test.yaml\n\u2502  \u2514\u2500\u2500 test_samples.json  \n\u251c\u2500\u2500 config.py                                 # \u6570\u636e\u96c6\u8bfb\u53d6\u8def\u5f84\u7b49config\u6587\u4ef6\n\u2514\u2500\u2500 README.md                                 # \u6570\u636e\u96c6\u7b80\u4ecb\n</code></pre> <p>\u6ce8: DSDL\u6587\u4ef6\u76ee\u5f55\u4e0b\u5404\u4e2a\u6587\u4ef6\u7684\u5177\u4f53\u5185\u5bb9\u548c\u89e3\u91ca\u53ef\u53c2\u8003\u9ad8\u9636\u6559\u7a0b\u3002</p>"},{"location":"getting_started/quick_start/#2","title":"2. \u6570\u636e\u96c6\u914d\u7f6e","text":"<p>dsdl\u91c7\u7528\u4e86\u3010\u5a92\u4f53\u6570\u636e\u3011\u548c\u3010\u6807\u6ce8\u6587\u4ef6\u3011\u5206\u79bb\u8fd9\u4e00\u8bbe\u8ba1\u7406\u5ff5\uff0c\u82e5\u7528\u6237\u4e4b\u524d\u5df2\u7ecf\u4e0b\u8f7d\u8fc7\u76f8\u5173\u6570\u636e\u96c6\u5a92\u4f53\u6587\u4ef6\uff0c\u53ea\u9700\u4e0b\u8f7ddsdl\u6807\u6ce8\u6587\u4ef6\u5373\u53ef\u4f7f\u7528\u8be5\u6570\u636e\u96c6\u3002\u4e3a\u4e86\u4f7f\u7528\u4e0b\u8f7d\u597d\u7684\u6570\u636e\u96c6\uff0c\u6211\u4eec\u9700\u8981\u4fee\u6539\u914d\u7f6e\u6587\u4ef6<code>config.py</code>\uff08\u4f4d\u4e8e<code>VOC07-det/dsdl/config.py</code>\uff09\u6765\u8fdb\u884c\u5bf9\u5a92\u4f53\u6570\u636e\u7684\u5b9a\u4f4d\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5047\u5982\u4e0b\u8f7d\u7684<code>VOC07-det</code>\u6570\u636e\u96c6\u4f4d\u4e8e<code>~/datasets</code>\u8def\u5f84\u4e0b\uff0c\u5219\u53ea\u9700\u8981\u5c06<code>~/datasets/VOC07-det/dsdl/config.py</code>\u4e2d\u7684\u914d\u7f6e\u6309\u7167\u5982\u4e0b\u5185\u5bb9\u8fdb\u884c\u4fee\u6539\u5373\u53ef\uff1a</p> <pre><code>local = dict(\ntype=\"LocalFileReader\",\nworking_dir=\"~/datasets/VOC07-det/original\",\n)\n</code></pre> <p>\u5b9e\u9645\u4e0a\uff0cdsdl\u4e5f\u652f\u6301\u4ece\u963f\u91cc\u4e91\u8bfb\u53d6\u5a92\u4f53\u6570\u636e\uff0c\u540c\u6837\u4e5f\u53ea\u9700\u8981\u4fee\u6539<code>config.py</code>\u6587\u4ef6\u5373\u53ef\uff0c\u8be6\u7ec6\u5185\u5bb9\u53ef\u4ee5\u53c2\u8003\u6570\u636e\u96c6\u914d\u7f6e\u6559\u7a0b</p>"},{"location":"getting_started/quick_start/#3","title":"3. \u6570\u636e\u96c6\u7b80\u5355\u4f7f\u7528","text":""},{"location":"getting_started/quick_start/#31","title":"3.1. \u6570\u636e\u96c6\u521d\u59cb\u5316","text":"<p>dsdl\u5c06dsdl\u6570\u636e\u96c6\u7684\u4f7f\u7528\u63a5\u53e3\u5c01\u88c5\u8fdbDSDLDataset\u7c7b\uff0c\u521d\u59cb\u5316\u4e00\u4e2aDSDLDataset\u7c7b\u9700\u8981yaml\u6587\u4ef6\u548clocation config\uff0c\u8fd9\u91cc\u4ecd\u7136\u5047\u8bbe\u4e0a\u9762VOC\u6570\u636e\u96c6\u7684\u5b58\u653e\u8def\u5f84\u4e3a~/datasets/VOC07-det\uff0c\u5219\u521d\u59cb\u5316\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>from dsdl.dataset import DSDLDataset\n\n# 1. \u6307\u5b9a\u8981\u52a0\u8f7d\u6570\u636e\u7684dsdl\u6587\u4ef6\ntrain_yaml = \"~/datasets/VOC07-det/dsdl/set-train/train.yaml\"\nval_yaml = \"~/datasets/VOC07-det/dsdl/set-val/val.yaml\"\n\n# 2. \u914d\u7f6e\u6570\u636e\u96c6\u8def\u5f84\uff08\u652f\u6301\u672c\u5730\u3001\u963f\u91cc\u4e91oss\u7b49\u4e3b\u6d41\u5b58\u50a8\uff09\nloc_config = dict(\n    type=\"LocalFileReader\",\n    working_dir=\"~/datasets/VOC07-det/original\"\n)\nds_train = DSDLDataset(dsdl_yaml=train_yaml, location_config=loc_config)\nds_val = DSDLDataset(dsdl_yaml=val_yaml, location_config=loc_config)\n</code></pre>"},{"location":"getting_started/quick_start/#32","title":"3.2. \u83b7\u53d6\u7c7b\u522b\u540d\u79f0","text":"<p>\u83b7\u53d6\u6570\u636e\u96c6\u7684\u7c7b\u522b\u540d\u79f0\u5217\u8868\uff0c\u4ee3\u7801\u5982\u4e0b\uff08\u8fd9\u91cc\u53ea\u5c55\u793a\u4e86VOC\u6570\u636e\u96c6\u7684\u524d10\u4e2a\u6807\u7b7e\uff09\uff1a</p> <p><pre><code>print(ds_val.class_names[0:10])\n</code></pre> \u8f93\u51fa\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>['aeroplane',\n 'bicycle',\n 'bird',\n 'boat',\n 'bottle',\n 'bus',\n 'car',\n 'cat',\n 'chair',\n 'cow']\n</code></pre>"},{"location":"getting_started/quick_start/#33","title":"3.3. \u83b7\u53d6\u6837\u672c\u4fe1\u606f","text":"<p>DSDLDataset\u4f7f\u7528\u7d22\u5f15\u7684\u65b9\u5f0f\u83b7\u53d6\u6837\u672c\uff0c\u5982\u4e0b\u5c55\u793a\u4e86VOC\u6570\u636e\u96c6\u7d22\u5f15\u4e3a0\u7684\u6837\u672c\u7684\u4fe1\u606f\uff1a</p> <p><pre><code>print(ds_val[0])\n</code></pre> \u8f93\u51fa\u7684\u5185\u5bb9\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>{'Image': [path:JPEGImages/000005.jpg],\n 'Label': [chair, chair, chair, chair, chair],\n 'Bbox': [[263.0, 211.0, 324.0, 339.0],\n  [165.0, 264.0, 253.0, 372.0],\n  [5.0, 244.0, 67.0, 374.0],\n  [241.0, 194.0, 295.0, 299.0],\n  [277.0, 186.0, 312.0, 220.0]]}\n</code></pre> <p>\u5728\u6b64\u57fa\u7840\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u83b7\u53d6\u6837\u672c\u7684\u4e0d\u540c\u5b57\u6bb5\uff0c\u6bd4\u5982\u8981\u83b7\u53d6\u56fe\u7247\u5b57\u6bb5\uff0c\u53ef\u4ee5\u91c7\u7528\u5982\u4e0b\u547d\u4ee4\uff1a</p> <p><pre><code>print(ds_val[0].Image)\n</code></pre> \u5f97\u5230\u8f93\u51fa\u5982\u4e0b\uff1a</p> <pre><code>[path:JPEGImages/000005.jpg]\n</code></pre> <p>\u7c7b\u4f3c\u7684\uff0c\u8981\u83b7\u53d6\u6240\u6709\u6807\u6ce8\u6846\u7684\u7c7b\u522b\u5c5e\u6027\u548c\u7b2c\u4e00\u4e2a\u6807\u6ce8\u6846\u4f4d\u7f6e\u5c5e\u6027\uff0c\u5219\u53ef\u4ee5\u91c7\u7528\u4e0b\u9762\u7684\u8bed\u53e5\uff1a <pre><code>print(ds_val[0].Label)\nprint(ds_val[0].Bbox[0])\n</code></pre> \u5f97\u5230\u8f93\u51fa\u5206\u522b\u5982\u4e0b\uff1a</p> <pre><code>[chair, chair, chair, chair, chair]\n\n[263.0, 211.0, 324.0, 339.0]\n</code></pre>"},{"location":"getting_started/quick_start_ex1/","title":"\u8ba1\u7b97\u673a\u89c6\u89c9-\u56fe\u50cf\u5206\u7c7b\u4efb\u52a1","text":"<p>\u672c\u6559\u7a0b\u5c06\u4f7f\u7528\u7ecf\u5178<code>CAFAR-10</code>\u624b\u5199\u8bc6\u522b\u6570\u636e\u96c6\u4e3a\u4f8b\uff0c\u6f14\u793a\u6570\u636e\u5904\u7406\u53ca\u6a21\u578b\u8bad\u7ec3\u5168\u6d41\u7a0b\u3002</p>"},{"location":"getting_started/quick_start_ex1/#_1","title":"\u6570\u636e\u96c6\u4e0b\u8f7d","text":"<pre><code>odl-cli get CIFAR-10\n</code></pre> <p>\u8fd9\u91cc\u5c06\u5bf9DSDL\u6807\u6ce8\u8fdb\u884c\u4e0b\u8f7d\uff0c\u4e0b\u8f7d\u540e\u6587\u4ef6\u76ee\u5f55\u5982\u4e0b\uff1a</p> dsdl-voc\u76ee\u5f55\u7ed3\u6784 <pre><code>VOC2007-dsdl/\n\u251c\u2500\u2500 doms/              \n\u2502  \u251c\u2500\u2500 object-detection.yaml       # struct\u5b9a\u4e49\u6587\u4ef6\n\u2502  \u2514\u2500\u2500 VOC2007ClassDom.yaml        # VOC\u6570\u636e\u96c6\u7684\u7c7b\u522b\u57df\n\u251c\u2500\u2500 train/                         # \u8bad\u7ec3\u96c6\n\u2502  \u251c\u2500\u2500 train.yaml                  # \u8bad\u7ec3\u7684yaml\u6587\u4ef6\n\u2502  \u2514\u2500\u2500 train_samples.json          # \u8bad\u7ec3\u96c6sample\u7684json\u6587\u4ef6\n\u251c\u2500\u2500 val/                           # \u9a8c\u8bc1\u96c6\n\u2502  \u251c\u2500\u2500 val.yaml\n\u2502  \u2514\u2500\u2500 val_samples.json  \n\u2514\u2500\u2500 test/                          # \u6d4b\u8bd5\u96c6\n   \u251c\u2500\u2500 test.yaml\n   \u2514\u2500\u2500 test_samples.json\n</code></pre> <p>\u5982\u679c\u5bf9\u539f\u59cb\u6570\u636e\u96c6\u8fdb\u884c\u540c\u6b65\u4e0b\u8f7d\uff0c\u5176\u6587\u4ef6\u76ee\u5f55\u5982\u4e0b\uff1a</p> voc\u6570\u636e\u96c6\u76ee\u5f55\u7ed3\u6784 <pre><code>VOC2007/                      # \u539f\u59cb\u6570\u636e\u96c6\u6587\u4ef6\u5939\n\u251c\u2500\u2500 Annotations/              # \u91cc\u9762\u5b58\u653e\u7684\u662f\u6bcf\u5f20\u56fe\u7247\u6253\u5b8c\u6807\u7b7e\u6240\u5bf9\u5e94\u7684XML\u6587\u4ef6\n\u2502  \u251c\u2500\u2500 000001.xml             # \u67d0\u5f20\u56fe\u7247\u7684\u6807\u6ce8\u4fe1\u606f\n\u2502  \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 ImageSets/                # \u56fe\u7247\u5212\u5206\u7684txt\u5b58\u653e\u4f4d\u7f6e\n\u2502  \u251c\u2500\u2500 Layout                 # \u5305\u542bLayout\u6807\u6ce8\u4fe1\u606f\u7684\u56fe\u50cf\u6587\u4ef6\u540d\u5217\u8868\n\u2502  \u2502  \u251c\u2500\u2500 test.txt \n\u2502  \u2502  \u251c\u2500\u2500 train.txt \n\u2502  \u2502  \u251c\u2500\u2500 trainval.txt \n\u2502  \u2502  \u2514\u2500\u2500 val.txt \n\u2502  \u251c\u2500\u2500 Main                   # \u5305\u542b\u6240\u6709\u6587\u4ef6\u7684\u5217\u8868\u548c\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 aeroplane_test.txt  # \u6309\u6bcf\u4e2a\u7c7b\u522b\u7684\u8bad\u7ec3\u96c6\u3001\u6d4b\u8bd5\u96c6\u7b49\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 aeroplane_train.txt \n\u2502  \u2502  \u251c\u2500\u2500 ...\n\u2502  \u2502  \u251c\u2500\u2500 test.txt            # \u5168\u6570\u636e\u96c6\u7684test\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 train.txt           # \u5168\u6570\u636e\u96c6\u7684train\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 trainval.txt \n\u2502  \u2502  \u2514\u2500\u2500 val.txt \n\u2502  \u251c\u2500\u2500 Segmentation           # \u5305\u542b\u8bed\u4e49\u5206\u5272\u4fe1\u606f\u56fe\u50cf\u6587\u4ef6\u7684\u5217\u8868\u548c\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 test.txt \n\u2502  \u2502  \u251c\u2500\u2500 train.txt \n\u2502  \u2502  \u251c\u2500\u2500 trainval.txt \n\u2502  \u2502  \u2514\u2500\u2500 val.txt \n\u251c\u2500\u2500 JPEGImages/               # \u5b58\u653e\u7684\u662f\u8bad\u7ec3\u4e0e\u6d4b\u8bd5\u7684\u6240\u6709\u56fe\u7247\n\u2502  \u251c\u2500\u2500 000001.jpg             # \u56fe\u7247\uff08\u5e8f\u53f7\u4f5c\u4e3a\u56fe\u7247\u540d\uff09 \n\u2502  \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 SegmentationClass/        # \u8bed\u4e49\u5206\u5272\u6807\u6ce8\n\u2502  \u251c\u2500\u2500 000032.png             # \u67d0\u5f20\u56fe\u7247\u7684\u5a92\u4f53\u6587\u4ef6 \n\u2502  \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 SegmentationObject/       # \u5b9e\u4f8b\u5206\u5272\u6807\u6ce8\n   \u251c\u2500\u2500 000032.png             # \u67d0\u5f20\u56fe\u7247\u7684\u5a92\u4f53\u6587\u4ef6 \n   \u2514\u2500\u2500 ...\n</code></pre>"},{"location":"getting_started/quick_start_ex1/#_2","title":"\u6570\u636e\u96c6\u89e3\u6790","text":"<p>\uff08\u8fd9\u4e00\u6b65\u540e\u7eed\u597d\u50cf\u5df2\u7ecf\u6ca1\u6709\u4e86\uff0c\u6682\u65f6\u6309\u7167github\u4e0a\u7684\u5185\u5bb9\u4fdd\u7559\uff0c\u540e\u7eed\u53ef\u5220\u9664\uff09</p>"},{"location":"getting_started/quick_start_ex1/#yamlpython","title":"\u89e3\u6790\u5668\u53cd\u5e8f\u5217\u5316Yaml\u6587\u4ef6\u4e3aPython\u4ee3\u7801","text":"<pre><code>dsdl parse --yaml demo/coco_demo.yaml\n</code></pre>"},{"location":"getting_started/quick_start_ex1/#_3","title":"\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\uff0c\u8bbe\u7f6e\u8bfb\u53d6\u8def\u5f84","text":"<p>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6 <code>config.py</code>\uff0c\u5185\u5bb9\u5982\u4e0b\uff08\u76ee\u524d\u53ea\u652f\u6301\u8bfb\u53d6\u963f\u91cc\u4e91OSS\u6570\u636e\u4e0e\u672c\u5730\u6570\u636e\uff09\uff1a</p> <pre><code>local = dict(\ntype=\"LocalFileReader\",\nworking_dir=\"local path of your media\",\n)\nali_oss = dict(\ntype=\"AliOSSFileReader\",\naccess_key_secret=\"your secret key of aliyun oss\",\nendpoint=\"your endpoint of aliyun oss\",\naccess_key_id=\"your access key of aliyun oss\",\nbucket_name=\"your bucket name of aliyun oss\",\nworking_dir=\"the relative path of your media dir in the bucket\")\n</code></pre> <p>\u5728 <code>config.py</code>\u4e2d\uff0c\u5217\u4e3e\u4e86\u6240\u6709\u652f\u6301\u7684\u5a92\u4f53\u6587\u4ef6\u8bfb\u53d6\u65b9\u5f0f\uff0c\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u9009\u62e9\u5e76\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u7b49\u4fe1\u606f\uff1a</p> <ol> <li>\u672c\u5730\u8bfb\u53d6\uff1a <code>local</code>\u4e2d\u7684\u53c2\u6570 <code>working_dir</code>\uff08\u672c\u5730\u6570\u636e\u6240\u5728\u7684\u76ee\u5f55\uff09</li> <li>\u963f\u91cc\u4e91OSS\u8bfb\u53d6\uff1a <code>ali_oss</code>\u4e2d\u7684\u53c2\u6570\uff08\u963f\u91cc\u4e91OSS\u7684\u914d\u7f6e <code>access_key_secret</code>, <code>endpoint</code>, <code>access_key_id</code>\uff1b\u6876\u540d\u79f0 <code>bucket_name</code>\uff0c\u6570\u636e\u5728\u6876\u4e2d\u7684\u76ee\u5f55 <code>working_dir</code>\uff09</li> </ol>"},{"location":"getting_started/quick_start_ex1/#_4","title":"\u6570\u636e\u96c6\u53ef\u89c6\u5316","text":"<p>\u53ef\u89c6\u5316\u529f\u80fd\u5c55\u793a</p> <pre><code>dsdl view -y &lt;yaml-name&gt;.yaml -c &lt;config.py&gt; -l ali-oss -n 10 -r -v -f Label BBox Attributes\n</code></pre> <p>\u6bcf\u4e2a\u53c2\u6570\u7684\u610f\u4e49\u4e3a\uff1a</p> \u53c2\u6570\u7b80\u5199 \u53c2\u6570\u5168\u5199 \u53c2\u6570\u89e3\u91ca -y <code>--yaml</code> \u5b9a\u4e49\u6240\u6709samples\u7684yaml\u6587\u4ef6\u7684\u8def\u5f84 -c <code>--config</code> \u914d\u7f6e\u6587\u4ef6\uff08<code>config.py</code>\uff09\u7684\u8def\u5f84 -l <code>--location</code> \u53ea\u53ef\u4ee5\u6307\u5b9a\u4e3a <code>local</code>\u6216\u662f <code>ali-oss</code>\uff0c\u5206\u522b\u8868\u793a\u8bfb\u53d6\u672c\u5730\u7684\u6570\u636e\u4e0e\u8bfb\u53d6\u963f\u91cc\u4e91\u7684\u6570\u636e -n <code>--num</code> \u52a0\u8f7d\u6570\u636e\u96c6\u7684\u6837\u672c\u6570\u91cf -r <code>--random</code> \u5728\u52a0\u8f7d\u6570\u636e\u96c6\u4e2d\u7684\u6837\u672c\u65f6\u662f\u5426\u968f\u673a\u9009\u53d6\u6837\u672c\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u7684\u8bdd\u5c31\u6309\u987a\u5e8f\u4ece\u5f00\u59cb\u9009\u53d6\u6837\u672c -v <code>--visualize</code> \u662f\u5426\u5c06\u52a0\u8f7d\u7684\u6570\u636e\u8fdb\u884c\u53ef\u89c6\u5316\u5c55\u793a -f <code>--field</code> \u9009\u62e9\u9700\u8981\u8fdb\u884c\u53ef\u89c6\u5316\u7684\u5b57\u6bb5\uff0c\u5982 <code>-f BBox</code>\u8868\u793a\u53ef\u89c6\u5316bbox\uff0c<code>-f Attributes</code>\u8868\u793a\u5bf9\u6837\u672c\u7684attributes\u8fdb\u884c\u53ef\u89c6\u5316\u7b49\u7b49\uff0c\u53ef\u4ee5\u540c\u65f6\u9009\u62e9\u591a\u4e2a\uff0c\u5982 <code>-f Label BBox Attributes</code> -t <code>--task</code> \u53ef\u4ee5\u9009\u62e9\u5f53\u524d\u9700\u8981\u53ef\u89c6\u5316\u7684\u4efb\u52a1\u7c7b\u578b\uff0c\u5982\u679c\u9009\u62e9 <code>-t detection</code>\uff0c\u5219\u7b49\u4ef7\u4e8e <code>-f Label BBox Polygon Attributes</code>"},{"location":"getting_started/quick_start_ex1/#_5","title":"\u6570\u636e\u96c6\u5206\u6790","text":"<ol> <li>\u8c03\u7528\u65b9\u6cd5\uff1a</li> </ol> <p><pre><code>dsdl check -y xxx.yaml -c config.py -l ali-oss -t detection -p ./ -o ./\n### -y \u4e3a\u8f93\u5165\u7684yaml\u6587\u4ef6\n### -c \u4e3a\u6570\u636e\u96c6\u7684\u8bfb\u53d6\u914d\u7f6e\uff08\u8bb0\u5f55\u4e86\u6570\u636e\u96c6\u5728\u963f\u91cc\u4e91/\u672c\u5730\u7684\u4f4d\u7f6e\uff09\uff0c\u4e3b\u8981\u5f62\u5f0f\u5982\u4e0b\uff1a\nlocal = dict(\ntype=\"LocalFileReader\",\nworking_dir=\"local path of your media\",\n)\nali_oss = dict(\ntype=\"AliOSSFileReader\",\naccess_key_secret=\"your secret key of aliyun oss\",\nendpoint=\"your endpoint of aliyun oss\",\naccess_key_id=\"your access key of aliyun oss\",\nbucket_name=\"your bucket name of aliyun oss\",\nworking_dir=\"the relative path of your media dir in the bucket\")\n### -l \u4e3a\u6307\u5b9a\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 ali-oss \u6216 local\n### -t \u4e3a\u6307\u5b9a\u5f53\u524dyaml\u7684\u4efb\u52a1\u7c7b\u522b\uff0c\u5f53\u524d\u652f\u6301\u7684\u4efb\u52a1\u7c7b\u522b\u6709\uff08detection\uff0csegmentation\uff0cclassification\uff09\n### -p yaml\u6587\u4ef6\u5bfc\u5165\u7684\u5e93\u6587\u4ef6\u6240\u5728\u7684\u8def\u5f84\u5730\u5740\n### -o \u4e3a\u8f93\u51fa\u7684\u6587\u4ef6\u5939\uff0c\u5305\u542b\u56fe\u7247\u548cmd\u6587\u6863\uff0c\u6ce8\u610f\u6253\u5305\u4e0b\u8f7d\n</code></pre> 2. \u62a5\u544a\u6837\u5f0f\uff1a</p> <p>\u62a5\u544a\u5206\u4e3a3\u4e2a\u90e8\u5206\uff1a</p> <ul> <li> <p>parser\u68c0\u67e5\u7ed3\u679c\uff1a\u7ed3\u679c\u5305\u62ec\u4e86parse\u7ed3\u679c\u662f\u5426\u6210\u529f\uff0c\u5982\u679c\u4e0d\u6210\u529f\uff0c\u5219\u53ef\u4ee5\u67e5\u770b\u5177\u4f53\u7684\u62a5\u9519\u4fe1\u606f</p> </li> <li> <p>samples\u5b9e\u4f8b\u5316\u68c0\u67e5\u7ed3\u679c\uff1a\u5176\u4e2d\u62a5\u544a\u8bf4\u660e\u4e86\u5f53\u524d\u6570\u636e\u96c6\u5171\u6709\u6837\u672c\u4e2a\u6570\uff0c\u6b63\u5e38\u6837\u672c\u4e2a\u6570\uff0c\u8b66\u544a\u6837\u672c\u4e2a\u6570\uff0c\u9519\u8bef\u6837\u672c\u4e2a\u6570\uff0c\u5e76\u63d0\u4f9b\u4e86\u5f02\u5e38\u6837\u672c\u7684\u5177\u4f53\u4fe1\u606f\u65e5\u5fd7\u3002</p> </li> <li>\u53ef\u89c6\u5316\u7ed3\u679c\uff1a\u9700\u8981\u8089\u773c\u89c2\u5bdf\u53ef\u89c6\u5316\u7ed3\u679c\u662f\u5426\u6b63\u786e\uff0c\u6bd4\u5982bbox\u4f4d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u6807\u7b7e\u5185\u5bb9\u662f\u5426\u6b63\u786e\u7b49\uff0c\u5728\u56fe\u7247\u4e0b\u9762\u5c55\u793a\u4e86\u53ef\u89c6\u5316\u8fc7\u7a0b\u4e2d\u7684\u65e5\u5fd7\u5185\u5bb9\uff0c\u6bd4\u5982\u662f\u53ef\u89c6\u5316\u6210\u529f\u8fd8\u662f\u5931\u8d25\uff0c\u4ee5\u53ca\u5931\u8d25\u65e5\u5fd7\u7b49\u3002</li> </ul>"},{"location":"getting_started/quick_start_ex1/#_6","title":"\u6570\u636e\u96c6\u8bad\u7ec3","text":"<p>\u4e0eOpenMMDetection\u7684\u5bf9\u63a5\u8bad\u7ec3\u3002</p>"},{"location":"getting_started/quick_start_ex1/#config","title":"\u4fee\u6539config\u6587\u4ef6","text":"<p>faster_rcnn_r101_fpn_voc2007_dsdl_format.py</p> <pre><code>model = dict(\ntype='FasterRCNN',\nbackbone=dict(\ntype='ResNet',\ndepth=101,\nnum_stages=4,\nout_indices=(0, 1, 2, 3),\nfrozen_stages=1,\nnorm_cfg=dict(type='BN', requires_grad=True),\nnorm_eval=True,\nstyle='pytorch',\ninit_cfg=dict(type='Pretrained', checkpoint='torchvision://resnet101')),\nneck=dict(\ntype='FPN',\nin_channels=[256, 512, 1024, 2048],\nout_channels=256,\nnum_outs=5),\nrpn_head=dict(\ntype='RPNHead',\nin_channels=256,\nfeat_channels=256,\nanchor_generator=dict(\ntype='AnchorGenerator',\nscales=[8],\nratios=[0.5, 1.0, 2.0],\nstrides=[4, 8, 16, 32, 64]),\nbbox_coder=dict(\ntype='DeltaXYWHBBoxCoder',\ntarget_means=[0.0, 0.0, 0.0, 0.0],\ntarget_stds=[1.0, 1.0, 1.0, 1.0]),\nloss_cls=dict(\ntype='CrossEntropyLoss', use_sigmoid=True, loss_weight=1.0),\nloss_bbox=dict(type='L1Loss', loss_weight=1.0)),\nroi_head=dict(\ntype='StandardRoIHead',\nbbox_roi_extractor=dict(\ntype='SingleRoIExtractor',\nroi_layer=dict(type='RoIAlign', output_size=7, sampling_ratio=0),\nout_channels=256,\nfeatmap_strides=[4, 8, 16, 32]),\nbbox_head=dict(\ntype='Shared2FCBBoxHead',\nin_channels=256,\nfc_out_channels=1024,\nroi_feat_size=7,\nnum_classes=20,\nbbox_coder=dict(\ntype='DeltaXYWHBBoxCoder',\ntarget_means=[0.0, 0.0, 0.0, 0.0],\ntarget_stds=[0.1, 0.1, 0.2, 0.2]),\nreg_class_agnostic=False,\nloss_cls=dict(\ntype='CrossEntropyLoss', use_sigmoid=False, loss_weight=1.0),\nloss_bbox=dict(type='L1Loss', loss_weight=1.0))),\ntrain_cfg=dict(\nrpn=dict(\nassigner=dict(\ntype='MaxIoUAssigner',\npos_iou_thr=0.7,\nneg_iou_thr=0.3,\nmin_pos_iou=0.3,\nmatch_low_quality=True,\nignore_iof_thr=-1),\nsampler=dict(\ntype='RandomSampler',\nnum=256,\npos_fraction=0.5,\nneg_pos_ub=-1,\nadd_gt_as_proposals=False),\nallowed_border=-1,\npos_weight=-1,\ndebug=False),\nrpn_proposal=dict(\nnms_pre=2000,\nmax_per_img=1000,\nnms=dict(type='nms', iou_threshold=0.7),\nmin_bbox_size=0),\nrcnn=dict(\nassigner=dict(\ntype='MaxIoUAssigner',\npos_iou_thr=0.5,\nneg_iou_thr=0.5,\nmin_pos_iou=0.5,\nmatch_low_quality=False,\nignore_iof_thr=-1),\nsampler=dict(\ntype='RandomSampler',\nnum=512,\npos_fraction=0.25,\nneg_pos_ub=-1,\nadd_gt_as_proposals=True),\npos_weight=-1,\ndebug=False)),\ntest_cfg=dict(\nrpn=dict(\nnms_pre=1000,\nmax_per_img=1000,\nnms=dict(type='nms', iou_threshold=0.7),\nmin_bbox_size=0),\nrcnn=dict(\nscore_thr=0.05,\nnms=dict(type='nms', iou_threshold=0.5),\nmax_per_img=100)))\ncheckpoint_config = dict(interval=1)\nfile_client_args = dict(backend='petrel')\nlog_config = dict(interval=50, hooks=[dict(type='TextLoggerHook')])\ncustom_hooks = [dict(type='NumClassCheckHook')]\ndist_params = dict(backend='nccl')\nlog_level = 'INFO'\nload_from = None\nresume_from = None\nworkflow = [('train', 1)]\nopencv_num_threads = 0\nmp_start_method = 'fork'\nauto_scale_lr = dict(enable=True, base_batch_size=16)\noptimizer = dict(type='SGD', lr=0.02, momentum=0.9, weight_decay=0.0001)\noptimizer_config = dict(grad_clip=None)\nlr_config = dict(\npolicy='step',\nwarmup='linear',\nwarmup_iters=500,\nwarmup_ratio=0.001,\nstep=[8, 11])\nrunner = dict(type='EpochBasedRunner', max_epochs=12)\nnum_classes = 20\ndataset_type = 'DSDLDetectionDataset'\nimg_norm_cfg = dict(\nmean=[123.675, 116.28, 103.53], std=[58.395, 57.12, 57.375], to_rgb=True)\n# \u4fee\u6539data_root\u4e3as3\u8def\u5f84\ntrain_pipeline = [\ndict(type='LoadImageFromDSDL', file_client_args=file_client_args, data_root='s3://open_dataset_original/PASCALVOC2007/public_datalist_17/VOCdevkit/VOC2007/'),\ndict(type='LoadAnnotations', with_bbox=True),\ndict(type='Resize', img_scale=(1333, 800), keep_ratio=True),\ndict(type='RandomFlip', flip_ratio=0.5),\ndict(\ntype='Normalize',\nmean=[123.675, 116.28, 103.53],\nstd=[58.395, 57.12, 57.375],\nto_rgb=True),\ndict(type='Pad', size_divisor=32),\ndict(type='DefaultFormatBundle'),\ndict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels'])\n]\n# \u4fee\u6539data_root\u4e3as3\u8def\u5f84\ntest_pipeline = [\ndict(type='LoadImageFromDSDL', file_client_args=file_client_args, data_root='s3://open_dataset_original/PASCALVOC2007/public_datalist_17/VOCdevkit/VOC2007/'),\ndict(\ntype='MultiScaleFlipAug',\nimg_scale=(1333, 800),\nflip=False,\ntransforms=[\ndict(type='Resize', keep_ratio=True),\ndict(type='RandomFlip'),\ndict(\ntype='Normalize',\nmean=[123.675, 116.28, 103.53],\nstd=[58.395, 57.12, 57.375],\nto_rgb=True),\ndict(type='Pad', size_divisor=32),\ndict(type='ImageToTensor', keys=['img']),\ndict(type='Collect', keys=['img'])\n])\n]\n# \u4e3b\u8981\u4fee\u6539\u8fd9\u4e2a\u8def\u5f84\ntrain_yaml_07 = '/mnt/lustre/ouyanglinke/mmdetection/work_dir/VOC2007_dsdl/train/train.yaml'\nval_yaml_07 = '/mnt/lustre/ouyanglinke/mmdetection/work_dir/VOC2007_dsdl/val/val.yaml'\ntest_yaml = '/mnt/lustre/ouyanglinke/mmdetection/work_dir/VOC2007_dsdl/test/test.yaml'\nignore_cfg = dict(Continue=dict(), Ignore=dict(difficult=(True, 1)))\ndsdl_library_path = \"/mnt/lustre/ouyanglinke/mmdetection/work_dir/VOC2007_dsdl/train/\"\nlocal = dict(type=\"LocalFileReader\", working_dir=\"/mnt/lustre/ouyanglinke/mmdetection/work_dir/VOC2007_dsdl/\")\ndata = dict(\nsamples_per_gpu=1,\nworkers_per_gpu=32,\ntrain=dict(\ntype='DSDLDetectionDataset',\nann_file=train_yaml_07,\nlocation_config=local,\npipeline=train_pipeline,\ndsdl_library_path=dsdl_library_path),\nval=dict(\ntype='DSDLDetectionDataset',\nann_file=val_yaml_07,\nlocation_config=local,\npipeline=test_pipeline,\ndsdl_library_path=dsdl_library_path),\ntest=dict(\ntype='DSDLDetectionDataset',\nann_file=test_yaml,\nlocation_config=local,\npipeline=test_pipeline,\ndsdl_library_path=dsdl_library_path))\nevaluation = dict(interval=1, metric='mAP')\ngpu_ids = [0]\nwork_dir = './work_dirs/voc_dsdl_test'\nauto_resume = False\n</code></pre>"},{"location":"getting_started/quick_start_ex1/#_7","title":"\u5f00\u59cb\u8bad\u7ec3","text":"<p>\u6253\u5f00terminal\u8fd0\u884c\uff1a</p> <pre><code>conda activate openmmlab    # \u5b89\u88c5\u4e86dsdl\u548cmmdetection\u7684conda\u73af\u5883\nsrun -p bigdata_s2 --quotatype=auto --gres=gpu:1 python tools/train.py configs/dsdl_detection/faster_rcnn_r101_fpn_voc2007_dsdl_format.py </code></pre> <p>\u6700\u7ec8\u7ed3\u679c\u7cbe\u5ea6\uff1aAP50: 0.6680, mAP: 0.6680</p>"},{"location":"getting_started/quick_start_ex1/#_8","title":"\u8865\u5145\u5185\u5bb9","text":""},{"location":"getting_started/quick_start_ex1/#dsdl","title":"DSDL\u6587\u4ef6\u89e3\u91ca","text":"<p>DSDL\u6570\u636e\u96c6\u5305\u542b\u4ee5\u4e0b\u51e0\u4e2a\u91cd\u8981\u7684\u6587\u4ef6\uff1a</p> <ul> <li>struct\u7684\u5b9a\u4e49\u6587\u4ef6\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u6587\u4ef6\u540d\u4e3aobject-detetction.yaml\uff09\uff1a\u8fd9\u4e2a\u6587\u4ef6\u4e3b\u8981\u662f\u5bf9struct\u505a\u4e00\u4e2a\u660e\u786e\u7684\u5b9a\u4e49\uff0c\u53ef\u4ee5\u6709sample\u7684\u7ed3\u6784\u4f53\u548c\u6807\u6ce8\u7684\u7ed3\u6784\u4f53\u7b49\uff0c\u9700\u6307\u660e\u5305\u542b\u4e86\u54ea\u4e9bfield\uff0c\u6bcf\u4e2afield\u7684\u7c7b\u578b\u3002</li> <li>\u7c7b\u522b\u57df\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e3aVOC2007ClassDom.yaml\uff09\uff1a\u91cc\u9762\u5305\u542b\u4e86\u7c7b\u522b\u5217\u8868\uff0c\u5bf9\u5e94category\u7684\u5e8f\u53f7\uff08\u4ece1\u5f00\u59cb\u6392\u5e8f\uff09</li> <li> <p>samples\u6587\u4ef6\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u5206\u522b\u5206\u4e3atrain.yaml\u548ctrain_samples.json)</p> </li> <li> <p>train.yaml\u4e3b\u8981\u662f\u6307\u660e\u5f15\u7528\u54ea\u4e2astruct\u6a21\u677f\u548c\u7c7b\u522b\u57df\u6587\u4ef6\uff0c\u5e76\u4e14\u6307\u660e\u6570\u636e\u7c7b\u578b\u548c\u5b58\u653e\u8def\u5f84\uff0c\u53e6\u5916\u8fd8\u6709\u4e00\u4e9bmeta\u4fe1\u606f</p> </li> <li>train_samples.json\u91cc\u4fdd\u5b58\u4e86\u5b9e\u9645\u7684samples\u4fe1\u606f\uff0c\u5176\u7ec4\u7ec7\u7ed3\u6784\u5fc5\u987b\u548c\u4e4b\u524d\u5b9a\u4e49\u7684\u7ed3\u6784\u4f53\u5339\u914d</li> </ul>"},{"location":"getting_started/quick_start_ex1/#object-detectionyaml","title":"object-detection.yaml","text":"<p>\u8fd9\u4e2a\u6587\u4ef6\u4e3b\u8981\u662f\u5b9a\u4e49struct\u7684yaml\u6587\u4ef6\uff0c\u91cc\u9762\u7684\u5b57\u6bb5\u540d\u79f0\u53ef\u4ee5\u6839\u636e\u539f\u59cb\u6570\u636e\u96c6\u8fdb\u884c\u4e00\u4e2a\u4fee\u6539\u548c\u9002\u5e94\uff08\u5c3d\u91cf\u4fdd\u7559\u539f\u59cb\u6570\u636e\u96c6\u7684\u5b57\u6bb5\u540d\u79f0\u548c\u7ed3\u6784\uff09\uff0c\u4f46\u662f\u5b57\u6bb5\u7c7b\u578b\u4e00\u5b9a\u8981\u4f7f\u7528\u53ef\u8bc6\u522b\u7684\u6570\u636e\u7c7b\u578b\uff08\u53ef\u8bc6\u522b\u7684\u6570\u636e\u7c7b\u578b\u8be6\u89c1\uff1ahttps://opendatalab.github.io/dsdl-docs/zh/lang/basic_types/\uff09</p> <pre><code>$dsdl-version: \"0.5.0\"\nLocalObjectEntry:                                $def: struct                                 $params: [\"cdom\"]\n$fields:                                    _bbox: BBox\n_category: Label[dom=$cdom]                                       pose: Str  truncated: Bool\ndifficult: Bool\nObjectDetectionSample:\n$def: struct\n$params: [\"cdom\"]\n$fields:\nmedia_path: Image\nfolder: Str\nsource: Dict\nowner: Dict\nheight: Int\nwidth: Int\ndepth: Int\nsegmented: Bool\n_objects: List[etype=LocalObjectEntry[cdom=$cdom]]\n</code></pre> <p>\u5b57\u6bb5\u542b\u4e49\u89e3\u91ca\u53ca\u5bf9\u5e94\u5173\u7cfb\uff1a</p> <p>\uff08\u6ca1\u6709\u63d0\u5230\u7684\u5b57\u6bb5\u90fd\u662f\u4e0e\u539f\u6570\u636e\u96c6\u540c\u540d\u5bf9\u5e94\u7684\u5b57\u6bb5\uff0c\u53e6\u5916\uff0c\u547d\u540d\u4e2d\u4ee5\u4e0b\u5212\u7ebf\u5f00\u5934\u7684\u4e00\u822c\u90fd\u662f\u6211\u4eec\u81ea\u9002\u5e94\u7684\u5b57\u6bb5\uff0c\u5373\u539f\u6570\u636e\u96c6\u6ca1\u6709\u7684\u5b57\u6bb5\uff09</p> <ul> <li> <p>\u5728ObjectDetectionSample\u4e2d\uff1a</p> </li> <li> <p>media_path\uff1a\u8be5\u5b57\u6bb5\u662f\u6211\u4eec\u81ea\u9002\u5e94\u7684\u5b57\u6bb5\uff0c\u7528\u4e8e\u50a8\u5b58\u56fe\u50cf\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u4e3b\u8981\u4ece\u539f\u59cb\u6570\u636e\u96c6\u7684filename\u5b57\u6bb5\u8f6c\u5316\u800c\u6765</p> </li> <li>_objects\uff1a\u8be5\u5b57\u6bb5\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684object\u5b57\u6bb5\uff0c\u4ee5List\u7684\u5f62\u5f0f\u5b58\u50a8\u5177\u4f53bounding box\u7684\u6807\u6ce8\u4fe1\u606f</li> <li>source\uff1a\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684source\u5b57\u6bb5\uff0c\u4e3a\u4e00\u4e2a\u5b57\u5178\u5f62\u5f0f\uff0c\u91cc\u9762\u7684keys\u5206\u522b\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u91cc\u7684source\u5b57\u6bb5\u4e0b\u7684database\u3001annotation\u3001image\u3001flickerid\u5b57\u6bb5</li> <li>owner\uff1a\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684owner\u5b57\u6bb5\uff0c\u4e3a\u4e00\u4e2a\u5b57\u5178\u5f62\u5f0f\uff0c\u91cc\u9762\u7684keys\u5206\u522b\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u91cc\u7684owner\u5b57\u6bb5\u4e0b\u7684flickerid\u548cname\u5b57\u6bb5</li> <li>width\u3001height\u3001depth\uff1a\u662f\u539f\u59cb\u6570\u636e\u96c6\u7684size\u5b57\u6bb5\u4e0b\u7684</li> <li> <p>\u5728LocalObjectEntry\u4e2d\uff1a</p> </li> <li> <p>_bbox\uff1a\u5bf9\u5e94\u539f\u6570\u636e\u96c6\u7684bndbox\u5b57\u6bb5\uff0c\u4f46\u8f6c\u5316\u4e3abbox\u6807\u51c6\uff0c\u5373[x,y,w,h]</p> </li> <li>_category\uff1a\u662f\u8be5\u76ee\u6807\u7684\u7c7b\u522b\u5bf9\u5e94\u7684\u7c7b\u522b\u6807\u53f7\uff0c\u5bf9\u5e94\u7684\u662f\u539f\u6570\u636e\u96c6\u7684name\u5b57\u6bb5\uff0c\u7c7b\u522b\u6807\u53f7\u53ef\u4ee5\u53c2\u89c1\u4e0b\u9762\u7684VOC2007ClassDom.yaml</li> </ul>"},{"location":"getting_started/quick_start_ex1/#voc2007classdomyaml","title":"VOC2007ClassDom.yaml","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u7c7b\u522b\u5b9a\u4e49\u7684Dom\u6587\u6863\u3002</p> <pre><code>$dsdl-version: \"0.5.0\"\nVOC2007ClassDom:\n$def: class_domain\nclasses:\n- aeroplane                   # \u5bf9\u5e94category\u4e3a1\n- bicycle                     # \u5bf9\u5e94category\u4e3a2\n- bird\n- boat\n- bottle\n- bus\n- car\n- cat\n- chair\n- cow\n- diningtable\n- dog\n- horse\n- motorbike\n- person\n- pottedplant\n- sheep\n- sofa\n- train\n- tvmonitor\n</code></pre>"},{"location":"getting_started/quick_start_ex1/#trainyaml","title":"train.yaml","text":"<p>\u8fd9\u4e2a\u6587\u6863\u5f15\u7528\u4e86\u4e4b\u524d\u5b9a\u4e49\u7684\u4e24\u4e2a\u6587\u6863\uff0c\u5e76\u4e14\u6307\u5f15\u4e86\u5177\u4f53\u7684sample\u8def\u5f84\uff08test.yaml\u548cval.yaml\u7c7b\u4f3c\uff0c\u53ea\u662f\u4fee\u6539\u5bf9\u5e94sample-path\u548csub_dataset_name\u5b57\u6bb5\uff09</p> <pre><code>$dsdl-version: \"0.5.0\"\n$import:\n- VOC2007ClassDom\n- object-detection\nmeta:\ndataset_name: \"VOC2007\"\nsub_dataset_name: \"train\"\ndata:\nsample-type: ObjectDetectionSample[cdom=VOC2007ClassDom]\nsample-path: train_samples.json\n</code></pre>"},{"location":"getting_started/quick_start_ex1/#train_samplesjson","title":"train_samples.json","text":"<p>train_samples.json\u9700\u8981\u6211\u4eec\u5199\u811a\u672c\u4ece\u539f\u59cb\u6570\u636e\u96c6\u8f6c\u6362\u6765\uff0c\u6ce8\u610f\uff0c\u91cc\u9762\u7684\u5b57\u6bb5\u9700\u8981\u548c\u4e4b\u524d\u5b9a\u4e49\u7684struct\u5bf9\u5e94\uff0c\u6700\u7ec8\u6837\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>{\"samples\": [\n{\n\"_media_path\": \"JPEGImages/000001.jpg\",\n\"folder\": \"VOC2007\",\n\"source\": {\n\"database\": \"The VOC2007 Database\", \"annotation\": \"PASCAL VOC2007\",\n\"flickrid\": \"341012865\"\n},\n\"owner\":{\n\"flickrid\": \"Fried Camels\",\n\"name\": \"Jinky the Fruit Bat\"\n},\n\"height\": 640, \"width\": 480,\n\"depth\": 3,\n\"segmented\": 0,\n\"_objects\": [\n{\n\"_bbox\": [120.24, 0.32, 359.76, 596.04], \"_category\": 1, \"pose\": \"Left\", \"truncated\": 1, \"difficult\": 0   }, ...\n]\n},\n...\n]}\n</code></pre> <p>\u6ce8\u610f\uff0c\"samples\"\u5b57\u6bb5\u662f\u5fc5\u987b\u7684\uff08\u4e0d\u53ef\u6539\u540d\uff09\uff0c\u4e14\u7ec4\u7ec7\u5f62\u5f0f\u4e5f\u4e0d\u80fd\u6539\u53d8\uff0c\u5373\uff1a\u5fc5\u987b\u662f\u5b57\u5178\u5f62\u5f0f\uff0c\u5b57\u5178\u6709\u4e00\u4e2a\u952e\u4e3a\"samples\"\uff0c\u5176\u503c\u4e3a\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u7684\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u662f\u4e00\u4e2asample\u7c7b\u7684\u5b9e\u4f8b\uff08\u5373\u672c\u6848\u4f8b\u4e2d\u7684ObjectDetectionSample\u7c7b\uff09\u3002</p>"},{"location":"getting_started/quick_start_ex3/","title":"Quick start ex3","text":"<p>\u76ee\u6807\u68c0\u6d4bPASCAL VOC2007\u6570\u636e\u4e0b\u8f7d\u53ca\u6a21\u578b\u8bad\u7ec3</p>"},{"location":"getting_started/quick_start_ex3/#_1","title":"\u6570\u636e\u96c6\u4e0b\u8f7d","text":"<pre><code>dsdl get opendatalab/VOC2017\n</code></pre> <p>\u8fd9\u91cc\u5c06\u5bf9DSDL\u6807\u6ce8\u8fdb\u884c\u4e0b\u8f7d\uff0c\u4e0b\u8f7d\u540e\u6587\u4ef6\u76ee\u5f55\u5982\u4e0b\uff1a</p> <pre><code>VOC2007-dsdl/\n\u251c\u2500\u2500 doms/              \n\u2502  \u251c\u2500\u2500 object-detection.yaml       # struct\u5b9a\u4e49\u6587\u4ef6\n\u2502  \u2514\u2500\u2500 VOC2007ClassDom.yaml        # VOC\u6570\u636e\u96c6\u7684\u7c7b\u522b\u57df\n\u251c\u2500\u2500 train/                         # \u8bad\u7ec3\u96c6\n\u2502  \u251c\u2500\u2500 train.yaml                  # \u8bad\u7ec3\u7684yaml\u6587\u4ef6\n\u2502  \u2514\u2500\u2500 train_samples.json          # \u8bad\u7ec3\u96c6sample\u7684json\u6587\u4ef6\n\u251c\u2500\u2500 val/                           # \u9a8c\u8bc1\u96c6\n\u2502  \u251c\u2500\u2500 val.yaml\n\u2502  \u2514\u2500\u2500 val_samples.json  \n\u2514\u2500\u2500 test/                          # \u6d4b\u8bd5\u96c6\n   \u251c\u2500\u2500 test.yaml\n   \u2514\u2500\u2500 test_samples.json\n</code></pre> <p>\u5982\u679c\u5bf9\u539f\u59cb\u6570\u636e\u96c6\u8fdb\u884c\u540c\u6b65\u4e0b\u8f7d\uff0c\u5176\u6587\u4ef6\u76ee\u5f55\u5982\u4e0b\uff1a</p> <pre><code>VOC2007/                      # \u539f\u59cb\u6570\u636e\u96c6\u6587\u4ef6\u5939\n\u251c\u2500\u2500 Annotations/              # \u91cc\u9762\u5b58\u653e\u7684\u662f\u6bcf\u5f20\u56fe\u7247\u6253\u5b8c\u6807\u7b7e\u6240\u5bf9\u5e94\u7684XML\u6587\u4ef6\n\u2502  \u251c\u2500\u2500 000001.xml             # \u67d0\u5f20\u56fe\u7247\u7684\u6807\u6ce8\u4fe1\u606f\n\u2502  \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 ImageSets/                # \u56fe\u7247\u5212\u5206\u7684txt\u5b58\u653e\u4f4d\u7f6e\n\u2502  \u251c\u2500\u2500 Layout                 # \u5305\u542bLayout\u6807\u6ce8\u4fe1\u606f\u7684\u56fe\u50cf\u6587\u4ef6\u540d\u5217\u8868\n\u2502  \u2502  \u251c\u2500\u2500 test.txt \n\u2502  \u2502  \u251c\u2500\u2500 train.txt \n\u2502  \u2502  \u251c\u2500\u2500 trainval.txt \n\u2502  \u2502  \u2514\u2500\u2500 val.txt \n\u2502  \u251c\u2500\u2500 Main                   # \u5305\u542b\u6240\u6709\u6587\u4ef6\u7684\u5217\u8868\u548c\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 aeroplane_test.txt  # \u6309\u6bcf\u4e2a\u7c7b\u522b\u7684\u8bad\u7ec3\u96c6\u3001\u6d4b\u8bd5\u96c6\u7b49\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 aeroplane_train.txt \n\u2502  \u2502  \u251c\u2500\u2500 ...\n\u2502  \u2502  \u251c\u2500\u2500 test.txt            # \u5168\u6570\u636e\u96c6\u7684test\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 train.txt           # \u5168\u6570\u636e\u96c6\u7684train\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 trainval.txt \n\u2502  \u2502  \u2514\u2500\u2500 val.txt \n\u2502  \u251c\u2500\u2500 Segmentation           # \u5305\u542b\u8bed\u4e49\u5206\u5272\u4fe1\u606f\u56fe\u50cf\u6587\u4ef6\u7684\u5217\u8868\u548c\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 test.txt \n\u2502  \u2502  \u251c\u2500\u2500 train.txt \n\u2502  \u2502  \u251c\u2500\u2500 trainval.txt \n\u2502  \u2502  \u2514\u2500\u2500 val.txt \n\u251c\u2500\u2500 JPEGImages/               # \u5b58\u653e\u7684\u662f\u8bad\u7ec3\u4e0e\u6d4b\u8bd5\u7684\u6240\u6709\u56fe\u7247\n\u2502  \u251c\u2500\u2500 000001.jpg             # \u56fe\u7247\uff08\u5e8f\u53f7\u4f5c\u4e3a\u56fe\u7247\u540d\uff09 \n\u2502  \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 SegmentationClass/        # \u8bed\u4e49\u5206\u5272\u6807\u6ce8\n\u2502  \u251c\u2500\u2500 000032.png             # \u67d0\u5f20\u56fe\u7247\u7684\u5a92\u4f53\u6587\u4ef6 \n\u2502  \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 SegmentationObject/       # \u5b9e\u4f8b\u5206\u5272\u6807\u6ce8\n   \u251c\u2500\u2500 000032.png             # \u67d0\u5f20\u56fe\u7247\u7684\u5a92\u4f53\u6587\u4ef6 \n   \u2514\u2500\u2500 ...\n</code></pre>"},{"location":"getting_started/quick_start_ex3/#_2","title":"\u6570\u636e\u96c6\u89e3\u6790","text":"<p>\uff08\u8fd9\u4e00\u6b65\u540e\u7eed\u597d\u50cf\u5df2\u7ecf\u6ca1\u6709\u4e86\uff0c\u6682\u65f6\u6309\u7167github\u4e0a\u7684\u5185\u5bb9\u4fdd\u7559\uff0c\u540e\u7eed\u53ef\u5220\u9664\uff09</p>"},{"location":"getting_started/quick_start_ex3/#yamlpython","title":"\u89e3\u6790\u5668\u53cd\u5e8f\u5217\u5316Yaml\u6587\u4ef6\u4e3aPython\u4ee3\u7801","text":"<pre><code>dsdl parse --yaml demo/coco_demo.yaml\n</code></pre>"},{"location":"getting_started/quick_start_ex3/#_3","title":"\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\uff0c\u8bbe\u7f6e\u8bfb\u53d6\u8def\u5f84","text":"<p>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6 <code>config.py</code>\uff0c\u5185\u5bb9\u5982\u4e0b\uff08\u76ee\u524d\u53ea\u652f\u6301\u8bfb\u53d6\u963f\u91cc\u4e91OSS\u6570\u636e\u4e0e\u672c\u5730\u6570\u636e\uff09\uff1a</p> <pre><code>local = dict(\ntype=\"LocalFileReader\",\nworking_dir=\"local path of your media\",\n)\nali_oss = dict(\ntype=\"AliOSSFileReader\",\naccess_key_secret=\"your secret key of aliyun oss\",\nendpoint=\"your endpoint of aliyun oss\",\naccess_key_id=\"your access key of aliyun oss\",\nbucket_name=\"your bucket name of aliyun oss\",\nworking_dir=\"the relative path of your media dir in the bucket\")\n</code></pre> <p>\u5728 <code>config.py</code>\u4e2d\uff0c\u5217\u4e3e\u4e86\u6240\u6709\u652f\u6301\u7684\u5a92\u4f53\u6587\u4ef6\u8bfb\u53d6\u65b9\u5f0f\uff0c\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u9009\u62e9\u5e76\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u7b49\u4fe1\u606f\uff1a</p> <ol> <li>\u672c\u5730\u8bfb\u53d6\uff1a <code>local</code>\u4e2d\u7684\u53c2\u6570 <code>working_dir</code>\uff08\u672c\u5730\u6570\u636e\u6240\u5728\u7684\u76ee\u5f55\uff09</li> <li>\u963f\u91cc\u4e91OSS\u8bfb\u53d6\uff1a <code>ali_oss</code>\u4e2d\u7684\u53c2\u6570\uff08\u963f\u91cc\u4e91OSS\u7684\u914d\u7f6e <code>access_key_secret</code>, <code>endpoint</code>, <code>access_key_id</code>\uff1b\u6876\u540d\u79f0 <code>bucket_name</code>\uff0c\u6570\u636e\u5728\u6876\u4e2d\u7684\u76ee\u5f55 <code>working_dir</code>\uff09</li> </ol>"},{"location":"getting_started/quick_start_ex3/#_4","title":"\u6570\u636e\u96c6\u53ef\u89c6\u5316","text":"<p>\u53ef\u89c6\u5316\u529f\u80fd\u5c55\u793a</p> <pre><code>dsdl view -y &lt;yaml-name&gt;.yaml -c &lt;config.py&gt; -l ali-oss -n 10 -r -v -f Label BBox Attributes\n</code></pre> <p>\u6bcf\u4e2a\u53c2\u6570\u7684\u610f\u4e49\u4e3a\uff1a</p> \u53c2\u6570\u7b80\u5199 \u53c2\u6570\u5168\u5199 \u53c2\u6570\u89e3\u91ca -y <code>--yaml</code> \u5b9a\u4e49\u6240\u6709samples\u7684yaml\u6587\u4ef6\u7684\u8def\u5f84 -c <code>--config</code> \u914d\u7f6e\u6587\u4ef6\uff08<code>config.py</code>\uff09\u7684\u8def\u5f84 -l <code>--location</code> \u53ea\u53ef\u4ee5\u6307\u5b9a\u4e3a <code>local</code>\u6216\u662f <code>ali-oss</code>\uff0c\u5206\u522b\u8868\u793a\u8bfb\u53d6\u672c\u5730\u7684\u6570\u636e\u4e0e\u8bfb\u53d6\u963f\u91cc\u4e91\u7684\u6570\u636e -n <code>--num</code> \u52a0\u8f7d\u6570\u636e\u96c6\u7684\u6837\u672c\u6570\u91cf -r <code>--random</code> \u5728\u52a0\u8f7d\u6570\u636e\u96c6\u4e2d\u7684\u6837\u672c\u65f6\u662f\u5426\u968f\u673a\u9009\u53d6\u6837\u672c\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u7684\u8bdd\u5c31\u6309\u987a\u5e8f\u4ece\u5f00\u59cb\u9009\u53d6\u6837\u672c -v <code>--visualize</code> \u662f\u5426\u5c06\u52a0\u8f7d\u7684\u6570\u636e\u8fdb\u884c\u53ef\u89c6\u5316\u5c55\u793a -f <code>--field</code> \u9009\u62e9\u9700\u8981\u8fdb\u884c\u53ef\u89c6\u5316\u7684\u5b57\u6bb5\uff0c\u5982 <code>-f BBox</code>\u8868\u793a\u53ef\u89c6\u5316bbox\uff0c<code>-f Attributes</code>\u8868\u793a\u5bf9\u6837\u672c\u7684attributes\u8fdb\u884c\u53ef\u89c6\u5316\u7b49\u7b49\uff0c\u53ef\u4ee5\u540c\u65f6\u9009\u62e9\u591a\u4e2a\uff0c\u5982 <code>-f Label BBox Attributes</code> -t <code>--task</code> \u53ef\u4ee5\u9009\u62e9\u5f53\u524d\u9700\u8981\u53ef\u89c6\u5316\u7684\u4efb\u52a1\u7c7b\u578b\uff0c\u5982\u679c\u9009\u62e9 <code>-t detection</code>\uff0c\u5219\u7b49\u4ef7\u4e8e <code>-f Label BBox Polygon Attributes</code>"},{"location":"getting_started/quick_start_ex3/#_5","title":"\u6570\u636e\u96c6\u5206\u6790","text":"<ol> <li>\u8c03\u7528\u65b9\u6cd5\uff1a</li> </ol> <p><pre><code>dsdl check -y xxx.yaml -c config.py -l ali-oss -t detection -p ./ -o ./\n### -y \u4e3a\u8f93\u5165\u7684yaml\u6587\u4ef6\n### -c \u4e3a\u6570\u636e\u96c6\u7684\u8bfb\u53d6\u914d\u7f6e\uff08\u8bb0\u5f55\u4e86\u6570\u636e\u96c6\u5728\u963f\u91cc\u4e91/\u672c\u5730\u7684\u4f4d\u7f6e\uff09\uff0c\u4e3b\u8981\u5f62\u5f0f\u5982\u4e0b\uff1a\nlocal = dict(\ntype=\"LocalFileReader\",\nworking_dir=\"local path of your media\",\n)\nali_oss = dict(\ntype=\"AliOSSFileReader\",\naccess_key_secret=\"your secret key of aliyun oss\",\nendpoint=\"your endpoint of aliyun oss\",\naccess_key_id=\"your access key of aliyun oss\",\nbucket_name=\"your bucket name of aliyun oss\",\nworking_dir=\"the relative path of your media dir in the bucket\")\n### -l \u4e3a\u6307\u5b9a\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 ali-oss \u6216 local\n### -t \u4e3a\u6307\u5b9a\u5f53\u524dyaml\u7684\u4efb\u52a1\u7c7b\u522b\uff0c\u5f53\u524d\u652f\u6301\u7684\u4efb\u52a1\u7c7b\u522b\u6709\uff08detection\uff0csegmentation\uff0cclassification\uff09\n### -p yaml\u6587\u4ef6\u5bfc\u5165\u7684\u5e93\u6587\u4ef6\u6240\u5728\u7684\u8def\u5f84\u5730\u5740\n### -o \u4e3a\u8f93\u51fa\u7684\u6587\u4ef6\u5939\uff0c\u5305\u542b\u56fe\u7247\u548cmd\u6587\u6863\uff0c\u6ce8\u610f\u6253\u5305\u4e0b\u8f7d\n</code></pre> 2. \u62a5\u544a\u6837\u5f0f\uff1a</p> <p>\u62a5\u544a\u5206\u4e3a3\u4e2a\u90e8\u5206\uff1a</p> <ul> <li> <p>parser\u68c0\u67e5\u7ed3\u679c\uff1a\u7ed3\u679c\u5305\u62ec\u4e86parse\u7ed3\u679c\u662f\u5426\u6210\u529f\uff0c\u5982\u679c\u4e0d\u6210\u529f\uff0c\u5219\u53ef\u4ee5\u67e5\u770b\u5177\u4f53\u7684\u62a5\u9519\u4fe1\u606f</p> </li> <li> <p>samples\u5b9e\u4f8b\u5316\u68c0\u67e5\u7ed3\u679c\uff1a\u5176\u4e2d\u62a5\u544a\u8bf4\u660e\u4e86\u5f53\u524d\u6570\u636e\u96c6\u5171\u6709\u6837\u672c\u4e2a\u6570\uff0c\u6b63\u5e38\u6837\u672c\u4e2a\u6570\uff0c\u8b66\u544a\u6837\u672c\u4e2a\u6570\uff0c\u9519\u8bef\u6837\u672c\u4e2a\u6570\uff0c\u5e76\u63d0\u4f9b\u4e86\u5f02\u5e38\u6837\u672c\u7684\u5177\u4f53\u4fe1\u606f\u65e5\u5fd7\u3002</p> </li> <li>\u53ef\u89c6\u5316\u7ed3\u679c\uff1a\u9700\u8981\u8089\u773c\u89c2\u5bdf\u53ef\u89c6\u5316\u7ed3\u679c\u662f\u5426\u6b63\u786e\uff0c\u6bd4\u5982bbox\u4f4d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u6807\u7b7e\u5185\u5bb9\u662f\u5426\u6b63\u786e\u7b49\uff0c\u5728\u56fe\u7247\u4e0b\u9762\u5c55\u793a\u4e86\u53ef\u89c6\u5316\u8fc7\u7a0b\u4e2d\u7684\u65e5\u5fd7\u5185\u5bb9\uff0c\u6bd4\u5982\u662f\u53ef\u89c6\u5316\u6210\u529f\u8fd8\u662f\u5931\u8d25\uff0c\u4ee5\u53ca\u5931\u8d25\u65e5\u5fd7\u7b49\u3002</li> </ul>"},{"location":"getting_started/quick_start_ex3/#_6","title":"\u6570\u636e\u96c6\u8bad\u7ec3","text":"<p>\u4e0eOpenMMDetection\u7684\u5bf9\u63a5\u8bad\u7ec3\u3002</p>"},{"location":"getting_started/quick_start_ex3/#config","title":"\u4fee\u6539config\u6587\u4ef6","text":"<p>faster_rcnn_r101_fpn_voc2007_dsdl_format.py</p> <pre><code>model = dict(\ntype='FasterRCNN',\nbackbone=dict(\ntype='ResNet',\ndepth=101,\nnum_stages=4,\nout_indices=(0, 1, 2, 3),\nfrozen_stages=1,\nnorm_cfg=dict(type='BN', requires_grad=True),\nnorm_eval=True,\nstyle='pytorch',\ninit_cfg=dict(type='Pretrained', checkpoint='torchvision://resnet101')),\nneck=dict(\ntype='FPN',\nin_channels=[256, 512, 1024, 2048],\nout_channels=256,\nnum_outs=5),\nrpn_head=dict(\ntype='RPNHead',\nin_channels=256,\nfeat_channels=256,\nanchor_generator=dict(\ntype='AnchorGenerator',\nscales=[8],\nratios=[0.5, 1.0, 2.0],\nstrides=[4, 8, 16, 32, 64]),\nbbox_coder=dict(\ntype='DeltaXYWHBBoxCoder',\ntarget_means=[0.0, 0.0, 0.0, 0.0],\ntarget_stds=[1.0, 1.0, 1.0, 1.0]),\nloss_cls=dict(\ntype='CrossEntropyLoss', use_sigmoid=True, loss_weight=1.0),\nloss_bbox=dict(type='L1Loss', loss_weight=1.0)),\nroi_head=dict(\ntype='StandardRoIHead',\nbbox_roi_extractor=dict(\ntype='SingleRoIExtractor',\nroi_layer=dict(type='RoIAlign', output_size=7, sampling_ratio=0),\nout_channels=256,\nfeatmap_strides=[4, 8, 16, 32]),\nbbox_head=dict(\ntype='Shared2FCBBoxHead',\nin_channels=256,\nfc_out_channels=1024,\nroi_feat_size=7,\nnum_classes=20,\nbbox_coder=dict(\ntype='DeltaXYWHBBoxCoder',\ntarget_means=[0.0, 0.0, 0.0, 0.0],\ntarget_stds=[0.1, 0.1, 0.2, 0.2]),\nreg_class_agnostic=False,\nloss_cls=dict(\ntype='CrossEntropyLoss', use_sigmoid=False, loss_weight=1.0),\nloss_bbox=dict(type='L1Loss', loss_weight=1.0))),\ntrain_cfg=dict(\nrpn=dict(\nassigner=dict(\ntype='MaxIoUAssigner',\npos_iou_thr=0.7,\nneg_iou_thr=0.3,\nmin_pos_iou=0.3,\nmatch_low_quality=True,\nignore_iof_thr=-1),\nsampler=dict(\ntype='RandomSampler',\nnum=256,\npos_fraction=0.5,\nneg_pos_ub=-1,\nadd_gt_as_proposals=False),\nallowed_border=-1,\npos_weight=-1,\ndebug=False),\nrpn_proposal=dict(\nnms_pre=2000,\nmax_per_img=1000,\nnms=dict(type='nms', iou_threshold=0.7),\nmin_bbox_size=0),\nrcnn=dict(\nassigner=dict(\ntype='MaxIoUAssigner',\npos_iou_thr=0.5,\nneg_iou_thr=0.5,\nmin_pos_iou=0.5,\nmatch_low_quality=False,\nignore_iof_thr=-1),\nsampler=dict(\ntype='RandomSampler',\nnum=512,\npos_fraction=0.25,\nneg_pos_ub=-1,\nadd_gt_as_proposals=True),\npos_weight=-1,\ndebug=False)),\ntest_cfg=dict(\nrpn=dict(\nnms_pre=1000,\nmax_per_img=1000,\nnms=dict(type='nms', iou_threshold=0.7),\nmin_bbox_size=0),\nrcnn=dict(\nscore_thr=0.05,\nnms=dict(type='nms', iou_threshold=0.5),\nmax_per_img=100)))\ncheckpoint_config = dict(interval=1)\nfile_client_args = dict(backend='petrel')\nlog_config = dict(interval=50, hooks=[dict(type='TextLoggerHook')])\ncustom_hooks = [dict(type='NumClassCheckHook')]\ndist_params = dict(backend='nccl')\nlog_level = 'INFO'\nload_from = None\nresume_from = None\nworkflow = [('train', 1)]\nopencv_num_threads = 0\nmp_start_method = 'fork'\nauto_scale_lr = dict(enable=True, base_batch_size=16)\noptimizer = dict(type='SGD', lr=0.02, momentum=0.9, weight_decay=0.0001)\noptimizer_config = dict(grad_clip=None)\nlr_config = dict(\npolicy='step',\nwarmup='linear',\nwarmup_iters=500,\nwarmup_ratio=0.001,\nstep=[8, 11])\nrunner = dict(type='EpochBasedRunner', max_epochs=12)\nnum_classes = 20\ndataset_type = 'DSDLDetectionDataset'\nimg_norm_cfg = dict(\nmean=[123.675, 116.28, 103.53], std=[58.395, 57.12, 57.375], to_rgb=True)\n# \u4fee\u6539data_root\u4e3as3\u8def\u5f84\ntrain_pipeline = [\ndict(type='LoadImageFromDSDL', file_client_args=file_client_args, data_root='s3://open_dataset_original/PASCALVOC2007/public_datalist_17/VOCdevkit/VOC2007/'),\ndict(type='LoadAnnotations', with_bbox=True),\ndict(type='Resize', img_scale=(1333, 800), keep_ratio=True),\ndict(type='RandomFlip', flip_ratio=0.5),\ndict(\ntype='Normalize',\nmean=[123.675, 116.28, 103.53],\nstd=[58.395, 57.12, 57.375],\nto_rgb=True),\ndict(type='Pad', size_divisor=32),\ndict(type='DefaultFormatBundle'),\ndict(type='Collect', keys=['img', 'gt_bboxes', 'gt_labels'])\n]\n# \u4fee\u6539data_root\u4e3as3\u8def\u5f84\ntest_pipeline = [\ndict(type='LoadImageFromDSDL', file_client_args=file_client_args, data_root='s3://open_dataset_original/PASCALVOC2007/public_datalist_17/VOCdevkit/VOC2007/'),\ndict(\ntype='MultiScaleFlipAug',\nimg_scale=(1333, 800),\nflip=False,\ntransforms=[\ndict(type='Resize', keep_ratio=True),\ndict(type='RandomFlip'),\ndict(\ntype='Normalize',\nmean=[123.675, 116.28, 103.53],\nstd=[58.395, 57.12, 57.375],\nto_rgb=True),\ndict(type='Pad', size_divisor=32),\ndict(type='ImageToTensor', keys=['img']),\ndict(type='Collect', keys=['img'])\n])\n]\n# \u4e3b\u8981\u4fee\u6539\u8fd9\u4e2a\u8def\u5f84\ntrain_yaml_07 = '/mnt/lustre/ouyanglinke/mmdetection/work_dir/VOC2007_dsdl/train/train.yaml'\nval_yaml_07 = '/mnt/lustre/ouyanglinke/mmdetection/work_dir/VOC2007_dsdl/val/val.yaml'\ntest_yaml = '/mnt/lustre/ouyanglinke/mmdetection/work_dir/VOC2007_dsdl/test/test.yaml'\nignore_cfg = dict(Continue=dict(), Ignore=dict(difficult=(True, 1)))\ndsdl_library_path = \"/mnt/lustre/ouyanglinke/mmdetection/work_dir/VOC2007_dsdl/train/\"\nlocal = dict(type=\"LocalFileReader\", working_dir=\"/mnt/lustre/ouyanglinke/mmdetection/work_dir/VOC2007_dsdl/\")\ndata = dict(\nsamples_per_gpu=1,\nworkers_per_gpu=32,\ntrain=dict(\ntype='DSDLDetectionDataset',\nann_file=train_yaml_07,\nlocation_config=local,\npipeline=train_pipeline,\ndsdl_library_path=dsdl_library_path),\nval=dict(\ntype='DSDLDetectionDataset',\nann_file=val_yaml_07,\nlocation_config=local,\npipeline=test_pipeline,\ndsdl_library_path=dsdl_library_path),\ntest=dict(\ntype='DSDLDetectionDataset',\nann_file=test_yaml,\nlocation_config=local,\npipeline=test_pipeline,\ndsdl_library_path=dsdl_library_path))\nevaluation = dict(interval=1, metric='mAP')\ngpu_ids = [0]\nwork_dir = './work_dirs/voc_dsdl_test'\nauto_resume = False\n</code></pre>"},{"location":"getting_started/quick_start_ex3/#_7","title":"\u5f00\u59cb\u8bad\u7ec3","text":"<p>\u6253\u5f00terminal\u8fd0\u884c\uff1a</p> <pre><code>conda activate openmmlab    # \u5b89\u88c5\u4e86dsdl\u548cmmdetection\u7684conda\u73af\u5883\nsrun -p bigdata_s2 --quotatype=auto --gres=gpu:1 python tools/train.py configs/dsdl_detection/faster_rcnn_r101_fpn_voc2007_dsdl_format.py </code></pre> <p>\u6700\u7ec8\u7ed3\u679c\u7cbe\u5ea6\uff1aAP50: 0.6680, mAP: 0.6680</p>"},{"location":"getting_started/quick_start_ex3/#_8","title":"\u8865\u5145\u5185\u5bb9","text":""},{"location":"getting_started/quick_start_ex3/#dsdl","title":"DSDL\u6587\u4ef6\u89e3\u91ca","text":"<p>DSDL\u6570\u636e\u96c6\u5305\u542b\u4ee5\u4e0b\u51e0\u4e2a\u91cd\u8981\u7684\u6587\u4ef6\uff1a</p> <ul> <li>struct\u7684\u5b9a\u4e49\u6587\u4ef6\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u6587\u4ef6\u540d\u4e3aobject-detetction.yaml\uff09\uff1a\u8fd9\u4e2a\u6587\u4ef6\u4e3b\u8981\u662f\u5bf9struct\u505a\u4e00\u4e2a\u660e\u786e\u7684\u5b9a\u4e49\uff0c\u53ef\u4ee5\u6709sample\u7684\u7ed3\u6784\u4f53\u548c\u6807\u6ce8\u7684\u7ed3\u6784\u4f53\u7b49\uff0c\u9700\u6307\u660e\u5305\u542b\u4e86\u54ea\u4e9bfield\uff0c\u6bcf\u4e2afield\u7684\u7c7b\u578b\u3002</li> <li>\u7c7b\u522b\u57df\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e3aVOC2007ClassDom.yaml\uff09\uff1a\u91cc\u9762\u5305\u542b\u4e86\u7c7b\u522b\u5217\u8868\uff0c\u5bf9\u5e94category\u7684\u5e8f\u53f7\uff08\u4ece1\u5f00\u59cb\u6392\u5e8f\uff09</li> <li> <p>samples\u6587\u4ef6\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u5206\u522b\u5206\u4e3atrain.yaml\u548ctrain_samples.json)</p> </li> <li> <p>train.yaml\u4e3b\u8981\u662f\u6307\u660e\u5f15\u7528\u54ea\u4e2astruct\u6a21\u677f\u548c\u7c7b\u522b\u57df\u6587\u4ef6\uff0c\u5e76\u4e14\u6307\u660e\u6570\u636e\u7c7b\u578b\u548c\u5b58\u653e\u8def\u5f84\uff0c\u53e6\u5916\u8fd8\u6709\u4e00\u4e9bmeta\u4fe1\u606f</p> </li> <li>train_samples.json\u91cc\u4fdd\u5b58\u4e86\u5b9e\u9645\u7684samples\u4fe1\u606f\uff0c\u5176\u7ec4\u7ec7\u7ed3\u6784\u5fc5\u987b\u548c\u4e4b\u524d\u5b9a\u4e49\u7684\u7ed3\u6784\u4f53\u5339\u914d</li> </ul>"},{"location":"getting_started/quick_start_ex3/#object-detectionyaml","title":"object-detection.yaml","text":"<p>\u8fd9\u4e2a\u6587\u4ef6\u4e3b\u8981\u662f\u5b9a\u4e49struct\u7684yaml\u6587\u4ef6\uff0c\u91cc\u9762\u7684\u5b57\u6bb5\u540d\u79f0\u53ef\u4ee5\u6839\u636e\u539f\u59cb\u6570\u636e\u96c6\u8fdb\u884c\u4e00\u4e2a\u4fee\u6539\u548c\u9002\u5e94\uff08\u5c3d\u91cf\u4fdd\u7559\u539f\u59cb\u6570\u636e\u96c6\u7684\u5b57\u6bb5\u540d\u79f0\u548c\u7ed3\u6784\uff09\uff0c\u4f46\u662f\u5b57\u6bb5\u7c7b\u578b\u4e00\u5b9a\u8981\u4f7f\u7528\u53ef\u8bc6\u522b\u7684\u6570\u636e\u7c7b\u578b\uff08\u53ef\u8bc6\u522b\u7684\u6570\u636e\u7c7b\u578b\u8be6\u89c1\uff1ahttps://opendatalab.github.io/dsdl-docs/zh/lang/basic_types/\uff09</p> <pre><code>$dsdl-version: \"0.5.0\"\nLocalObjectEntry:                                $def: struct                                 $params: [\"cdom\"]\n$fields:                                    _bbox: BBox\n_category: Label[dom=$cdom]                                       pose: Str  truncated: Bool\ndifficult: Bool\nObjectDetectionSample:\n$def: struct\n$params: [\"cdom\"]\n$fields:\nmedia_path: Image\nfolder: Str\nsource: Dict\nowner: Dict\nheight: Int\nwidth: Int\ndepth: Int\nsegmented: Bool\n_objects: List[etype=LocalObjectEntry[cdom=$cdom]]\n</code></pre> <p>\u5b57\u6bb5\u542b\u4e49\u89e3\u91ca\u53ca\u5bf9\u5e94\u5173\u7cfb\uff1a</p> <p>\uff08\u6ca1\u6709\u63d0\u5230\u7684\u5b57\u6bb5\u90fd\u662f\u4e0e\u539f\u6570\u636e\u96c6\u540c\u540d\u5bf9\u5e94\u7684\u5b57\u6bb5\uff0c\u53e6\u5916\uff0c\u547d\u540d\u4e2d\u4ee5\u4e0b\u5212\u7ebf\u5f00\u5934\u7684\u4e00\u822c\u90fd\u662f\u6211\u4eec\u81ea\u9002\u5e94\u7684\u5b57\u6bb5\uff0c\u5373\u539f\u6570\u636e\u96c6\u6ca1\u6709\u7684\u5b57\u6bb5\uff09</p> <ul> <li> <p>\u5728ObjectDetectionSample\u4e2d\uff1a</p> </li> <li> <p>media_path\uff1a\u8be5\u5b57\u6bb5\u662f\u6211\u4eec\u81ea\u9002\u5e94\u7684\u5b57\u6bb5\uff0c\u7528\u4e8e\u50a8\u5b58\u56fe\u50cf\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u4e3b\u8981\u4ece\u539f\u59cb\u6570\u636e\u96c6\u7684filename\u5b57\u6bb5\u8f6c\u5316\u800c\u6765</p> </li> <li>_objects\uff1a\u8be5\u5b57\u6bb5\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684object\u5b57\u6bb5\uff0c\u4ee5List\u7684\u5f62\u5f0f\u5b58\u50a8\u5177\u4f53bounding box\u7684\u6807\u6ce8\u4fe1\u606f</li> <li>source\uff1a\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684source\u5b57\u6bb5\uff0c\u4e3a\u4e00\u4e2a\u5b57\u5178\u5f62\u5f0f\uff0c\u91cc\u9762\u7684keys\u5206\u522b\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u91cc\u7684source\u5b57\u6bb5\u4e0b\u7684database\u3001annotation\u3001image\u3001flickerid\u5b57\u6bb5</li> <li>owner\uff1a\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684owner\u5b57\u6bb5\uff0c\u4e3a\u4e00\u4e2a\u5b57\u5178\u5f62\u5f0f\uff0c\u91cc\u9762\u7684keys\u5206\u522b\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u91cc\u7684owner\u5b57\u6bb5\u4e0b\u7684flickerid\u548cname\u5b57\u6bb5</li> <li>width\u3001height\u3001depth\uff1a\u662f\u539f\u59cb\u6570\u636e\u96c6\u7684size\u5b57\u6bb5\u4e0b\u7684</li> <li> <p>\u5728LocalObjectEntry\u4e2d\uff1a</p> </li> <li> <p>_bbox\uff1a\u5bf9\u5e94\u539f\u6570\u636e\u96c6\u7684bndbox\u5b57\u6bb5\uff0c\u4f46\u8f6c\u5316\u4e3abbox\u6807\u51c6\uff0c\u5373[x,y,w,h]</p> </li> <li>_category\uff1a\u662f\u8be5\u76ee\u6807\u7684\u7c7b\u522b\u5bf9\u5e94\u7684\u7c7b\u522b\u6807\u53f7\uff0c\u5bf9\u5e94\u7684\u662f\u539f\u6570\u636e\u96c6\u7684name\u5b57\u6bb5\uff0c\u7c7b\u522b\u6807\u53f7\u53ef\u4ee5\u53c2\u89c1\u4e0b\u9762\u7684VOC2007ClassDom.yaml</li> </ul>"},{"location":"getting_started/quick_start_ex3/#voc2007classdomyaml","title":"VOC2007ClassDom.yaml","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u7c7b\u522b\u5b9a\u4e49\u7684Dom\u6587\u6863\u3002</p> <pre><code>$dsdl-version: \"0.5.0\"\nVOC2007ClassDom:\n$def: class_domain\nclasses:\n- aeroplane                   # \u5bf9\u5e94category\u4e3a1\n- bicycle                     # \u5bf9\u5e94category\u4e3a2\n- bird\n- boat\n- bottle\n- bus\n- car\n- cat\n- chair\n- cow\n- diningtable\n- dog\n- horse\n- motorbike\n- person\n- pottedplant\n- sheep\n- sofa\n- train\n- tvmonitor\n</code></pre>"},{"location":"getting_started/quick_start_ex3/#trainyaml","title":"train.yaml","text":"<p>\u8fd9\u4e2a\u6587\u6863\u5f15\u7528\u4e86\u4e4b\u524d\u5b9a\u4e49\u7684\u4e24\u4e2a\u6587\u6863\uff0c\u5e76\u4e14\u6307\u5f15\u4e86\u5177\u4f53\u7684sample\u8def\u5f84\uff08test.yaml\u548cval.yaml\u7c7b\u4f3c\uff0c\u53ea\u662f\u4fee\u6539\u5bf9\u5e94sample-path\u548csub_dataset_name\u5b57\u6bb5\uff09</p> <pre><code>$dsdl-version: \"0.5.0\"\n$import:\n- VOC2007ClassDom\n- object-detection\nmeta:\ndataset_name: \"VOC2007\"\nsub_dataset_name: \"train\"\ndata:\nsample-type: ObjectDetectionSample[cdom=VOC2007ClassDom]\nsample-path: train_samples.json\n</code></pre>"},{"location":"getting_started/quick_start_ex3/#train_samplesjson","title":"train_samples.json","text":"<p>train_samples.json\u9700\u8981\u6211\u4eec\u5199\u811a\u672c\u4ece\u539f\u59cb\u6570\u636e\u96c6\u8f6c\u6362\u6765\uff0c\u6ce8\u610f\uff0c\u91cc\u9762\u7684\u5b57\u6bb5\u9700\u8981\u548c\u4e4b\u524d\u5b9a\u4e49\u7684struct\u5bf9\u5e94\uff0c\u6700\u7ec8\u6837\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>{\"samples\": [\n{\n\"_media_path\": \"JPEGImages/000001.jpg\",\n\"folder\": \"VOC2007\",\n\"source\": {\n\"database\": \"The VOC2007 Database\", \"annotation\": \"PASCAL VOC2007\",\n\"flickrid\": \"341012865\"\n},\n\"owner\":{\n\"flickrid\": \"Fried Camels\",\n\"name\": \"Jinky the Fruit Bat\"\n},\n\"height\": 640, \"width\": 480,\n\"depth\": 3,\n\"segmented\": 0,\n\"_objects\": [\n{\n\"_bbox\": [120.24, 0.32, 359.76, 596.04], \"_category\": 1, \"pose\": \"Left\", \"truncated\": 1, \"difficult\": 0   }, ...\n]\n},\n...\n]}\n</code></pre> <p>\u6ce8\u610f\uff0c\"samples\"\u5b57\u6bb5\u662f\u5fc5\u987b\u7684\uff08\u4e0d\u53ef\u6539\u540d\uff09\uff0c\u4e14\u7ec4\u7ec7\u5f62\u5f0f\u4e5f\u4e0d\u80fd\u6539\u53d8\uff0c\u5373\uff1a\u5fc5\u987b\u662f\u5b57\u5178\u5f62\u5f0f\uff0c\u5b57\u5178\u6709\u4e00\u4e2a\u952e\u4e3a\"samples\"\uff0c\u5176\u503c\u4e3a\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u7684\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u662f\u4e00\u4e2asample\u7c7b\u7684\u5b9e\u4f8b\uff08\u5373\u672c\u6848\u4f8b\u4e2d\u7684ObjectDetectionSample\u7c7b\uff09\u3002</p>"},{"location":"tutorials/dataset_analysis/","title":"\u6570\u636e\u96c6\u5206\u6790","text":"<p>\u5185\u5bb9\u5f85\u66f4\u65b0\u3002</p>"},{"location":"tutorials/dataset_distribution/","title":"\u6570\u636e\u96c6\u5206\u53d1","text":"<p>\u5185\u5bb9\u5f85\u66f4\u65b0\u3002</p>"},{"location":"tutorials/dataset_download/","title":"\u6570\u636e\u96c6\u51c6\u5907","text":"<p>OpenDataLab\u5b98\u7f51\u6536\u96c6\u4e86\u6d77\u91cf\u516c\u5f00\u6570\u636e\u96c6\uff0c\u5bf9\u4e8e\u5927\u90e8\u5206\u6570\u636e\u96c6\u7528\u6237\u53ef\u4ee5\u5728\u8be5\u7f51\u7ad9\u76f4\u63a5\u4e0b\u8f7d\uff0c\u4e0e\u6b64\u540c\u65f6\uff0c\u6211\u4eec\u9488\u5bf9\u4e3b\u6d41CV\u6570\u636e\u96c6\u90fd\u63d0\u4f9b\u4e86DSDL\u89c4\u8303\u6807\u6ce8\uff0c\u57fa\u4e8e\u539f\u59cb\u516c\u5f00\u6570\u636e\u96c6\u5a92\u4f53\u6587\u4ef6\u548cDSDL\u6807\u6ce8\u6587\u4ef6\uff0c\u7528\u6237\u53ef\u4ee5\u65b9\u4fbf\u5730\u8fdb\u884c\u6a21\u578b\u8bad\u7ec3\u3001\u63a8\u7406\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528\u914d\u5957\u7684\u5de5\u5177\u5bf9\u6570\u636e\u8fdb\u884c\u5206\u6790\u3001\u5904\u7406\u3002</p> <p>\u6570\u636e\u96c6\u51c6\u5907\u5206\u4e3a\u6570\u636e\u96c6\u4e0b\u8f7d\u548c\u6570\u636e\u96c6\u7ec4\u7ec7\u4e24\u90e8\u5206\uff1a</p> <ul> <li>\u6570\u636e\u96c6\u4e0b\u8f7d\uff1a\u53ef\u4ee5\u5728OpenDataLab\u5b98\u7f51\u8fdb\u884c\u4e0b\u8f7d\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528odl\u547d\u4ee4\u8fdb\u884c\u4e0b\u8f7d\u3002\u5177\u4f53\u8bf7\u53c2\u8003\u6570\u636e\u96c6\u4e0b\u8f7d\u90e8\u5206\u3002</li> <li>\u6570\u636e\u96c6\u7ec4\u7ec7\uff1a\u6570\u636e\u96c6\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u8bf7\u7528\u6237\u81ea\u884c\u9605\u8bfbREADME.md\uff0c\u53c2\u9605README\u4e2d\u7684\u539f\u59cb\u6570\u636e\u96c6\u89e3\u538b\u540e\u7684\u76ee\u5f55\u7ed3\u6784\uff0c\u786e\u8ba4\u539f\u59cb\u6570\u636e\u96c6\u4e0b\u8f7d\u5b8c\u6574\u3002\u53e6\u5916\uff0c\u6709\u90e8\u5206\u6570\u636e\u96c6\u5728dsdl\u76ee\u5f55\u4e0b\u6709tools\u6587\u4ef6\u5939\uff08\u5305\u542bprepare.py\uff09\uff0c\u8bf7\u6309\u7167README\u6307\u793a\u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u8f6c\u6362\uff0c\u4ee5\u4fdd\u8bc1DSDL\u6b63\u5e38\u4f7f\u7528\u3002\u5177\u4f53\u4f7f\u7528\u53c2\u8003\u6570\u636e\u96c6\u7ec4\u7ec7\u90e8\u5206\u3002</li> </ul>"},{"location":"tutorials/dataset_download/#1","title":"1. \u6570\u636e\u96c6\u4e0b\u8f7d","text":"<p>\u6839\u636e\uff081\uff09\u662f\u5426\u63d0\u4f9b\u539f\u59cb\u6570\u636e\u96c6\u4e0b\u8f7d\uff1b\uff082\uff09\u662f\u5426\u63d0\u4f9bDSDL\u6807\u6ce8\u4e0b\u8f7d\uff0c\u6211\u4eec\u5c06\u6570\u636e\u96c6\u4e0b\u8f7d\u5206\u4e3a\u56db\u7c7b\u60c5\u5f62\u8fdb\u884c\u8ba8\u8bba\u3002</p>"},{"location":"tutorials/dataset_download/#11-dsdl","title":"1.1 \u540c\u65f6\u63d0\u4f9b\u539f\u59cb\u6570\u636e\u96c6\u5a92\u4f53\u6587\u4ef6\u548cDSDL\u6807\u6ce8\u6587\u4ef6","text":"<p>\u5728\u539f\u59cb\u6570\u636e\u96c6\u5141\u8bb8\u5206\u53d1\uff0c\u4e14DSDL\u6807\u6ce8\u6587\u4ef6\u5df2\u652f\u6301\u7684\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u53ef\u4ee5\u540c\u65f6\u4e0b\u8f7d\u5230\u539f\u59cb\u6570\u636e\u96c6\u5a92\u4f53\u6587\u4ef6\u548cDSDL\u6807\u6ce8\u6587\u4ef6\u3002</p> <p>CLI\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>odl get &lt;dataset_name&gt;\n</code></pre> <p>\u6ce8\u610f\u8fd9\u91cc\u7684\u9700\u8981\u4e0eOpenDataLab\u5b98\u7f51\u4e0a\u7684\u540d\u5b57\u5bf9\u5e94\u3002\u7528\u6237\u53ef\u5728\u5b98\u7f51\u641c\u7d22\u76f8\u5173\u6570\u636e\u96c6\uff0c\u5e76\u5728\u6570\u636e\u96c6\u8be6\u60c5\u9875\u9762\u7684CLI\u90e8\u5206\u83b7\u53d6\u5230\u6570\u636e\u96c6\u540d\u79f0\uff0c\u6bd4\u5982\uff1a <pre><code>odl get CIFAR-10\n</code></pre> <p>\u4e0b\u8f7d\u5230\u7684\u6570\u636e\u96c6\u76ee\u5f55\u5982\u4e0b\uff1a</p> <pre><code>&lt;root-path&gt;\n\u251c\u2500\u2500 original-dataset               # \u539f\u59cb\u6570\u636e\u96c6\u7684\u8def\u5f84\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 dsdl-dataset\n    \u251c\u2500\u2500 defs\n    \u2502   \u251c\u2500\u2500 task-def.yaml          # \u4efb\u52a1\u7c7b\u578b\u7684struct\u5b9a\u4e49\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 class-dom.yaml         # \u6570\u636e\u96c6\u7684\u7c7b\u522b\u57df\n\u251c\u2500\u2500 set-train                  # \u8bad\u7ec3\u96c6\n\u2502   \u251c\u2500\u2500 train.yaml             # \u8bad\u7ec3\u7684yaml\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 train_samples.json     # \u8bad\u7ec3\u96c6sample\u7684json\u6587\u4ef6\n\u251c\u2500\u2500 set-val                    # \u9a8c\u8bc1\u96c6\n\u2502   \u251c\u2500\u2500 val.yaml\n    \u2502   \u2514\u2500\u2500 val_samples.json\n    \u251c\u2500\u2500 set-test                   # \u6d4b\u8bd5\u96c6\n\u2502   \u251c\u2500\u2500 test.yaml\n    \u2502   \u2514\u2500\u2500 test_samples.json  \u251c\u2500\u2500 tools                      # \u5982\u679c\u6570\u636e\u96c6\u4e0d\u9700\u8981\u989d\u5916\u7684\u811a\u672c\u652f\u6301\uff0c\u5219\u4e0d\u5b58\u5728tools\u6587\u4ef6\u5939\n\u2502   \u2514\u2500\u2500 prepare.py             # \u5305\u62ec\u89e3\u538b\u3001\u8f6c\u4e2d\u95f4\u683c\u5f0f\uff08\u5982\u679c\u9700\u8981\u7684\u8bdd\uff09\u548c\u751f\u6210dsdl\u76ee\u5f55\n\u251c\u2500\u2500 config.py                  # \u6570\u636e\u96c6\u8bfb\u53d6\u8def\u5f84\u7b49config\u6587\u4ef6\n\u2514\u2500\u2500 README.md                  # \u5173\u4e8e\u6570\u636e\u96c6\u4e0b\u8f7d\u3001\u4f7f\u7528\u3001\u914d\u7f6e\u7684\u6559\u7a0b\n</code></pre> <p>\u5176\u4e2d\uff0cdefs\u6587\u4ef6\u5939\u548cset-xxx\u6587\u4ef6\u5939\u4e3b\u8981\u5305\u542bDSDL\u6570\u636e\u96c6\u7684\u5b9a\u4e49\u6587\u4ef6\u3001\u7c7b\u522b\u57df\u6587\u4ef6\u548c\u6570\u636e\u6587\u4ef6\u7b49\uff0cconfig.py\u6587\u4ef6\u91cc\u5305\u542b\u539f\u59cb\u6570\u636e\u96c6\u7684\u7edd\u5bf9\u8def\u5f84\uff08\u8be6\u7ec6\u4fe1\u606f\u53ef\u4ee5\u53c2\u9605\u81ea\u5b9a\u4e49DSDL\u6570\u636e\u96c6\uff09\u3002\u800ctools\u6587\u4ef6\u4e0b\u4e3b\u8981\u662f\u6570\u636e\u96c6\u51c6\u5907\u8fc7\u7a0b\u6240\u9700\u7684\u811a\u672c\uff0c\u8be6\u7ec6\u4f7f\u7528\u65b9\u6cd5\u89c1\u6bcf\u4e2a\u6570\u636e\u96c6\u7684README.md\u6587\u6863\u3002</p> <p>\u5728\u6b64\u6848\u4f8b\u4e2d\uff0cconfig\u6587\u4ef6\u7684\u5185\u5bb9\u4e3a\uff08\u5176\u4e2d\u7684 <code>&lt;root-path&gt;</code>\u9700\u8981\u7528\u6237\u81ea\u884c\u4fee\u6539\uff09\uff1a</p> <pre><code>local = dict(\ntype=\"LocalFileReader\",\n    working_dir=\"&lt;root-path&gt;/original-dataset\",\n)\n</code></pre>"},{"location":"tutorials/dataset_download/#12-dsdl","title":"1.2 \u4ec5\u63d0\u4f9bDSDL\u6807\u6ce8\u6587\u4ef6","text":"<p>\u5982\u679c\u539f\u59cb\u6570\u636e\u96c6\u4e0d\u5141\u8bb8\u5206\u53d1\uff0c\u800cDSDL\u5df2\u652f\u6301\uff0c\u7528\u6237\u9700\u8981\u81ea\u884c\u4e0b\u8f7d\u539f\u59cb\u6570\u636e\u96c6\u3002</p> <p>\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>odl get &lt;dataset_name&gt;\n</code></pre> <p>\u4e0b\u8f7d\u5230\u7684\u6570\u636e\u96c6\u5c06\u53ea\u6709dsdl-dataset\u6587\u4ef6\u5939\uff0c\u800c\u4e0d\u5305\u542boriginal-dataset\u6587\u4ef6\u5939\u3002\u7528\u6237\u53ef\u4ee5\u81ea\u884c\u4e0b\u8f7d\u6570\u636e\u96c6\uff0c\u5e76\u901a\u8fc7\u4fee\u6539config.py\u4e2d\u7684\u8def\u5f84\uff0c\u6765\u6307\u5b9a\u539f\u59cb\u6570\u636e\u96c6\u5a92\u4f53\u6587\u4ef6\u7684\u5b58\u653e\u4f4d\u7f6e\u3002\u5efa\u8bae\u4e0e\u4e0a\u4e00\u5c0f\u8282\u7ed9\u7684\u76ee\u5f55\u683c\u5f0f\u4fdd\u6301\u4e00\u81f4\uff0c\u4ee5\u4fdd\u8bc1tools\u6587\u4ef6\u5939\u4e0b\u811a\u672c\u7684\u6b63\u5e38\u8fd0\u884c\u3002</p>"},{"location":"tutorials/dataset_download/#13","title":"1.3 \u4ec5\u63d0\u4f9b\u539f\u59cb\u6570\u636e\u96c6\u5a92\u4f53\u548c\u6807\u6ce8\u6587\u4ef6","text":"<p>OpenDataLab\u5b98\u7f51\u4e0a\u5141\u8bb8\u5206\u53d1\u7684\u6570\u636e\u96c6\uff0c\u76ee\u524d\u5c1a\u6709\u90e8\u5206\u6682\u672a\u652f\u6301DSDL\u6807\u51c6\u5316\u6807\u6ce8\uff0c\u4f46\u662f\u7528\u6237\u4ecd\u7136\u53ef\u4ee5\u4e0b\u8f7d\u5230\u539f\u59cb\u6570\u636e\u96c6\u7684\u5a92\u4f53\u548c\u6807\u6ce8\u6587\u4ef6\u3002</p> <p>\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>odl get &lt;dataset_name&gt;\n</code></pre> <p>\u4e0b\u8f7d\u5230\u7684\u6570\u636e\u96c6\u5c06\u53ea\u6709original-dataset\uff0c\u800c\u4e0d\u5305\u542bdsdl-dataset\u6587\u4ef6\u5939\u3002</p> <p>\u7528\u6237\u5982\u679c\u9700\u8981\u81ea\u884c\u5c06\u5176\u5b9a\u4e49\u4e3aDSDL\u6570\u636e\u96c6\uff0c\u4ee5\u4fbf\u4f7f\u7528ODL\u5de5\u5177\u94fe\u76f8\u5173\u529f\u80fd\u548cOpenMMLab\u8bad\u7ec3\uff0c\u8bf7\u53c2\u9605\u81ea\u5b9a\u4e49DSDL\u6570\u636e\u96c6\u3002</p>"},{"location":"tutorials/dataset_download/#14-dsdl","title":"1.4 \u4e0d\u63d0\u4f9b\u539f\u59cb\u6570\u636e\u96c6\u5a92\u4f53\u6587\u4ef6\u548cDSDL\u6807\u6ce8\u6587\u4ef6","text":"<p>\u5982\u679c\u5f53\u524d\u6570\u636e\u96c6\u5728OpenDataLab\u5b98\u7f51\u4e0a\u6682\u4e0d\u63d0\u4f9b\u4e0b\u8f7d\uff0c\u4e14\u5c1a\u672a\u652f\u6301DSDL\u6807\u51c6\u5316\u6807\u6ce8\uff0c\u7528\u6237\u9700\u81ea\u884c\u5230\u6570\u636e\u96c6\u5b98\u7f51\u8fdb\u884c\u539f\u59cb\u6570\u636e\u96c6\u5a92\u4f53\u6587\u4ef6\u548c\u6807\u6ce8\u6587\u4ef6\u4e0b\u8f7d\u3002</p> <p>\u53e6\u5916\uff0c\u7528\u6237\u5982\u679c\u9700\u8981\u81ea\u884c\u5c06\u5176\u5b9a\u4e49\u4e3aDSDL\u6570\u636e\u96c6\uff0c\u4ee5\u4fbf\u4f7f\u7528ODL\u5de5\u5177\u94fe\u76f8\u5173\u529f\u80fd\u548cOpenMMLab\u8bad\u7ec3\uff0c\u8bf7\u53c2\u9605\u81ea\u5b9a\u4e49DSDL\u6570\u636e\u96c6\u3002</p>"},{"location":"tutorials/dataset_download/#2","title":"2. \u6570\u636e\u96c6\u7ec4\u7ec7","text":"<p>\u7528\u6237\u4e0b\u8f7d\u597d\u6570\u636e\u96c6\u540e\uff0c\u8bf7\u9605\u8bfbREADME\uff0c\u6839\u636e\u662f\u5426\u9700\u8981\u7528\u6237\u8fd0\u884ctools/prepare.py\uff0cREADME\u5206\u4e3a\u4e24\u79cd\u7248\u672c\uff1a</p> <ul> <li>\u4e0d\u5305\u542b\u201cprepare the dataset\u201d\u6a21\u5757\uff1aDSDL\u4e0e\u539f\u59cb\u6570\u636e\u96c6\u53ef\u4ee5\u76f4\u63a5\u5339\u914d</li> <li>\u5305\u542b\u201cprepare the dataset\u201d\u6a21\u5757\uff1a\u9700\u8981\u8fd0\u884cprepare.py\u5bf9\u6570\u636e\u96c6\u505a\u9884\u5904\u7406</li> </ul>"},{"location":"tutorials/dataset_download/#21-dsdl","title":"2.1 DSDL\u4e0e\u539f\u59cb\u6570\u636e\u96c6\u53ef\u4ee5\u76f4\u63a5\u5339\u914d","text":"<p>\u8fd9\u7c7b\u6570\u636e\u96c6\u7684dsdl\u76ee\u5f55\u4e0b\u4e0d\u5305\u542btools\u6587\u4ef6\u5939\uff0c\u5e76\u4e14\u5176README\u4e2d\u4e0d\u5305\u542b\u201cprepare the dataset\u201d\u6a21\u5757\u3002\u8bf7\u7528\u6237\u81ea\u884c\u89e3\u538b\u539f\u59cb\u6570\u636e\u96c6\u548cDSDL\u6587\u4ef6\u5939\uff0c\u5e76\u4fdd\u8bc1\u5176\u76ee\u5f55\u7ed3\u6784\u4e0eREADME\u4e2d\u5c55\u793a\u7684\u201c\u539f\u59cb\u6570\u636e\u96c6\u89e3\u538b\u540e\u7684\u76ee\u5f55\u7ed3\u6784\u201d\u4e00\u81f4\uff0c\u5373\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528DSDL\u6807\u51c6\u5316\u6570\u636e\u96c6\u3002README\u5185\u5bb9\u5982\u4e0b\uff1a</p> \u4e0d\u5305\u542b\u201cprepare the dataset\u201d\u6a21\u5757\u7684README <pre><code># Data Set Description Language(DSDL) for [dataset_name] dataset\n\n## Data Structure\n\nPlease make sure the folder structure of prepared dataset is organized as followed:\n\n&lt;dataset_root&gt;\n\u251c\u2500\u2500 ...               # \u539f\u59cb\u6570\u636e\u96c6\u89e3\u538b\u540e\u7684\u76ee\u5f55\u7ed3\u6784\n\nThe folder structure of dsdl annotation is organized as followed:\n\n&lt;dataset_root&gt;\n\u251c\u2500\u2500 ...               # dsdl\u89e3\u538b\u540e\u7684\u76ee\u5f55\u7ed3\u6784\n\n## config.py\n\nYou can load your dataset from local or oss.\nFrom local:\n\nlocal = dict(\n    type=\"LocalFileReader\",\n    working_dir=\"the root path of the prepared dataset\",\n)\n\nPlease change the 'working_dir' to the path of your prepared dataset where media data can be found,\nfor example: \"`&lt;root&gt;`/dataset_name/prepared\".\n\nFrom oss:\n\nali_oss = dict(\n    type=\"AliOSSFileReader\",\n    access_key_secret=\"your secret key of aliyun oss\",\n    endpoint=\"your endpoint of aliyun oss\",\n    access_key_id=\"your access key of aliyun oss\",\n    bucket_name=\"your bucket name of aliyun oss\",\n    working_dir=\"the prefix of the prepared dataset within the bucket\")\n\nPlease change the 'access_key_secret', 'endpoint', 'access_key_id', 'bucket_name' and 'working_dir',\ne.g. if the full path of your prepared dataset is \"oss://bucket_name/dataset_name/prepared\", then the working_dir should be \"dataset_name/prepared\".\n\n## Related source:\n\n1. Get more information about DSDL: [dsdl-docs](https://opendatalab.github.io/dsdl-docs/)\n2. DSDL-SDK official repo: [dsdl-sdk](https://github.com/opendatalab/dsdl-sdk/)\n3. Get more dataset: [opendatalab](https://opendatalab.com/)\n</code></pre>"},{"location":"tutorials/dataset_download/#22-preparepy","title":"2.2 \u9700\u8981\u8fd0\u884cprepare.py\u5bf9\u6570\u636e\u96c6\u505a\u9884\u5904\u7406","text":"<p>\u8fd9\u7c7b\u6570\u636e\u96c6\u7684dsdl\u76ee\u5f55\u4e0b\u5305\u542btools\u6587\u4ef6\u5939\uff0c\u9700\u8981\u8fd0\u884ctools/prepare.py\u5c06\u6570\u636e\u96c6\u8f6c\u6362\u4e3aDSDL\u6807\u51c6\u540e\uff08\u540e\u6587\u5c06\u4f1a\u8be6\u8ff0\u5982\u4f55\u8fd0\u884c\u8be5\u4ee3\u7801\uff09\uff0c\u624d\u80fd\u6b63\u5e38\u4f7f\u7528DSDL\u6807\u51c6\u5316\u6570\u636e\u96c6\u3002\u8fd9\u7c7b\u6570\u636e\u96c6\u7684README\u5185\u5bb9\u5982\u4e0b\uff1a</p> \u5305\u542b\u201cprepare the dataset\u201d\u6a21\u5757\u7684README <pre><code># Data Set Description Language(DSDL) for [dataset_name] dataset\n\n## prepare the dataset\n\nTo make sure the DSDL dataset for [task_name] run successfully, the tools/prepare.py should be executed.\nFor this dataset, the following step will be selected to execute:\n\n- decompress\n- prepare dataset and generate DSDL annotation\n\nThere are four usage scenarios:\n\n### decompress, convert\n\npython tools/prepare.py &lt;path_to_the_compressed_dataset_folder&gt;\n\n### decompress, copy and convert\n\npython tools/prepare.py -c &lt;path_to_the_compressed_dataset_folder&gt;\n\n### (already decompressed) copy and convert\n\npython tools/prepare.py -d -c &lt;path_to_the_decompressed_dataset_folder&gt;\n\n### (already decompressed) convert, directly overwrite\n\npython tools/prepare.py -d &lt;path_to_the_decompressed_dataset_folder&gt;\n\nFor more messages, see [Dataset Prepare Section](https://opendatalab.github.io/dsdl-docs/tutorials/dataset_download/) in DSDL DOC, or use the help option:\n\npython tools/prepare.py --help\n\n## Data Structure\n\nPlease make sure the folder structure of prepared dataset is organized as followed:\n\n&lt;dataset_root&gt;\n\u251c\u2500\u2500 ...               # \u539f\u59cb\u6570\u636e\u96c6\u89e3\u538b\u540e\u7684\u76ee\u5f55\u7ed3\u6784\n\nThe folder structure of dsdl annotation for [task_name] is organized as followed:\n\n&lt;dataset_root&gt;\n\u251c\u2500\u2500 ...               # dsdl\u89e3\u538b\u540e\u7684\u76ee\u5f55\u7ed3\u6784\n\n## config.py\n\nYou can load your dataset from local or oss.\nFrom local:\n\nlocal = dict(\n    type=\"LocalFileReader\",\n    working_dir=\"the root path of the prepared dataset\",\n)\n\nPlease change the 'working_dir' to the path of your prepared dataset where media data can be found,\nfor example: \"`&lt;root&gt;`/dataset_name/prepared\".\n\nFrom oss:\n\nali_oss = dict(\n    type=\"AliOSSFileReader\",\n    access_key_secret=\"your secret key of aliyun oss\",\n    endpoint=\"your endpoint of aliyun oss\",\n    access_key_id=\"your access key of aliyun oss\",\n    bucket_name=\"your bucket name of aliyun oss\",\n    working_dir=\"the prefix of the prepared dataset within the bucket\")\n\nPlease change the 'access_key_secret', 'endpoint', 'access_key_id', 'bucket_name' and 'working_dir',\ne.g. if the full path of your prepared dataset is \"oss://bucket_name/dataset_name/prepared\", then the working_dir should be \"dataset_name/prepared\".\n\n## Related source:\n\n1. Get more information about DSDL: [dsdl-docs](https://opendatalab.github.io/dsdl-docs/)\n2. DSDL-SDK official repo: [dsdl-sdk](https://github.com/opendatalab/dsdl-sdk/)\n3. Get more dataset: [opendatalab](https://opendatalab.com/)\n</code></pre> <p>\u4e3a\u4e86\u6ee1\u8db3\u539f\u59cb\u6570\u636e\u96c6\u6765\u6e90\u4e0d\u540c\u7684\u7528\u6237\uff0cprepare.py\u8bbe\u5b9a\u4e86\u4e24\u4e2a\u53c2\u6570\uff0c\u5206\u522b\u6307\u793a\u662f\u5426\u6267\u884c\u89e3\u538b (-d) \u4ee5\u53ca\u662f\u5426\u4fdd\u7559\u4e00\u4efd\u89e3\u538b\u540e\u7684\u539f\u59cb\u6570\u636e\u96c6 (-c)\uff0c\u5206\u4e3a\u4ee5\u4e0b\u56db\u79cd\u4f7f\u7528\u573a\u666f\uff1a</p> <pre><code>### \u6267\u884c\u89e3\u538b\u5e76\u8f6c\u6362\npython tools/prepare.py &lt;path_to_the_compressed_dataset_folder&gt;\n\n### \u6267\u884c\u89e3\u538b\uff0c\u590d\u5236\u4e00\u4efd\u539f\u59cb\u6570\u636e\u96c6\u540e\u8f6c\u6362\npython tools/prepare.py -c &lt;path_to_the_compressed_dataset_folder&gt;\n\n### \u8df3\u8fc7\u89e3\u538b\uff0c\u590d\u5236\u4e00\u4efd\u539f\u59cb\u6570\u636e\u96c6\u540e\u6267\u884c\u8f6c\u6362\npython tools/prepare.py -d -c &lt;path_to_the_decompressed_dataset_folder&gt;\n\n### \u8df3\u8fc7\u89e3\u538b\uff0c\u6267\u884c\u8f6c\u6362\uff08\u76f4\u63a5\u8986\u76d6\u539f\u59cb\u6570\u636e\u96c6\uff09\npython tools/prepare.py -d &lt;path_to_the_decompressed_dataset_folder&gt;\n</code></pre> <p>\u5177\u4f53\u7684\u4ee3\u7801\u8fd0\u884c\u573a\u666f\u548c\u7ec6\u8282\u8bf7\u67e5\u770b2.2.1-2.2.4\u5c0f\u8282\u3002</p>"},{"location":"tutorials/dataset_download/#221","title":"2.2.1 \u6267\u884c\u89e3\u538b\u5e76\u8f6c\u6362","text":"<p>\u5982\u679c\u7528\u6237\u662f\u4eceOpenDataLab\u4e0a\u4e0b\u8f7d\u5230\u7684\u539f\u59cb\u6570\u636e\u96c6\u538b\u7f29\u5305\uff0c\u53ef\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fd0\u884cprepare.py\uff0c\u8bf7\u5c06\u8def\u5f84\u4fee\u6539\u4e3a\u539f\u59cb\u6570\u636e\u96c6\u538b\u7f29\u5305\u6240\u5728\u7684\u6587\u4ef6\u5939\u8def\u5f84\u3002</p> <pre><code>python tools/prepare.py &lt;path_to_the_compressed_dataset_folder&gt;\n</code></pre> <p>\u8fd0\u884c\u8be5\u4ee3\u7801\u540e\uff0c\u5c06\u4f1a\u5bf9\u7528\u6237\u63d0\u4f9b\u7684\u6570\u636e\u96c6\u538b\u7f29\u5305\u8fdb\u884c\u89e3\u538b\uff0c\u751f\u6210prepared\u6587\u4ef6\u5939\uff0c\u7136\u540e\u76f4\u63a5\u5bf9prepared\u6587\u4ef6\u5939\u8fdb\u884cDSDL\u6807\u51c6\u5316\u64cd\u4f5c\uff0c\u5e76\u751f\u6210DSDL\u6807\u6ce8\u3002\u6267\u884c\u540e\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>\u251c\u2500\u2500 &lt;dataset_root&gt;                      # \u6570\u636e\u96c6\u6839\u76ee\u5f55\n\u251c\u2500\u2500 &lt;compressed_dataset_folder&gt;     # OpenDataLab\u4e0a\u4e0b\u8f7d\u5230\u7684\u539f\u59cb\u6570\u636e\u96c6\u538b\u7f29\u5305\u6240\u5728\u7684\u6587\u4ef6\u5939\n\u251c\u2500\u2500 ...\n    \u251c\u2500\u2500 &lt;dsdl_folder&gt;                   # OpenDataLab\u4e0a\u4e0b\u8f7d\u5230\u5e76\u89e3\u538b\u540e\u7684dsdl\u6587\u4ef6\u5939\n\u251c\u2500\u2500 ...\n    \u251c\u2500\u2500 prepared                        # \u5bf9\u539f\u59cb\u6570\u636e\u96c6\u538b\u7f29\u5305\u89e3\u538b\u5e76\u6267\u884cDSDL\u6807\u51c6\u5316\u540e\u7684\u6570\u636e\u96c6\u6587\u4ef6\u5939\n\u251c\u2500\u2500 ...\n</code></pre>"},{"location":"tutorials/dataset_download/#222","title":"2.2.2 \u6267\u884c\u89e3\u538b\uff0c\u590d\u5236\u4e00\u4efd\u539f\u59cb\u6570\u636e\u96c6\u540e\u8f6c\u6362","text":"<p>\u5982\u679c\u7528\u6237\u5e0c\u671b\u4fdd\u7559\u4e00\u4efd\u89e3\u538b\u540e\u7684\u539f\u59cb\u6570\u636e\u96c6\uff0c\u53ef\u589e\u52a0-c\u53c2\u6570\u6765\u6307\u5b9a\uff1a</p> <pre><code>python tools/prepare.py -c &lt;path_to_the_compressed_dataset_folder&gt;\n</code></pre> <p>\u8fd0\u884c\u8be5\u4ee3\u7801\u540e\uff0c\u5c06\u4f1a\u5bf9\u7528\u6237\u63d0\u4f9b\u7684\u6570\u636e\u96c6\u538b\u7f29\u5305\u8fdb\u884c\u89e3\u538b\uff0c\u5e76\u4fdd\u5b58\u5230original\u6587\u4ef6\u5939\u4e0b\uff0c\u540c\u65f6\u4f1a\u5c06original\u590d\u5236\u4e00\u4efd\u5e76\u547d\u540d\u4e3aprepared\u6587\u4ef6\u5939\uff0c\u7136\u540e\u518d\u5bf9prepared\u6587\u4ef6\u5939\u7684\u5185\u5bb9\u8fdb\u884cDSDL\u6807\u51c6\u5316\u64cd\u4f5c\uff0c\u5e76\u751f\u6210DSDL\u6807\u6ce8\u3002\u6267\u884c\u540e\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>\u251c\u2500\u2500 &lt;dataset_root&gt;                      # \u6570\u636e\u96c6\u6839\u76ee\u5f55\n\u251c\u2500\u2500 &lt;compressed_dataset_folder&gt;     # OpenDataLab\u4e0a\u4e0b\u8f7d\u5230\u7684\u539f\u59cb\u6570\u636e\u96c6\u538b\u7f29\u5305\u6240\u5728\u7684\u6587\u4ef6\u5939\n\u251c\u2500\u2500 ...\n    \u251c\u2500\u2500 &lt;dsdl_folder&gt;                   # OpenDataLab\u4e0a\u4e0b\u8f7d\u5230\u5e76\u89e3\u538b\u540e\u7684dsdl\u6587\u4ef6\u5939\n\u251c\u2500\u2500 ...\n    \u251c\u2500\u2500 original                        # \u89e3\u538b\u540e\u7684\u539f\u59cb\u6570\u636e\u96c6\u6587\u4ef6\u5939\n\u251c\u2500\u2500 ...  \u251c\u2500\u2500 prepared                        # \u590d\u5236original\u5e76\u6267\u884cDSDL\u6807\u51c6\u5316\u540e\u7684\u6570\u636e\u96c6\u6587\u4ef6\u5939\n\u251c\u2500\u2500 ...\n</code></pre>"},{"location":"tutorials/dataset_download/#223","title":"2.2.3 \u8df3\u8fc7\u89e3\u538b\uff0c\u590d\u5236\u4e00\u4efd\u539f\u59cb\u6570\u636e\u96c6\u540e\u6267\u884c\u8f6c\u6362","text":"<p>\u5982\u679c\u7528\u6237\u662f\u4ece\u522b\u7684\u9014\u5f84\u4e0b\u8f7d\u7684\u539f\u59cb\u6570\u636e\u96c6\u6216\u662f\u5df2\u89e3\u538b\u8fc7\u7684\u6570\u636e\u96c6\uff0c\u5e76\u4e14\u5e0c\u671b\u8f6c\u6362\u540e\u751f\u6210\u4e00\u4e2a\u65b0\u7684DSDL\u6807\u51c6\u6570\u636e\u96c6\u6587\u4ef6\u5939\uff0c\u8bf7\u7528\u6237\u81ea\u884c\u89e3\u538b\u6570\u636e\u96c6\u540e\uff0c\u786e\u4fdd\u5176\u76ee\u5f55\u7ed3\u6784\u4e0eREADME\u4e2d\u5c55\u793a\u7684\u201c\u539f\u59cb\u6570\u636e\u96c6\u89e3\u538b\u540e\u7684\u76ee\u5f55\u7ed3\u6784\u201d\u4e00\u81f4\uff0c\u7136\u540e\u5229\u7528-d\u53c2\u6570\u8df3\u8fc7\u89e3\u538b\u64cd\u4f5c\uff0c\u76f4\u63a5\u6267\u884c\u6570\u636e\u96c6\u8f6c\u6362\uff0c\u8def\u5f84\u4e3a\u89e3\u538b\u540e\u7684\u539f\u59cb\u6570\u636e\u96c6\u6587\u4ef6\u5939\uff1a</p> <pre><code>python tools/prepare.py -d -c &lt;path_to_the_decompressed_dataset_folder&gt;\n</code></pre> <p>\u8fd0\u884c\u8be5\u4ee3\u7801\u540e\uff0c\u5c06\u4f1a\u590d\u5236\u4e00\u4efd\u7528\u6237\u63d0\u4f9b\u7684\u89e3\u538b\u540e\u7684\u539f\u59cb\u6570\u636e\u96c6\u5230\u540c\u76ee\u5f55\u4e0b\uff0c\u6587\u4ef6\u5939\u540d\u4e3aprepared\uff0c\u7136\u540e\u518d\u5bf9prepared\u6587\u4ef6\u5939\u7684\u5185\u5bb9\u8fdb\u884cDSDL\u6807\u51c6\u5316\u64cd\u4f5c\uff0c\u5e76\u751f\u6210DSDL\u6807\u6ce8\u3002\u7528\u6237\u63d0\u4f9b\u7684\u539f\u59cb\u6570\u636e\u96c6\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u90fd\u5c06\u4f1a\u4fdd\u7559\u3002\u6267\u884c\u540e\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>\u251c\u2500\u2500 &lt;dataset_root&gt;                      # \u6570\u636e\u96c6\u6839\u76ee\u5f55\n\u251c\u2500\u2500 &lt;decompressed_dataset_folder&gt;   # \u7528\u6237\u81ea\u884c\u89e3\u538b\u5f97\u5230\u7684\u539f\u59cb\u6570\u636e\u96c6\u6587\u4ef6\u5939\n\u251c\u2500\u2500 ...\n    \u251c\u2500\u2500 &lt;dsdl_folder&gt;                   # OpenDataLab\u4e0a\u4e0b\u8f7d\u5230\u5e76\u89e3\u538b\u540e\u7684dsdl\u6587\u4ef6\u5939\n\u251c\u2500\u2500 ... \u251c\u2500\u2500 prepared                        # \u590d\u5236&lt;decompressed_dataset_folder&gt;\u5e76\u6267\u884cDSDL\u6807\u51c6\u5316\u540e\u7684\u6570\u636e\u96c6\u6587\u4ef6\u5939\n\u251c\u2500\u2500 ...\n</code></pre>"},{"location":"tutorials/dataset_download/#224","title":"2.2.4 \u8df3\u8fc7\u89e3\u538b\uff0c\u6267\u884c\u8f6c\u6362\uff08\u76f4\u63a5\u8986\u76d6\u539f\u59cb\u6570\u636e\u96c6\uff09","text":"<p>\u5982\u679c\u7528\u6237\u662f\u4ece\u522b\u7684\u9014\u5f84\u4e0b\u8f7d\u7684\u539f\u59cb\u6570\u636e\u96c6\u6216\u662f\u5df2\u89e3\u538b\u8fc7\u7684\u6570\u636e\u96c6\uff0c\u5e76\u4e14\u5e0c\u671b\u8f6c\u6362\u540e\u4ec5\u4fdd\u7559DSDL\u6807\u51c6\u7684\u6570\u636e\u96c6\uff0c\u8bf7\u7528\u6237\u81ea\u884c\u89e3\u538b\u6570\u636e\u96c6\u540e\uff0c\u786e\u4fdd\u5176\u76ee\u5f55\u7ed3\u6784\u4e0eREADME\u4e2d\u5c55\u793a\u7684\u201c\u539f\u59cb\u6570\u636e\u96c6\u89e3\u538b\u540e\u7684\u76ee\u5f55\u7ed3\u6784\u201d\u4e00\u81f4\uff0c\u7136\u540e\u5229\u7528-d\u53c2\u6570\u8df3\u8fc7\u89e3\u538b\u64cd\u4f5c\uff0c\u76f4\u63a5\u6267\u884c\u6570\u636e\u96c6\u8f6c\u6362\uff0c\u5176\u4e2d\u8def\u5f84\u4e3a\u89e3\u538b\u540e\u7684\u539f\u59cb\u6570\u636e\u96c6\u6587\u4ef6\u5939\uff1a</p> <pre><code>python tools/prepare.py -d &lt;path_to_the_decompressed_dataset_folder&gt;\n</code></pre> <p>\u8fd0\u884c\u8be5\u4ee3\u7801\u540e\uff0c\u5c06\u4f1a\u5bf9\u7528\u6237\u63d0\u4f9b\u7684\u89e3\u538b\u540e\u7684\u539f\u59cb\u6570\u636e\u96c6\u6587\u4ef6\u5939\u91cc\u7684\u5185\u5bb9\u8fdb\u884cDSDL\u6807\u51c6\u5316\u64cd\u4f5c\uff0c\u5e76\u751f\u6210DSDL\u6807\u6ce8\u3002\u8bf7\u6ce8\u610f\uff0c\u8be5\u64cd\u4f5c\u4f1a\u4f7f\u5f97\u7528\u6237\u63d0\u4f9b\u7684\u539f\u59cb\u6570\u636e\u96c6\u7684\u90e8\u5206\u5a92\u4f53\u6587\u4ef6\u6216\u6807\u6ce8\u6587\u4ef6\u88ab\u8986\u76d6\uff0c\u5982\u679c\u4e0d\u60f3\u6539\u53d8\u539f\u59cb\u6570\u636e\u96c6\u7684\u6587\u4ef6\uff0c\u8bf7\u6267\u884c\u4e0a\u6587\u4e2d\u7684\u201c\u8df3\u8fc7\u89e3\u538b\uff0c\u590d\u5236\u4e00\u4efd\u539f\u59cb\u6570\u636e\u96c6\u540e\u6267\u884c\u8f6c\u6362\u201d\u3002\u6267\u884c\u540e\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>\u251c\u2500\u2500 &lt;dataset_root&gt;                      # \u6570\u636e\u96c6\u6839\u76ee\u5f55\n\u251c\u2500\u2500 &lt;decompressed_dataset_folder&gt;   # \u7528\u6237\u81ea\u884c\u89e3\u538b\u5f97\u5230\u7684\u539f\u59cb\u6570\u636e\u96c6\u6587\u4ef6\u5939\uff08\u5176\u4e2d\u90e8\u5206\u6587\u4ef6\u5728\u6807\u51c6\u5316\u8fc7\u7a0b\u4e2d\u5df2\u88ab\u8986\u76d6\uff09\n\u251c\u2500\u2500 ...\n    \u251c\u2500\u2500 &lt;dsdl_folder&gt;                   # OpenDataLab\u4e0a\u4e0b\u8f7d\u5230\u5e76\u89e3\u538b\u540e\u7684dsdl\u6587\u4ef6\u5939\n\u251c\u2500\u2500 ... </code></pre>"},{"location":"tutorials/overview/","title":"\u6559\u7a0b\u4ecb\u7ecd","text":"<p>\u5728\u6b63\u5f0f\u8fdb\u5165\u5b66\u4e60\u524d\uff0c\u6211\u4eec\u5c06\u7b80\u5355\u4ecb\u7ecd\u6570\u636e\u96c6\u4f7f\u7528\u73b0\u72b6\u53ca\u95ee\u9898\uff0c\u7531\u6b64\u63d0\u51fa\u5bf9\u5e94\u7684\u89e3\u51b3\u601d\u8def\u548c\u65b9\u6848\uff0c\u65e8\u5728\u8ba9\u7528\u6237\u64cd\u4f5c\u6570\u636e\u66f4\u52a0\u5f97\u5fc3\u5e94\u624b\u3002</p>"},{"location":"tutorials/overview/#_1","title":"\u6570\u636e\u96c6\u73b0\u72b6","text":"<p>\u5bf9\u4e8e\u6570\u636e\u96c6\u53d1\u5e03\u65b9\uff0c\u7531\u4e8e\u6ca1\u6709\u7edf\u4e00\u7684\u89c4\u8303\u548c\u6807\u51c6\u7ea6\u675f\u6570\u636e\u96c6\u63cf\u8ff0\u65b9\u5f0f\u53ca\u53d1\u5e03\u9014\u5f84\uff0c\u4f7f\u5f97\uff1a    </p> <ul> <li>\u4e0d\u540c\u7684\u6570\u636e\u96c6\u6709\u4e0d\u540c\u7684\u7ec4\u7ec7\u7ed3\u6784\uff0c\u6807\u6ce8\u683c\u5f0f\uff1b  </li> <li>\u4e0d\u540c\u7684\u6570\u636e\u96c6\u53d1\u5e03\u65b9\u5f0f\u4e0d\u540c\uff1a\u5b98\u7f51\u3001Github\u3001\u7f51\u76d8\u3001\u90ae\u7bb1\u7533\u8bf7\u7b49\u7b49\uff1b  </li> </ul> <p>\u4e0a\u8ff0\u73b0\u8c61\u4f7f\u5f97\u6570\u636e\u96c6\u4f7f\u7528\u8005\u5728\u6570\u636e\u83b7\u53d6\u548c\u4f7f\u7528\u65f6\u5b58\u5728\u4e00\u7cfb\u5217\u95ee\u9898\uff1a  </p> <ul> <li>\u83b7\u53d6\u6570\u636e\u96c6\u9700\u8981\u57fa\u4e8e\u641c\u7d22\u5f15\u64ce\u67e5\u770b\u3001\u5bf9\u6bd4\uff0c\u624d\u80fd\u627e\u5230\u60f3\u7528\u7684\u6570\u636e\u96c6\uff1b  </li> <li>\u7f51\u7edc\u4e0d\u7a33\u5b9a\u65f6\u65e0\u6cd5\u786e\u5b9a\u4e0b\u8f7d\u6570\u636e\u96c6\u5b8c\u6574\u6027\uff1b  </li> <li>\u5bf9\u6570\u636e\u96c6\u5206\u6790\u3001\u67e5\u770b\u901a\u5e38\u9700\u8981\u81ea\u5df1\u5199\u811a\u672c\u5904\u7406\uff1b  </li> <li>\u5bf9\u6570\u636e\u96c6\u8bad\u7ec3\u3001\u63a8\u7406\u901a\u5e38\u9700\u8981\u683c\u5f0f\u8f6c\u6362\u6216\u8005\u91cd\u5199DataLoader\uff1b  </li> <li>\u540c\u4e00\u4efb\u52a1\u7684\u4e0d\u540c\u6570\u636e\u96c6\uff0c\u9700\u7edf\u4e00\u683c\u5f0f\u8f6c\u6362\u540e\u624d\u80fd\u7edf\u4e00\u4f7f\u7528\uff1b</li> </ul> <p>\u4e3a\u4e86\u89e3\u51b3\u6570\u636e\u68c0\u7d22\u548c\u4e0b\u8f7d\u95ee\u9898\uff0c\u6211\u4eec\u642d\u5efaOpenDataLab\u516c\u5f00\u6570\u636e\u96c6\u5e73\u53f0\uff0c\u6536\u96c6\u4e86\u5927\u91cfAI\u6570\u636e\u96c6\uff0c\u5e76\u5bf9LICENSE\u3001\u5143\u4fe1\u606f\u7b49\u8fdb\u884c\u6574\u7406\uff0c\u63d0\u4f9b\u9ad8\u6548\u68c0\u7d22\u548c\u9ad8\u901f\u4e0b\u8f7d\u80fd\u529b\u3002  </p> <p>\u4e3a\u4e86\u89e3\u51b3\u6570\u636e\u96c6\u65e0\u7edf\u4e00\u89c4\u8303\u800c\u5bfc\u81f4\u7684\u6570\u636e\u96c6\u4f7f\u7528\u7e41\u6742\u95ee\u9898\uff0c\u6211\u4eec\u63d0\u51fa\u4e86\u65b0\u4e00\u4ee3AI\u6570\u636e\u96c6\u63cf\u8ff0\u8bed\u8a00DSDL\uff08Data Set Description Language\uff09\uff0cDSDL\u53ef\u4ee5\u8ba9\u4e0d\u540c\u4efb\u52a1\u3001\u751a\u81f3\u4e0d\u540c\u6a21\u6001\u7684\u6570\u636e\u6807\u6ce8\u4ee5\u76f8\u5bf9\u7edf\u4e00\u7684\u89c4\u8303\u8fdb\u884c\u63cf\u8ff0\uff0c\u7528\u6237\u65e0\u9700\u518d\u4e3a\u683c\u5f0f\u7edf\u4e00\u95ee\u9898\u800c\u5728\u6570\u636e\u4f7f\u7528\u7684\u5404\u4e2a\u73af\u8282\u8017\u8d39\u65f6\u95f4\u3002  </p> <p>\u4e3a\u4e86\u65b9\u4fbf\u7528\u6237\u5feb\u901f\u7684\u5bf9\u6570\u636e\u8fdb\u884c\u68c0\u7d22\u3001\u4e0b\u8f7d\u3001\u7ba1\u7406\u3001\u7edf\u8ba1\u5206\u6790\u3001\u53ef\u89c6\u5316\u7b49\u64cd\u4f5c\uff0c\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u6574\u5957\u7684\u6570\u636e\u5de5\u5177\u94feODL (Open Dataset Library)\uff0c\u53ef\u5927\u5e45\u63d0\u5347\u7528\u6237\u4f7f\u7528\u6570\u636e\u6548\u7387\u3002</p> <p>\u7528\u6237\u6559\u7a0b\u5c06\u5bf9AI\u6a21\u578b\u5f00\u53d1\u5168\u6d41\u7a0b\u4e2d\u7684\u6570\u636e\u64cd\u4f5c\u8fdb\u884c\u5c55\u5f00\uff1a</p> 1.\u6570\u636e\u96c6\u4e0b\u8f7d <ul> <li>\u60c5\u5f621: \u539f\u59cb\u6570\u636e\u96c6+DSDL\u6807\u6ce8\u6587\u4ef6\u53ef\u76f4\u63a5\u4e0b\u8f7d</li> <li>\u60c5\u5f622\uff1a\u539f\u59cb\u6570\u636e\u96c6\u9700\u81ea\u884c\u4e0b\u8f7d</li> <li>\u60c5\u5f623\uff1aDSDL\u6807\u6ce8\u6587\u4ef6\u9700\u81ea\u884c\u8f6c\u6362</li> </ul> 2.\u6570\u636e\u96c6\u5206\u6790 <ul> <li>\u6570\u636e\u96c6\u7edf\u8ba1\u4fe1\u606f</li> <li>\u6570\u636e\u96c6\u53ef\u89c6\u5316\u5206\u6790</li> </ul> 3.\u6a21\u578b\u8bad\u7ec3 <ul> <li>\u914d\u7f6e\u6587\u4ef6\u51c6\u5907</li> <li>\u6a21\u578b\u8bad\u7ec3</li> </ul> 4.\u6a21\u578b\u63a8\u7406 <ul> <li>\u6a21\u578b\u63a8\u7406</li> <li>\u63a8\u7406\u7ed3\u679c\u683c\u5f0f\u67e5\u770b</li> </ul> 5.\u6570\u636e/\u6a21\u578b\u5206\u6790 <ul> <li>\u6a21\u578b\u6307\u6807\u8bc4\u4f30</li> <li>\u7ed3\u679c\u53ef\u89c6\u5316\u5206\u6790</li> </ul> 6.\u6570\u636e\u96c6\u5206\u53d1 <ul> <li>\u516c\u5f00\u6570\u636e\u96c6\u65b0\u7248\u672c\u6807\u6ce8\u5171\u4eab</li> <li>\u516c\u5f00\u6570\u636e\u96c6\u4e0a\u4f20</li> </ul> \u9ad8\u9636\u6559\u7a0b <ul> <li>1.\u81ea\u5b9a\u4e49DSDL\u6570\u636e\u96c6</li> <li>2.DSDL\u6570\u636e\u96c6\u683c\u5f0f\u8f6c\u6362</li> <li>3.DSDL DataLoader\u5f00\u53d1</li> </ul>"},{"location":"tutorials/visualization/","title":"\u6570\u636e\u96c6\u53ef\u89c6\u5316","text":"<p>\u8fd9\u91cc\u63d0\u4f9b\u4e24\u79cd\u53ef\u89c6\u5316\u65b9\u6cd5\uff0c\u4e00\u79cd\u662fpython\u4ee3\u7801\uff0c\u4e00\u79cd\u662f\u547d\u4ee4\u884c\u5de5\u5177\u3002</p>"},{"location":"tutorials/visualization/#python","title":"Python","text":"<p>\u4f7f\u7528PIL\u5e93\uff0c\u6211\u4eec\u53ef\u4ee5\u65b9\u4fbf\u7684\u5bf9\u56fe\u7247\u8fdb\u884c\u53ef\u89c6\u5316\uff0c\u8fd9\u91cc\u7ed9\u51fa\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\u53ef\u89c6\u5316\u7684\u5b9e\u4f8b\u4ee3\u7801\uff1a</p> <pre><code>from dsdl.dataset import DSDLDataset\nfrom PIL import Image, ImageDraw\n\n# train_yaml = \"~/datasets/VOC07-det/dsdl/set-train/train.yaml\"\nval_yaml = \"~/datasets/VOC07-det/dsdl/set-val/val.yaml\"\n\nloc_config = dict(\n    type=\"LocalFileReader\",\n    working_dir=\"~/datasets/VOC07-det/original\"\n)\n\n# \u521d\u59cb\u5316Dataset\n# ds_train = DSDLDataset(dsdl_yaml=train_yaml, location_config=loc_config)\nds_val = DSDLDataset(dsdl_yaml=val_yaml, location_config=loc_config)\n\n# \u83b7\u53d6\u7d22\u5f15\u4e3a1\u7684\u6837\u672c\nexample = ds_val.sample_list[1]\n\n# \u63d0\u53d6\u56fe\u7247\nimg = example.media.image.to_image().convert(mode='RGB')\n\n# \u5b9a\u4e49Draw\u65b9\u6cd5\ndraw = ImageDraw.Draw(img)\n\n# \u8fed\u4ee3\u7ed8\u5236\u6807\u6ce8\u6846\u53ca\u5176\u7c7b\u522b\u540d\u79f0\nfor i in range(len(example.objects)):\n    draw.rectangle(example.objects[i].bbox.xyxy, width=2)\n    x,y,w,h = example.objects[i].bbox.xywh\n    draw.text((x,y), example.objects[i].category.name)\n\n# \u5c55\u793a\u7ed8\u56fe\u7ed3\u679c\nimg\n</code></pre>"},{"location":"tutorials/visualization/#cli","title":"CLI","text":""},{"location":"tutorials/visualization/#visualize-samples","title":"Visualize samples","text":"<pre><code>dsdl view -y &lt;yaml-name&gt;.yaml -c &lt;config.py&gt; -l ali-oss -n 10 -r -v -f Label BBox Attributes\n</code></pre> <p>The description of each argument is shown below:</p> simplified argument argument description -y <code>--yaml</code> The path of dsdl yaml file. -c <code>--config</code> The path of location configuration file. -l <code>--location</code> <code>local</code> or <code>ali-oss</code>\uff0cwhich means read media from local or aliyun oss. -n <code>--num</code> The number of samples to be visualized. -r <code>--random</code> Whether to load the samples in a random order. -v <code>--visualize</code> Whether to visualize the samples or just print the information in console. -f <code>--field</code> The field type to visualize, e.g.<code>-f BBox</code>means show the bounding box in samples, <code>-f Attributes</code>means show the attributes of a sample in the console . One can specify multiple field types simultaneously, such as <code>-f Label BBox Attributes</code>. -t <code>--task</code> The task you are working on, for example,<code>-t detection</code> is equivalent to <code>-f Label BBox Polygon Attributes</code>."},{"location":"tutorials/advanced/dsdl_check/","title":"DSDL\u6570\u636e\u96c6\u9a8c\u8bc1","text":"<p>DSDL\u652f\u6301\u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u7b80\u5355\u7684check\uff0c\u5e76\u751f\u6210\u68c0\u6d4b\u62a5\u544a\u3002DSDL check\u5c06\u68c0\u67e5\u6a21\u677f\u5b9a\u4e49\u7684\u89c4\u8303\u6027\uff0c\u5e76\u5bf9\u6a21\u677f\u4e0e\u5b9e\u9645\u6807\u6ce8\u6570\u636e\u7684\u5339\u914d\u5173\u7cfb\u8fdb\u884c\u68c0\u67e5\uff0c\u540c\u65f6\u53ef\u5bf9\u5a92\u4f53\u6587\u4ef6\u548c\u6807\u6ce8\u8fdb\u884c\u53ef\u89c6\u5316\uff0c\u4f9b\u7528\u6237\u68c0\u67e5\u53ef\u89c6\u5316\u7ed3\u679c\u3002\u901a\u8fc7DSDL check\u540e\u7684DSDL\u6570\u636e\u96c6\u624d\u53ef\u4fdd\u8bc1\u4f7f\u7528\u4e0b\u6e38\u7684\u5de5\u5177\u94fe\u3002</p> <p>check \u547d\u4ee4\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>dsdl check -y {path_to_yaml_file} -c {path_to_config.py} -l local -p {path_to_defs} -t detection -o ./\n</code></pre> <p>\u90e8\u5206\u53c2\u6570\u7684\u542b\u4e49\u5982\u4e0b\uff1a</p> <pre><code>-y \u4e3a\u9700\u68c0\u67e5\u7684\u6a21\u677f\u5b9a\u4e49\u6587\u4ef6\n-c \u4e3a\u6307\u5b9a\u5a92\u4f53\u6587\u4ef6\u5b58\u653e\u4f4d\u7f6e\u7684config\u6587\u4ef6\uff08\u53ef\u6307\u5b9aali-oss\u8def\u5f84\u548clocal\u8def\u5f84\uff09\n-l \u4e3a\u6307\u5b9a\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 ali-oss \u6216 local\uff0c\u4e0econfig\u6587\u4ef6\u5bf9\u5e94\n-p \u5982\u679c\u5728\u6a21\u677f\u5b9a\u4e49\u6587\u4ef6\u5185\u90e8\u7684import\u6ca1\u6709\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\uff0c\u9700\u8981\u6307\u5b9aimport\u7684\u6839\u76ee\u5f55\n-t \u4e3a\u6307\u5b9a\u5f53\u524dyaml\u7684\u4efb\u52a1\u7c7b\u522b\uff0c\u5f53\u524d\u652f\u6301\u7684\u4efb\u52a1\u7c7b\u522b\u6709\uff08detection\uff0csegmentation\uff0cclassification\uff09\n-o \u4e3a\u6307\u5b9a\u8f93\u51fa\u7684\u6587\u4ef6\u5939\uff0c\u5305\u542b\u56fe\u7247\u548cmd\u6587\u6863\uff0ccheck\u7684\u7ed3\u679c\u4fdd\u5b58\u5728\u8f93\u51fa\u6587\u4ef6\u5939\u4e0b\u7684log/output.md\u4e2d\n</code></pre>"},{"location":"tutorials/advanced/dsdl_check/#_1","title":"\u5b9e\u9645\u6848\u4f8b","text":"<p>\u5047\u8bbeDSDL\u6570\u636e\u96c6\u548c\u539f\u59cb\u6570\u636e\u96c6\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff0c\u7528\u6237\u9700\u8981\u5206\u522b\u5bf9train.yaml\u3001val.yaml\u548ctest.yaml\u8fdb\u884c\u9a8c\u8bc1\uff1a</p> <pre><code>root-path/\n\u251c\u2500\u2500 original-dataset/            # \u539f\u59cb\u6570\u636e\u96c6\u7684\u8def\u5f84\n\u2502   \u251c\u2500\u2500 ...\n\u2514\u2500\u2500 dsdl-dataset/\n    \u251c\u2500\u2500 defs/  \n    \u2502  \u251c\u2500\u2500 detction-def.yaml      # \u4efb\u52a1\u7c7b\u578b\u7684struct\u5b9a\u4e49\u6587\u4ef6,task\u4e3a\u68c0\u6d4b\u4efb\u52a1\n    \u2502  \u2514\u2500\u2500 class-dom.yaml         # \u6570\u636e\u96c6\u7684\u7c7b\u522b\u57df\n    \u251c\u2500\u2500 set-train/                # \u8bad\u7ec3\u96c6\n    \u2502  \u251c\u2500\u2500 train.yaml             # \u8bad\u7ec3\u7684yaml\u6587\u4ef6\n    \u2502  \u2514\u2500\u2500 train_samples.json     # \u8bad\u7ec3\u96c6sample\u7684json\u6587\u4ef6\n    \u251c\u2500\u2500 set-val/                  # \u9a8c\u8bc1\u96c6\n    \u2502  \u251c\u2500\u2500 val.yaml\n    \u2502  \u2514\u2500\u2500 val_samples.json  \n    \u251c\u2500\u2500 set-test/                 # \u6d4b\u8bd5\u96c6\n    \u2502  \u251c\u2500\u2500 test.yaml\n    \u2502  \u2514\u2500\u2500 test_samples.json\n    \u2514\u2500\u2500 config.py                 # \u6570\u636e\u96c6\u8bfb\u53d6\u8def\u5f84\u7b49config\u6587\u4ef6\n</code></pre> <p>config.py\u6587\u4ef6\u7684\u5185\u5bb9\u4e3a\uff1a</p> <pre><code>local = dict(\n    type=\"LocalFileReader\",\n    working_dir=\"root-path/original-dataset\",\n)\n</code></pre> <p>check\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>dsdl check -y set-train/train.yaml -c config.py -l local -t detection -p defs/ -o ./\n</code></pre> <p>\u5176\u4e2d\uff0c\u5982\u679ctrain.yaml\u4e2d\u7684import\u90e8\u5206\u5199\u4e86\u76f8\u5bf9\u8def\u5f84\u7684\u8bdd\uff08\u5982\u4e0b\uff09\uff0c\u53ef\u4ee5\u7701\u7565-p\u53c2\u6570\uff1a</p> <pre><code>$dsdl-version: \"0.5.0\"\n$import:\n- ../defs/class-domain\n- ../defs/object-detection-def\nmeta:\ndataset_name: \"VOC2007\"\nsub_dataset_name: \"train\"\ntask_type: \"SemanticSementation\"\ndataset_homepage: \"http://host.robots.ox.ac.uk/pascal/VOC/voc2007/index.html\"\ndataset_publisher: \"University of Leeds | ETHZ, Zurich | University of Edinburgh |Microsoft Research Cambridge | University of Oxford\"\nOpenDataLab_address: \"https://opendatalab.com/PASCAL_VOC2007/download\"\ndata:\nsample-type: ObjectDetectionSample[cdom=VOCClassDom]\nsample-path: train_samples.json\n</code></pre>"},{"location":"tutorials/advanced/dsdl_check/#dsdl-check","title":"DSDL check\u6a21\u5757","text":"<p>\u76ee\u524d\u89e3\u6790\u5668\u7684\u68c0\u67e5\u5206\u4e09\u4e2a\u6a21\u5757\uff1a</p> <ul> <li>class_dom\u7684\u68c0\u67e5</li> <li>strcut\u7684\u68c0\u67e5</li> <li>\u53c2\u6570\u7684\u68c0\u67e5</li> </ul>"},{"location":"tutorials/advanced/dsdl_check/#class_dom","title":"class_dom\u7684\u68c0\u67e5","text":"<p>\u9996\u5148\u660e\u786eclass_dom\u7684\u6837\u5f0f\uff1a</p> <pre><code>AnnotationDom:\n$def:class_domain\nclasses:\n- person\n- ...\nKeyointDom:\n$def:class_domain\nclasses:\n- lefteye.person# \u4f1a\u62a5DefineSyntaxWarning\n- ...\nskeleton:\n- [14, 16]\n- [5, 6]\n- [10, 12]\n- ...\n</code></pre> <p>\u5305\u62ec\uff1a</p> <ul> <li>class_dom\u4e2d\u7684categories\u540d\u548csuper_categories\u540d\u5b57\u68c0\u67e5\uff0c\u9700\u8981\u4fdd\u8bc1category[super_category]\u4e2dsuper_category\u5728FatherClassDom\u4e2d\u5b58\u5728</li> <li>\u4fdd\u8bc1ClassificationClassDom[ClassificationFatherDom]\u4e2dClassificationFatherDom\u662f\u5df2\u7ecf\u5b9a\u4e49\u7684\u7236\u7c7b</li> <li>\u4fdd\u8bc1\u7236\u7c7b\u540d\u683c\u5f0f\u548c <code>classes</code>\u91cc\u9762\u7684\u7c7b\u522b\u540d\u683c\u5f0f\u5bf9\u5e94\uff1a \u6bd4\u5982 <code>COCO2017ClassDom[COCO2017ClassFatherDom1,COCO2017ClassFatherDom2]:</code>   \u8bf4\u660e\u6709\u4e24\u4e2a\u7c7b\u522b\u540d\uff0c\u90a3\u4e48classes\u4e2d\u7684\u7c7b\u522b\u5b9a\u4e49\u683c\u5f0f\u5c31\u8981\u662f\uff1a   <code>classes:</code> <code>- airplane[tool][sports tool]</code></li> <li>\u4fdd\u8bc1skeleton\u4e2d\u7684\u5b57\u6bb5\u662flist of int</li> </ul>"},{"location":"tutorials/advanced/dsdl_check/#strcut","title":"strcut\u7684\u68c0\u67e5","text":"<pre><code>LocalObjectEntry:\n$def:struct\n$params: ['cdom']\n$fields:\nlabel: Label[dom=$cdom]\nbbox: BBox\npolygon: Polygon\nrlepolygon: RlePolygon          #\u4e0epolygon\u4e8c\u9009\u4e00\nInstanceSegmentationSample:\n$def:struct\n$params: ['scenedom', 'objectdom']\n$fields:\nimage: Image\nsclabel: List[Label[dom=$scenedom]]\nsemantic_seg: SegMap[dom=$cdom]\nobjects: List[etype=LocalObjectEntry[cdom=$objectdom,optional=True],optional=True]\n$optional: ['semantic_seg']\n</code></pre> <p>\u5305\u62ec\uff1a</p> <ul> <li>struct\u7684\u540d\u5b57\u4e0d\u80fd\u662fdsdl\u7684\u5185\u7f6e\u7c7b\u578b\u540d\uff08\u53c2\u89c1\u4e0b\u8868\uff09</li> <li>$def\u4e2d\u5b9a\u4e49\u7684\u5fc5\u987b\u662fstrcut\u6216class_dom</li> <li>$params \u53c2\u6570\u9a8c\u8bc1\u53c2\u89c1\u5355\u72ec\u7684\u53c2\u6570\u9a8c\u8bc1\u6a21\u5757</li> <li>$fields\u4e2d\u68c0\u67e5<ul> <li>\u662f\u5426\u6709\u5b57\u6bb5\uff0c\u6ca1\u6709\u62a5\u9519</li> <li>\u5b57\u6bb5\u540d\u5b57\u662f\u5426\u7b26\u5408\u89c4\u8303\uff1a \u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\uff0c\u4e0d\u80fd\u5305\u542b\u7a7a\u683c\uff0c\u53ea\u80fd\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf</li> <li>\u5b57\u6bb5\u7c7b\u578b\u662f\u5426\u662fDSDL\u4e2d\u5b9a\u4e49\u7684\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u5982\u679c\u662fstruct\u7c7b\u578b\uff0c\u5982 <code>objects: LocalObjectEntry[cdom=$cdom]</code> \u9700\u8981\u68c0\u67e5\u8be5struct\u7c7b\u578b\u662f\u5426\u5df2\u7ecf\u6ce8\u518c\uff08\u53ef\u4ee5\u5728\u540e\u9762\u518d\u5b9a\u4e49\uff0c\u987a\u5e8f\u4e0d\u8981\u7d27\uff0c\u4f46\u662f\u8981\u6709\uff09\u3002</li> <li>\u5b57\u6bb5\u7c7b\u578b\u4e2d\u7684\u53c2\u6570\u662f\u5426\u7b26\u5408\u89c4\u8303\uff1a\u5305\u62ec\u53c2\u6570\u540d\u5b57\u548c\u53c2\u6570\u503c</li> </ul> </li> <li>$optional\u4e2d\u68c0\u67e5\uff1aoptional list \u4e2d\u7684\u5b57\u6bb5\u662f\u5426\u662f\u5df2\u7ecf\u6ce8\u518c\u7684\uff0c\u6ca1\u6709\u5c31\u62a5\u9519</li> <li>strcut\u4e2d\u7684\u5faa\u73af\u5f15\u7528\u68c0\u67e5</li> </ul>"},{"location":"tutorials/advanced/dsdl_check/#_2","title":"\u53c2\u6570\u68c0\u67e5","text":"<p>\u5305\u62ec\uff1a</p> <ul> <li><code>$params</code>\u4e2d\u5305\u542b\u7684\u53c2\u6570\u540d\u5b57\u548c\u4e0b\u9762 <code>$field</code>\u5b57\u6bb5\u4e2d\u7684\u4e00\u4e00\u5bf9\u5e94</li> <li><code>$params</code>\u4e2d\u7ed9\u7684\u53c2\u6570\u662f\u5426\u4e0e <code>data</code> section \u4e2d <code>sample-type</code>\u5bf9\u5e94\uff0c eg. <code>SceneAndObjectSample[scenedom=COCO2017ClassFatherDom,objectdom=COCO2017ClassDom]</code></li> <li> <p>\u5224\u65ad\u5e26\u53c2\u6570\u7684\uff0c\u4e14\u7528\u5230\u522b\u7684struct\u7684 <code>$field</code>\u5b57\u6bb5\uff08\u5982\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684 <code>objects</code>\uff09</p> <ul> <li>\u8be5\u5f15\u7528\u7684struct\u662f\u5426\u5b58\u5728\uff08<code>LocalObjectEntry</code>\u662f\u5426\u5b58\u5728\uff09</li> <li>\u662f\u5426\u5b58\u5728\u5faa\u73af\u5f15\u7528\uff0c\u5982\u679c\u5b58\u5728\u5c31\u62a5\u9519</li> </ul> </li> <li> <p>\u8be5\u5f15\u7528\u7684struct\u4e2d\u9700\u8981\u4f20\u5165\u7684\u53c2\u6570\u662f\u5426\u90fd\u5df2\u7ecf\u88ab\u5b9a\u4e49\uff0c\u662f\u5426\u5b58\u5728\u672a\u8d4b\u503c\u7684\u53c2\u6570\uff0c\u6709\u5c31\u62a5\u9519</p> </li> <li> <p>\u76ee\u524d\u4e0d\u540c\u5b57\u6bb5\u5f15\u7528\u540c\u4e00\u4e2astrcut\u4e5f\u4f1a\u62a5\u9519</p> </li> </ul>"},{"location":"tutorials/advanced/dsdl_check/#_3","title":"\u9a8c\u8bc1\u7ed3\u679c","text":"<p>\u62a5\u544a\u5206\u4e3a3\u4e2a\u90e8\u5206\uff1a</p> <ul> <li> <p>parser\u68c0\u67e5\u7ed3\u679c\uff1a\u7ed3\u679c\u5305\u62ec\u4e86parse\u7ed3\u679c\u662f\u5426\u6210\u529f\uff0c\u5982\u679c\u4e0d\u6210\u529f\uff0c\u5219\u53ef\u4ee5\u67e5\u770b\u5177\u4f53\u7684\u62a5\u9519\u4fe1\u606f</p> </li> <li> <p>samples\u5b9e\u4f8b\u5316\u68c0\u67e5\u7ed3\u679c\uff1a\u5176\u4e2d\u62a5\u544a\u8bf4\u660e\u4e86\u5f53\u524d\u6570\u636e\u96c6\u5171\u6709\u6837\u672c\u4e2a\u6570\uff0c\u6b63\u5e38\u6837\u672c\u4e2a\u6570\uff0c\u8b66\u544a\u6837\u672c\u4e2a\u6570\uff0c\u9519\u8bef\u6837\u672c\u4e2a\u6570\uff0c\u5e76\u63d0\u4f9b\u4e86\u5f02\u5e38\u6837\u672c\u7684\u5177\u4f53\u4fe1\u606f\u65e5\u5fd7\u3002</p> </li> <li>\u53ef\u89c6\u5316\u7ed3\u679c\uff1a\u9700\u8981\u8089\u773c\u89c2\u5bdf\u53ef\u89c6\u5316\u7ed3\u679c\u662f\u5426\u6b63\u786e\uff0c\u6bd4\u5982bbox\u4f4d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u6807\u7b7e\u5185\u5bb9\u662f\u5426\u6b63\u786e\u7b49\uff0c\u5728\u56fe\u7247\u4e0b\u9762\u5c55\u793a\u4e86\u53ef\u89c6\u5316\u8fc7\u7a0b\u4e2d\u7684\u65e5\u5fd7\u5185\u5bb9\uff0c\u6bd4\u5982\u662f\u53ef\u89c6\u5316\u6210\u529f\u8fd8\u662f\u5931\u8d25\uff0c\u4ee5\u53ca\u5931\u8d25\u65e5\u5fd7\u7b49\u3002</li> </ul>"},{"location":"tutorials/advanced/dsdl_check/#parser","title":"Parser\u90e8\u5206","text":""},{"location":"tutorials/advanced/dsdl_check/#1-class-doamin","title":"1. Class  doamin\u90e8\u5206","text":"<ul> <li>ValidationError\uff1a Error with class-dom name,   <code>{class_dom_name}</code>  must be a valid identifier.    [1. <code>Struct</code> name 2. <code>Class domain</code> name 3.name of <code>$field</code> in <code>Struct</code>]  is considered a valid identifier if it only contains alphanumeric letters (a-z) and (0-9), or underscores (_).   A valid identifier cannot start with a number, or contain any spaces.</li> <li> <p>ValidationError\uff1aError in  <code>{struct_name}</code> ,   <code>{filed_name}</code>  must be a valid identifier.    [1. <code>Struct</code> name 2. <code>Class domain</code> name 3.name of <code>$field</code> in <code>Struct</code>]  is considered a valid identifier if it only contains alphanumeric letters (a-z) and (0-9), or underscores (_).   A valid identifier cannot start with a number, or contain any spaces.</p> <p>\u542b\u4e49\uff1astruct\u3001class domain \u7684\u540d\u5b57\uff08\u5982\u4e0a\u9762\u4f8b\u5b50\u91cc\u9762\u7684 <code>**AnnotationDom**</code>\u7b49\uff09\u548cstrcut\u4e2d$filed\u91cc\u9762\u7684\u540d\u5b57\u90fd\u8981\u662f\u4e00\u4e2aa valid identifier\uff1a\u5373\u53ea\u80fd\u5305\u542b\u5b57\u6bcd\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\uff08\u4e14\u4e0d\u4ee5\u5b57\u6bcd\u5f00\u5934\uff09\uff0c\u4e0d\u5305\u542b\u4efb\u4f55\u7a7a\u683c\u3002</p> </li> <li> <p>ValidationError\uff1a Error with class-dom name,   <code>{varstr}</code> can't be a Python keyword.   check https://docs.python.org/3/reference/lexical_analysis.html#keywords for more information.</p> <p>\u542b\u4e49\uff1aclass domain \u7684\u540d\u5b57\uff08\u5982\u4e0a\u9762\u4f8b\u5b50\u91cc\u9762\u7684 <code>**AnnotationDom**</code>\u7b49\uff09\u4e0d\u80fd\u662f\u4e00\u4e2apython\u7684\u4fdd\u7559\u5b57\u7b26\u4e32\uff08\u5982\uff1adef, del, if, or....., \u4fdd\u7559\u5b57\u7b26\u4e32\u5217\u8868\u8be6\u89c1\uff1ahttps://docs.python.org/3/reference/lexical_analysis.html#keywords\uff09\u3002</p> </li> <li> <p>ValidationError\uff1a <code>{</code> <code>self.name</code><code>}</code> is dsdl build-in value name, please rename it. Build-in value names are:  Bool, Num, Int, Str, Coord, Coord3D, Interval, BBox, Polygon, Image, InstanceMap, Video, Dict,   Text, InstanceID, Date, Time, Label, LabelMap, Keypoint, List, ImageShape, RotatedBBox, UniqueID. </p> <p>\u542b\u4e49\uff1a\u5f53struct\u3001class domain \u7684\u540d\u5b57\uff08\u5982\u4e0a\u9762\u4f8b\u5b50\u91cc\u9762\u7684 <code>**AnnotationDom**</code>\u7b49\uff09\u662fdsdl\u91cc\u9762\u7684\u5185\u7f6e\u7c7b\u540d\u7684\u65f6\u5019\u4f1a\u62a5\u9519\uff0cdsdl\u5185\u7f6e\u7c7b\u522b\u540d\u5305\u62ec\uff1aBool, Num, Int, Str, Coord, Coord3D, Interval, BBox, Polygon, Image, InstanceMap, Video, Dict, Text, InstanceID, Date, Time, Label, LabelMap, Keypoint, List, ImageShape, RotatedBBox, UniqueID</p> </li> <li> <p>DefineSyntaxError\uff1aError in skeleton of  <code>{</code> <code>self.class_name</code> <code>}</code> : skeleton must be list of list of int.</p> <p>\u542b\u4e49\uff1a\u9700\u8981\u4fdd\u8bc1skeleton\u4e2d\u7684\u5b57\u6bb5\u662flist of int</p> </li> <li> <p>DefineSyntaxError\uff1a <code>{</code> <code>label_name</code><code>}</code> is not allowed. Label in class-dom can't start with dot <code>.</code></p> <p>\u542b\u4e49\uff1aclass domain\u4e2d\u7684label\u662f\u4e0d\u80fd\u4ee5 <code>.</code>\u6765\u5f00\u59cb\u7684</p> </li> <li> <p>DefineSyntaxWarning\uff1a <code>{label_name}</code> is not recommended.   We recommend using alphanumeric letters (a-z, A-Z and 0-9), and underscores (_)   for label in class-dom (with hierarchical structure).</p> <p>\u542b\u4e49\uff1a\u5bf9\u4e8e\u6709\u5c42\u7ea7\u7ed3\u6784\u7684class domain\u7684label\u6765\u8bf4\u4f1a\u62a5\u8fd9\u4e2a\u9519\u8bef\uff0c\u8868\u793a\uff1a\u5bf9\u4e8e\u6709\u5c42\u7ea7\u7ed3\u6784\u7684class domain\u7684label\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528\u5b57\u6bcd\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\u6765\u4f5c\u4e3alabel\u540d\uff0c\u5e76\u4ee5 <code>.</code>\u6765\u5212\u5206\u7236\u5b50\u7c7b\u3002\uff08\u5e26\u7a7a\u683c\u4f1a\u62a5warning\uff09</p> </li> <li> <p>DefineSyntaxWarning\uff1a <code>{label_name}</code> is not recommended. We recommend using space, alphanumeric letters (a-z, A-Z and 0-9), and underscores (_) \"\u3001 for label in class-dom (without hierarchical structure).</p> <p>\u542b\u4e49\uff1a\u5bf9\u4e8e\u975e\u5c42\u7ea7\u7ed3\u6784\u7684class domain\u7684label\u6765\u8bf4\u4f1a\u62a5\u8fd9\u4e2a\u9519\u8bef\uff0c\u8868\u793a\uff1a\u5bf9\u4e8e\u975e\u5c42\u7ea7\u7ed3\u6784\u7684class domain\u7684label\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528\u7a7a\u683c\u5b57\u6bcd\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\u6765\u4f5c\u4e3alabel\u540d\u3002</p> </li> </ul>"},{"location":"tutorials/advanced/dsdl_check/#2-data-section","title":"2. Data section\u90e8\u5206","text":"<ul> <li> <p>DefineSyntaxError\uff1adata yaml must contain <code>meta</code> section.</p> <p>\u542b\u4e49\uff1a\u6570\u636eyaml\u6587\u4ef6\u4e2d\u5fc5\u987b\u5305\u542b <code>meta</code>\u90e8\u5206 (\u4e0d\u7ba1\u51e0\u4e2ayaml\u6587\u4ef6\uff0c\u6570\u636e\u6587\u4ef6\u5fc5\u987b\u5305\u542b\uff0cstrcut\u3001class domain\u7b49yaml\u6587\u4ef6\u53ef\u4ee5\u6ca1\u6709)\uff0ceg.</p> </li> </ul> <pre><code>$dsdl-version: \"0.5.2\"\n$import:\n- ../defs/image-generation-facade\n- ../defs/style-dom\nmeta:\ndataset-name: \"facade_pix2pix\"\nhome-page: \"http://efrosgans.eecs.berkeley.edu/pix2pix/datasets/\"\ncreator: \"Berkeley AI Research (BAIR) Laboratory, UC Berkeley\"\nopendatalab-page: \"\"\nsubset-name: \"train\"\ntask-type: \"Image Generation\"\ndata:\nsample-type: FacadeImageSample[cdom=FacadeStyleDomain]\nsample-path: train_samples.json\n</code></pre> <ul> <li> <p>DefineSyntaxError: data yaml must contain <code>data</code> section and <code>data</code> section must have <code>sample-type</code>.</p> <p>\u542b\u4e49\uff1a\u6570\u636eyaml\u6587\u4ef6\u4e2d\u5fc5\u987b\u5305\u542b <code>data</code>\u90e8\u5206 (\u4e0d\u7ba1\u51e0\u4e2ayaml\u6587\u4ef6\uff0c\u6570\u636e\u6587\u4ef6\u5fc5\u987b\u5305\u542b\uff0cstrcut\u3001class domain\u7b49yaml\u6587\u4ef6\u53ef\u4ee5\u6ca1\u6709)\uff0c\u5982\u4e0a\u56fe\u6240\u793a\u3002\u540c\u65f6\uff0c<code>data</code>\u90e8\u5206\u5fc5\u987b\u5305\u542b <code>sample-type</code>\u3002</p> </li> <li> <p>DefineSyntaxWarning:  <code>global-info-type</code> is not defined.</p> <p>\u542b\u4e49\uff1a<code>global-info-type</code> \u6ca1\u6709\u88ab\u5b9a\u4e49\uff0c\u8fd9\u662f\u4e00\u4e2awarning\uff0c\u53ef\u4ee5\u4e0d\u7ba1.</p> </li> <li> <p>DefineSyntaxError:  <code>{</code> <code>struct_name/class_dom_name</code><code>}</code> section must contain \"$def\" sub-section.</p> <p>\u542b\u4e49\uff1astrcut\u548cclass_dom\u4e2d\u5fc5\u987b\u5305\u542b$def\u5b57\u6bb5\u6765\u5b9a\u4e49\u5b83\u7684\u7c7b\u578b\u3002</p> </li> <li> <p>DefineSyntaxError:  error type { define_type} in yaml, type must be class_domain or struct.</p> <p>\u542b\u4e49\uff1a$def\u5b57\u6bb5\u53ea\u80fd\u662fstrcut\u548cclass_domain\u4e2d\u7684\u4e00\u4e2a\u3002</p> </li> <li> <p>DuplicateDefineWarning:   <code>{</code> <code>struct_name/class_dom_name</code><code>}</code> has defined.</p> <p>\u542b\u4e49\uff1a\u67d0\u4e2astrcut/class_domain\u5df2\u7ecf\u88ab\u5b9a\u4e49\u4e86\uff0c\u8fd9\u662f\u4e00\u4e2awarning\uff0c\u53ef\u4ee5\u4e0d\u7ba1\u3002\u5982\u679c\u4e0d\u7ba1\uff0c\u90a3\u540e\u9762\u5b9a\u4e49\u7684\u4f1a\u8986\u76d6\u524d\u9762\u5b9a\u4e49\u7684\u5185\u5bb9\u3002</p> </li> <li> <p>DSDLImportError: <code>import_path</code> does not exist in  <code>given_path</code> , please give the right path using <code>-p</code>.</p> <p>\u542b\u4e49\uff1a\u5f53\u7528 <code>-p</code>\u6307\u5b9a\u6570\u636eyaml\u6587\u4ef6\u4e2d$import\u8def\u5f84\u7684\u65f6\u5019\uff0c\u5982\u679c\u6ca1\u627e\u5230\u9700\u8981import\u7684\u6587\u4ef6\u4f1a\u62a5\u8fd9\u4e2a\u95ee\u9898\u3002</p> </li> <li> <p>DSDLImportError: <code>import_path</code>  does not exist in neither  <code>{</code> <code>current_path</code><code>}</code> nor <code>dsdl/dsdl_library</code>, please check the path or give the right path using <code>-p</code>.</p> <p>\u542b\u4e49\uff1a\u5f53\u4e0d\u7528 <code>-p</code>\u6307\u5b9a\u6570\u636eyaml\u6587\u4ef6\u4e2d$import\u8def\u5f84\u7684\u65f6\u5019\uff0c\u5982\u679c\u5728\u5f53\u524d\u6587\u4ef6\u5939\u548cdsdl\u5e93\u6587\u4ef6\uff08dsdl/dsdl_library\uff09\u4e2d\u90fd\u6ca1\u627e\u5230\u9700\u8981import\u7684\u6587\u4ef6\u4f1a\u62a5\u8fd9\u4e2a\u95ee\u9898\u3002</p> </li> </ul>"},{"location":"tutorials/advanced/dsdl_check/#3-struct","title":"3. struct\u90e8\u5206\u548c\u53c2\u6570\u90e8\u5206","text":"<ul> <li> <p>DefineSyntaxError: Error in field with value of <code>{ field_type }</code> . check the <code>{ k_v}</code> part.</p> <p>\u542b\u4e49\uff1astruct\u4e2d\u7684\u67d0\u4e2a\u7c7b\u578b\u4e3a{ field_type } \u7684filed\u51fa\u4e86\u95ee\u9898\u3002(\u53ef\u80fd\u8fd8\u4f1a\u63d0\u793a\u662f { field_type } \u4e2d\u7684 k_v\u90e8\u5206\u51fa\u4e86\u95ee\u9898)</p> </li> <li> <p>DefineSyntaxError: definition error of <code>{field_type}</code> has <code>{param_list}</code>, please check field </p> <p>\u542b\u4e49\uff1afield_type\u4e0d\u5728field list\u548cstruct list\u4e2d\uff0c\u89c6\u4e3a\u53c2\u6570\uff0c\u53c2\u6570\u4e0d\u53ef\u4ee5\u6709\u5d4c\u5957\u7684\u53c2\u6570\u5217\u8868\u3002</p> </li> </ul> <p>[cdom\u7684\u62a5\u9519]</p> <ul> <li>DefineSyntaxError\uff1adefinition error of dom <code>{cdom_name}</code> not in $params <code>{self.struct_params}</code>\uff0ccheck cdom is defined correctly.</li> </ul> <p>\u542b\u4e49\uff1a\u8c03\u7528\u7684cdom_name\u6ca1\u6709\u5728\u8be5struct\u5b9a\u4e49\u7684params\u4e2d\u3002</p> <ul> <li>DefineSyntaxError\uff1a<code>{k_v}</code> is dom params, should have '='</li> </ul> <p>\u542b\u4e49\uff1a\u8c03\u7528\u7684cdom\u53c2\u6570\uff0c\u4f46\u662f\u6ca1\u6709\u8d4b\u503c\uff0c\u5fc5\u987b\u542b\u2018=\u2019</p> <p>[List\u7c7b\u578b\u7684\u62a5\u9519]\uff1a</p> <ul> <li>DefineSyntaxError\uff1a<code>{param}</code> is list etype params, should have '='</li> </ul> <p>\u542b\u4e49\uff1aList\u4e2d\u6709etype\u5f00\u5934\u7684\u53c2\u6570\uff0c\u4f46\u662f\u6ca1\u6709\u8d4b\u503c\uff0c\u8be5\u53c2\u6570\u5fc5\u987b\u8d4b\u503c\u3002</p>"},{"location":"tutorials/advanced/dsdl_check/#samples","title":"Samples\u5b9e\u4f8b\u5316\u90e8\u5206","text":""},{"location":"tutorials/advanced/dsdl_check/#1","title":"1. \u662f\u5426\u5b58\u5728\u6837\u672c","text":"<p>DSDL Check\u4f1a\u5c06\u6240\u6709\u6837\u672c\u8bfb\u53d6\u5230\u5185\u5b58\u4e2d\uff0c\u5982\u679c\u68c0\u6d4b\u5230\u7684\u6837\u672c\u6570\u76ee\u4e3a0\uff0c\u8be5\u60c5\u51b5\u5f02\u5e38\uff0c\u4f1a\u5728\u62a5\u544a\u4e2d\u663e\u793a\uff1a</p> <pre><code>{\n\"flag\": 0,\n\"msg\": \"No samples found, please check the path of json file.\"\n}\n</code></pre> <p>\u6b64\u65f6\u7528\u6237\u9700\u8981\u68c0\u67e5Yaml\u6587\u4ef6\u4e2d\u6307\u5b9a\u7684json\u6587\u4ef6\u8def\u5f84\u662f\u5426\u6b63\u786e\u3002</p> <p>\u5982\u679c\u5b9e\u4f8b\u5316\u6837\u672c\u6570\u76ee\u5927\u4e8e0\uff0c\u5219\u8be5\u5b57\u6bb5\u4f1a\u663e\u793a\uff1a</p> <pre><code>{\n\"flag\": 1,\n\"msg\": f\"Totally {sample_nums} samples found.\"\n}\n</code></pre> <p>\u6b64\u65f6\u9700\u8981\u7528\u6237\u68c0\u67e5\u6837\u672c\u6570\u76ee\u662f\u5426\u6b63\u786e</p>"},{"location":"tutorials/advanced/dsdl_check/#2","title":"2. \u662f\u5426\u6210\u529f\u5b9e\u4f8b\u5316\u6570\u636e\u96c6\u5bf9\u8c61","text":"<p>DSDL Check\u4f1a\u5c06\u6240\u6709\u7684\u6837\u672c\u5b58\u50a8\u5230\u4e00\u4e2a<code>dsdl.dataset.CheckDataset</code>\u5bf9\u8c61\u5f53\u4e2d\uff0c\u5982\u679c\u5b9e\u4f8b\u5316<code>dsdl.dataset.CheckDataset</code>\u5bf9\u8c61\u7684\u8fc7\u7a0b\u4e2d\u6210\u529f\uff0c\u4f1a\u5728\u62a5\u544a\u4e2d\u663e\u793a\uff1a</p> <pre><code>{\n\"flag\": 1,\n\"msg\": \"Dataset init successfully!\"\n}\n</code></pre> <p>\u53cd\u4e4b\uff0c\u5982\u679c\u6570\u636e\u96c6\u5bf9\u8c61\u5b9e\u4f8b\u5316\u5931\u8d25\uff0c\u5219\u4f1a\u5728\u62a5\u544a\u4e2d\u663e\u793a\uff1a</p> <pre><code>{\n\"flag\": 0,\n\"msg\": f\"Dataset init error: {e}\"\n}\n</code></pre> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6570\u636e\u96c6\u5b9e\u4f8b\u5316\u5931\u8d25\u7684\u539f\u56e0\u53ef\u80fd\u662f\u5728yaml\u6587\u4ef6\u4e2d\u58f0\u660e\u7684sample_type\u4e0d\u5b58\u5728\uff0c\u4e3e\u4f8b\u6765\u8bf4\uff1a</p> <pre><code>data:\nsample-type: KeyPointSample[cdom0=KeyPoint_person_ClassDom]\nsample-path: samples.json\n</code></pre> <p>\u5728\u4e0a\u9762\u7684yaml\u4e2d\u7684\u5982\u679c<code>KeyPointSample</code>\u672a\u5b9a\u4e49\uff0c\u6216\u8005<code>KeyPoint_person_ClassDom</code>\u672a\u5b9a\u4e49\uff0c\u6216\u8005<code>KeyPointSample</code>\u7684\u53c2\u6570\u540d\u4e0d\u53eb<code>cdom0</code>\uff0c\u90fd\u4f1a\u5f15\u8d77\u6570\u636e\u96c6\u5b9e\u4f8b\u5316\u62a5\u9519\uff0c\u7528\u6237\u9700\u8981\u68c0\u67e5\u662f\u5426\u4e0a\u8ff0\u8fd9\u4e9b\u5185\u5bb9\u5199\u9519\u4e86\u3002</p>"},{"location":"tutorials/advanced/dsdl_check/#3","title":"3. \u5bf9\u6837\u672c\u8fdb\u884c\u5b9e\u4f8b\u5316","text":"<p>DSDL Check\u4f1a\u5c06\u6240\u6709\u7684\u6837\u672c\u5b9e\u4f8b\u5316\u4e3a<code>Struct</code>\u5bf9\u8c61\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u6709\u6837\u672c\u751f\u6210\u5931\u8d25\uff0cDSDL\u4f1a\u5c06\u9519\u8bef\u4fe1\u606f\u8bb0\u5f55\u5230\u6587\u6863\u4e2d\uff0c\u65b9\u4fbf\u7528\u6237\u6eaf\u6e90\u3002</p> <p>\u5177\u4f53\u7684\u62a5\u9519\u4fe1\u606f\u4e3a\uff1a</p> <ol> <li>\u6570\u636e\u4e0d\u7b26\u5408schema</li> </ol> <p>\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679cStruct\u4e2d\u67d0\u4e00\u4e2aField\u4e3aInt\uff0c\u4f46\u662f\u7ed9\u5b9a\u6570\u636e\u5374\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u5219\u4f1a\u62a5\u4ee5\u4e0b\u9519\u8bef\uff1a</p> <pre><code>ValidationError in {Field_Type} field: \nSchema is {schema}.\nData is {data}.\n</code></pre> <p>\u4e0a\u8ff0\u7684\u62a5\u9519\u4fe1\u606f\u4e2d\uff0c\u544a\u8bc9\u4e86\u7528\u6237\u662f\u54ea\u4e00\u4e2aField\u62a5\u9519\uff0c\u8fd9\u4e2aField\u7684schema\uff0c\u4ee5\u53ca\u5f53\u524d\u62a5\u9519\u6837\u672c\u7684\u5177\u4f53\u6570\u636e\uff0c\u901a\u8fc7\u5bf9\u6bd4\u5177\u4f53\u6570\u636e\u548cschema\uff0c\u7528\u6237\u53ef\u4ee5\u77e5\u9053\u662f\u54ea\u91cc\u51fa\u4e86\u9519\u3002</p> <ol> <li>\u5b57\u6bb5\u4e0d\u5339\u914d\u9519\u8bef</li> </ol> <p>\u4e3e\u4f8b\u6765\u8bf4\uff0c\u6709\u4ee5\u4e0b\u7684yaml\uff1a</p> <pre><code>KeyPointLocalObject:\n$def: struct\n$params: [\"cdom0\"]\n$fields:\nnum_keypoints: Int\nkeypoints: Keypoint[dom=$cdom0]\n$optional: [\"num_keypoints\"]\n</code></pre> <p>\u5982\u679c\u5177\u4f53\u7684\u6570\u636e\u4e2d\uff0c\u4e0d\u5b58\u5728<code>keypoints</code>\u5b57\u6bb5\uff0c\u4f46\u662f\u7531\u4e8e<code>keypoints</code>\u5b57\u6bb5\u4e0d\u5728<code>$optional</code>\u5217\u8868\u5f53\u4e2d\uff0c\u5219\u4f1a\u62a5\u4ee5\u4e0b\u7684\u9519\u8bef\uff1a</p> <pre><code>Required struct instance {key} is missing.\n</code></pre> <p>\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u9700\u8981\u5728\u6570\u636e\u4e2d\u6dfb\u52a0<code>keypoints</code>\u5b57\u6bb5\u4fe1\u606f\uff0c\u6216\u8005\u5c06<code>keypoints</code>\u5b57\u6bb5\u6dfb\u52a0\u5230<code>$optional</code>\u5217\u8868\u5f53\u4e2d\u3002</p> <p>\u53e6\u4e00\u79cd\u60c5\u51b5\uff0c\u5982\u679c\u5177\u4f53\u7684\u6570\u636e\u4e2d\u51fa\u73b0\u4e86yaml\u5b9a\u4e49\u4ee5\u5916\u7684\u5b57\u6bb5\uff0c\u5219\u4f1a\u62a5\u4ee5\u4e0b\u7684\u9519\u8bef\uff1a</p> <pre><code>Not defined keys {keys} found in sample, which is not permitted in strict init mode.\n</code></pre> <p>\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u9700\u8981\u5c06\u6570\u636e\u4e2d\u7684\u591a\u4f59\u5b57\u6bb5\u53bb\u9664\uff0c\u6216\u8005\u5c06\u8be5\u5b57\u6bb5\u5728yaml\u4e2d\u58f0\u660e\u3002</p> <p>DSDL\u4f1a\u5c06\u603b\u6570\u636e\u91cf\uff0c\u6210\u529f\u5b9e\u4f8b\u5316\u7684\u6570\u636e\u91cf\uff0c\u5b9e\u4f8b\u5316\u5931\u8d25\u7684\u6570\u636e\u91cf\u5199\u5728\u62a5\u544a\u4e2d\u3002</p>"},{"location":"tutorials/advanced/dsdl_check/#_4","title":"\u53ef\u89c6\u5316","text":"<p>DSDL\u4e3a\u4e86\u68c0\u6d4b\u6807\u6ce8\u4fe1\u606f\u662f\u5426\u6b63\u786e\uff0c\u4f1a\u968f\u673a\u4ece\u6570\u636e\u96c6\u4e2d\u9009\u62e9\u51e0\u4e2a\u6837\u672c\u8fdb\u884c\u53ef\u89c6\u5316\uff0c\u5728\u8fd9\u4e2a\u6b65\u9aa4\u4e2d\uff0c\u53ef\u80fd\u9047\u5230\u4ee5\u4e0b\u95ee\u9898\uff1a</p> <ol> <li>\u56fe\u50cf\u8def\u5f84\u9519\u8bef</li> <li>\u56fe\u50cf\u6587\u4ef6\u635f\u574f</li> <li>\u56fe\u50cf\u683c\u5f0f\u4e0d\u652f\u6301</li> </ol> <p>\u5177\u4f53\u539f\u56e0\u9700\u8981\u6839\u636e\u62a5\u9519\u4fe1\u606f\u786e\u5b9a\u3002</p>"},{"location":"tutorials/advanced/dsdl_convert/","title":"\u6570\u636e\u96c6\u8f6c\u6362","text":"<p>\u7528\u6237\u5728\u5b8c\u6210\u4e86\u6570\u636e\u96c6\u6a21\u677f\u7684\u5236\u5b9a\u540e\uff0c\u5373\u53ef\u8fdb\u884c\u6570\u636e\u96c6\u8f6c\u6362\u9636\u6bb5\u3002\u6211\u4eec\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86DSDL SDK\u5de5\u5177\uff0c\u8f85\u52a9\u6570\u636e\u96c6\u8f6c\u6362\u7684\u6d41\u7a0b\uff0c\u8bf7\u5148\u5b89\u88c5SDK\u3002</p> <p>\u672c\u6559\u7a0b\u5305\u542b\u4e24\u4e2a\u6a21\u677f\uff1a</p> <ul> <li>\u6570\u636e\u96c6\u8f6c\u6362\u6d41\u7a0b\u53ca\u811a\u672c\u6a21\u677f\uff1a\u8f6c\u6362\u8005\u4ec5\u9700\u8981\u5b9e\u73b0\u51e0\u4e2a\u7279\u5b9a\u51fd\u6570\uff0c\u5373\u53ef\u76f4\u63a5\u751f\u6210DSDL\u6570\u636e\u96c6\u76ee\u5f55\u3002</li> <li>\u5b9e\u9645\u793a\u4f8b\uff1aVOC\u8f6cDSDL\u7684\u5b9e\u9645\u6848\u4f8b\uff0c\u4f9b\u7528\u6237\u53c2\u8003\u3002</li> </ul> <p></p>"},{"location":"tutorials/advanced/dsdl_convert/#1","title":"1. \u6570\u636e\u96c6\u8f6c\u6362\u6d41\u7a0b\u53ca\u811a\u672c\u6a21\u677f","text":"<p>\u8f6c\u6362\u8005\u9700\u8981\u51c6\u5907\u597d\u539f\u59cb\u6570\u636e\u96c6\u538b\u7f29\u5305\u6587\u4ef6\u5939\u548cDSDL\u6587\u4ef6\u5939\uff0c\u63a8\u8350\u6309\u7167\u4ee5\u4e0b\u7684\u76ee\u5f55\u7ed3\u6784\u6765\u6574\u7406\uff1a</p> <pre><code>\u251c\u2500\u2500 &lt;dataset_name&gt;\n    \u251c\u2500\u2500 compressed\n        \u2514\u2500\u2500 ...                                   # \u539f\u59cb\u6570\u636e\u96c6\u7684\u538b\u7f29\u5305  \n    \u251c\u2500\u2500 dsdl                                      # \u5b58\u653eDSDL\u6807\u6ce8\u7684\u6587\u4ef6\u5939   \n        \u251c\u2500\u2500 defs/\n            \u251c\u2500\u2500 template.yaml                    # \u4efb\u52a1\u6a21\u677f\uff0c\u53ef\u4ee5\u76f4\u63a5\u4ece\u6a21\u677f\u5e93\u8c03\u7528   \n        \u251c\u2500\u2500 tools/  \n            \u2514\u2500\u2500 prepare.py                       # \u6570\u636e\u96c6\u51c6\u5907\u811a\u672c\uff0c\u53ef\u53c2\u8003\u672c\u5c0f\u8282\u63d0\u4f9b\u7684\u6a21\u677f\n</code></pre> <p>\u4ee5\u4e0a\u7684\u76ee\u5f55\u4e2d\u7684template.yaml\u4e3aDSDL\u6570\u636e\u96c6\u6a21\u677f\u5236\u5b9a\u5c0f\u8282\u4e2d\u5236\u5b9a\u7684\u6a21\u677f\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49\u6a21\u677f\uff0c\u4e5f\u53ef\u4ee5\u5728DSDL SDK\u4e2d\u76f4\u63a5\u8c03\u7528\u4efb\u52a1\u6a21\u677f\uff08\u540e\u6587\u7684\u8f6c\u6362\u811a\u672c\u6a21\u677f\u4e2d\u4f1a\u6807\u660e\u7528\u6cd5\uff09\u3002</p> <p>prepare.py\u4e2d\u5305\u542b\u7684\u6a21\u5757\u5982\u4e0b\uff1a</p> <ul> <li>prepare\u51fd\u6570\uff1a\u8be5\u811a\u672c\u4e3b\u8981\u662f\u7528\u4e8e\u89e3\u538b\u539f\u59cb\u6570\u636e\u96c6\u538b\u7f29\u5305\u3002\u8be5\u811a\u672c\u9700\u8981\u4f20\u5165\u7684\u53c2\u6570\u4e3a\u539f\u59cb\u6570\u636e\u96c6\u538b\u7f29\u5305\u7684\u6587\u4ef6\u5939\u8def\u5f84\uff0c\u5373/compressed/\u3002\u6211\u4eec\u5df2\u63d0\u4f9b\u4e86\u6a21\u677f\uff0c\u8f6c\u6362\u8005\u53ea\u9700\u8981\u4fee\u6539\u89e3\u538b\u90e8\u5206\u7684\u547d\u4ee4\u5373\u53ef\uff08\u5728\u4ee3\u7801\u6a21\u677f\u4e2d\u6709\u6807\u660e\uff09\u3002 <li>get_subset_samples_list\u51fd\u6570\uff1a\u4e3b\u8981\u662f\u7528\u4e8e\u751f\u6210class-dom\u548cset-<code>&lt;segment&gt;</code>/<code>&lt;segment&gt;</code>_samples.json\uff0c\u8bf7\u81ea\u884c\u4fee\u6539\u4ee5\u9002\u5e94\u4e0d\u540c\u6570\u636e\u96c6\u7684\u6807\u6ce8\u5185\u5bb9\u63d0\u53d6\u3002\u53e6\u5916\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e3a\u4e86\u9632\u6b62class-dom\u4e2d\u51fa\u73b0\u4e0d\u5408\u89c4\u7684\u547d\u540d\uff0c\u9700\u8981\u5bf9\u6240\u6709\u7c7b\u522b\u540d\u505a\u8f6c\u6362\uff08\u7531replace_special_characters\u51fd\u6570\u5b9e\u73b0\uff09\u3002</li> <li>\uff08\u53ef\u9009\uff09dataset_converter\u51fd\u6570\uff1a\u4e2d\u95f4\u683c\u5f0f\u8f6c\u6362\uff0c\u7528\u4e8e\u5bf9\u6570\u636e\u96c6\u7684\u5a92\u4f53\u6587\u4ef6\u6216\u6807\u6ce8\u6587\u4ef6\u8fdb\u884c\u5fc5\u8981\u7684\u4e2d\u95f4\u683c\u5f0f\u8f6c\u6362\uff0c\u5728\u6b64\u4e3e\u4e24\u4e2a\u5b9e\u4f8b\uff1a<ul> <li>\u6bd4\u5982\u50cf\u5728\u5206\u5272\u6570\u636e\u96c6\u4e2d\uff0c\u9700\u8981\u628a\u4e09\u6ce2\u6bb5\u7684label map\u6620\u5c04\u4e3a\u5355\u901a\u9053\u7684Int\u503c\u56fe\uff0c\u7531\u4e8e\u76ee\u524dDSDL\u6807\u51c6\u91cc\u8981\u6c42\u5206\u5272\u6570\u636e\u96c6\u4ee5\u5355\u901a\u9053Int\u503c\u56fe\u5b58\u50a8mask\uff0c\u56e0\u6b64\u9700\u8981\u5bf9\u6570\u636e\u96c6\u7684\u6807\u6ce8\u6587\u4ef6\u505a\u8f6c\u6362\u7684\u66ff\u6362\u3002</li> <li>\u6bd4\u5982CIFAR10\u5b58\u50a8\u7684\u56fe\u7247\u683c\u5f0f\u662fTFrecord\uff0c\u591a\u4e2a\u56fe\u7247\u5b58\u5728\u540c\u4e00\u4e2aTFrecord\u91cc\uff0c\u800cDSDL\u7684Image path\u9700\u8981\u4e00\u4e00\u5bf9\u5e94\u5173\u7cfb\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5c06\u6bcf\u4e2a\u56fe\u7247\u63d0\u53d6\u51fa\u6765\u8f6c\u6210PNG\u3002</li> </ul> </li> <li>main\u51fd\u6570\u4e2d\u5fc5\u586b\u7684\u53c2\u6570\uff1a<ul> <li>meta_info\uff1a\u5305\u62ec\u6570\u636e\u96c6\u540d\u79f0(Dataset Name)\u3001\u5b98\u7f51(HomePage)\u3001\u5a92\u4f53\u6587\u4ef6\u7684\u6a21\u6001(Modality)\u3001\u4efb\u52a1\u540d\u79f0(Task)\uff0c\u6ce8\u610f\uff0c\u5982\u679c\u5e0c\u671b\u76f4\u63a5\u8c03\u7528\u5df2\u6709\u7684\u4efb\u52a1\u6a21\u677f\uff0cTask Name\u9700\u8981\u7b26\u5408\u89c4\u8303\uff0c\u53ef\u7528\u7684Task Name\u8bf7\u53c2\u8003\u4efb\u52a1\u6a21\u677f\u4ecb\u7ecd\u9875\u9762\u4e2d\u7684\u4efb\u52a1\u82f1\u6587\u5168\u79f0\u3002</li> <li>flag_middle_format\uff1a\u5982\u679c\u5b9e\u73b0\u4e86dataset_converter\u51fd\u6570\uff0c\u5219\u9700\u8981\u5c06flag_middle_format\u6539\u4e3aTrue\uff0c\u4ee5\u751f\u6210\u66f4\u52a0\u89c4\u8303\u7684README</li> <li>class_dom_names_original\uff1a\u4ee5list\u7684\u5f62\u5f0f\uff0c\u5c06\u6570\u636e\u96c6\u7684\u7c7b\u522b\u5b58\u50a8\u5728\u8be5\u5b57\u6bb5\u4e2d\uff0c\u6ce8\u610f\uff0c\u5176\u6392\u5217\u987a\u5e8f\u51b3\u5b9a\u4e86class_id\u7684\u751f\u6210\uff0c\u5176\u4e2d\u6392\u5728\u9996\u4f4d\u7684class_id\u4e3a1\uff0c\u7b2c\u4e8c\u4f4d\u4e3a2\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002</li> <li>subset_name_list\uff1a\u6570\u636e\u96c6\u5b50\u96c6\u7684\u5217\u8868\uff0c\u6bd4\u5982['train', 'val']\uff0c\u6839\u636e\u6570\u636e\u96c6\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u3002</li> <li>\u8f6c\u6362\u548c\u751f\u6210\u7684\u6b65\u9aa4\uff1a\u8fd9\u90e8\u5206\u7684DSDL SDK\u4e2d\u5df2\u5b9e\u73b0\u4e86\u5927\u90e8\u5206\u7684\u51fd\u6570\uff0c\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u8f6c\u6362\u8005\u65e0\u9700\u4fee\u6539\uff0c\u5982\u679c\u60f3\u8981\u4e86\u89e3\u5404\u4e2a\u51fd\u6570\u7684\u529f\u80fd\uff0c\u8bf7\u53c2\u8003DSDL SDK\u3002</li> </ul> </li> <p>\u5177\u4f53\u7684prepare.py\u7684\u6a21\u677f\u5982\u4e0b\uff1a</p> <pre><code>import argparse\nimport os\nimport shutil\nimport sys\nfrom pathlib import Path\nfrom dsdl.converter.mllm import generate_config_file\nfrom dsdl.converter.mllm import generate_readme_with_middle_format\nfrom dsdl.converter.mllm import generate_readme_without_middle_format\nfrom dsdl.converter.mllm import generate_tree_string\nfrom dsdl.converter.utils import check_dsdl_meta_info\nfrom dsdl.converter.utils import check_task_template_file\nfrom dsdl.converter.utils import generate_class_dom\nfrom dsdl.converter.utils import generate_subset_yaml_and_json\nfrom dsdl.converter.utils import replace_special_characters\nfrom dsdl.converter.utils import get_dsdl_template_from_lib\n#############\u63d0\u53d6\u539f\u59cb\u6570\u636e\u96c6\u5b57\u6bb5\uff0c\u751f\u6210sample list\uff0c\u7528\u6237\u9700\u8981\u5b9e\u73b0\u8be5\u51fd\u6570#############################\ndef get_subset_samples_list(*args, **kwargs):\nsamples_list = []\n## \u8fd4\u56de\u7684\u5217\u8868\u793a\u4f8b\u5982\u4e0b\uff1a\n## \u6ce8\u610f\u6bcf\u4e2a\u5b57\u6bb5\u540d\u79f0\u8981\u4e0etemplate.yaml\u4e2d\u5b9a\u4e49\u7684\u5b57\u6bb5\u548c\u7ed3\u6784\u5b8c\u5168\u76f8\u540c\uff0c\u6bd4\u5982\uff1a\n# [{\n#     \"media\": {\n#         \"image\": \"images/train/1.jpg\",\n#         \"image_shape\": [405,720]\n#     },\n#     \"objects\": [\n#         {\n#             \"bbox\": [220,183,154,104],\n#             \"label\": \"holothurian\",\n#             \"iscrowd\": false,\n#             \"segmentation\": [[\n#                     [220,183],\n#                     [374,183],\n#                     [374,287],\n#                     [220,287]]]\n#         },\n#         ...,\n#  },\n#  ...\n# ]\nreturn samples_list\n###########\u6570\u636e\u96c6\u4e2d\u95f4\u683c\u5f0f\u8f6c\u6362\uff0c\u5982\u679c\u9700\u8981\u7684\u8bdd\uff0c\u7528\u6237\u9700\u8981\u5b9e\u73b0\u8be5\u51fd\u6570#############################\ndef dataset_to_middle_format(*args, **kwargs):\n# \u6709\u4e9b\u6570\u636e\u96c6\u9700\u8981\u8f6c\u6362\u6210\u4e2d\u95f4\u683c\u5f0f\uff0c\n# \u5728\u8fd9\u4e2a\u51fd\u6570\u4e2d\u7f16\u5199\u8f6c\u6362\u4ee3\u7801\uff0c\u5e76\u8bb0\u5f55\u4e2d\u95f4\u683c\u5f0f\u7684\u6587\u4ef6\u5939\u6811\u5f62\u7ed3\u6784\u548c\u8f6c\u6362\u7ed3\u679c\u63cf\u8ff0\u3002\n## 1. \u786e\u5b9a\u4e2d\u95f4\u683c\u5f0f\u6570\u636e\u4fdd\u5b58\u8def\u5f84\nmiddle_data_path = args[0]\n## 2. \u628a\u6570\u636e\u96c6\u8f6c\u6362\u6210\u4e2d\u95f4\u683c\u5f0f\n## \u5b9e\u73b0\u4ee3\u7801\u8fd9\u91cc\u7f16\u5199\npass\n################\u7528\u6237\u4e0d\u9700\u8981\u4fee\u6539\u8be5\u51fd\u6570###############################################\ndef parse_args():\n\"\"\"\u547d\u4ee4\u884c\u53c2\u6570\u89e3\u6790\"\"\"\nparse = argparse.ArgumentParser(\ndescription='Prepare the dsdl_SemSeg_full dataset from original dataset.'\n)\nparse.add_argument(\n'--decompressed', '-d', action='store_true',\nhelp='This argument decides whether the dataset files are decompressed. '\n'Add \"-d\" argument to skip decompress process, '\n'and directly pass the decompressed dataset. '\n'The default is need decompress process.'\n)\nparse.add_argument(\n'--copy', '-c', action='store_true',\nhelp='This argument decides whether the decompressed dataset files will be copied as a backup and then run the converter. '\n'Add \"-c\" argument to create a copy, and then run the converter. '\n'The default is not to create a copy and directly overwrite the original data.'\n)\nparse.add_argument(\n'path', type=str,\nhelp='The original dataset path, a folder with compressed files if \"-d\" doesn\\'t exist, '\n'or decompressed folder when \"-d\" exists.'\n)\nargs = parse.parse_args()\nreturn args\n###########\u9700\u8981\u4fee\u6539prepare\u51fd\u6570\u4e2d\u7684\u89e3\u538b\u64cd\u4f5c###########\ndef prepare(args):\n\"\"\"\u6839\u636e\u4e0d\u540c\u7684\u547d\u4ee4\u884c\u53c2\u6570\u6267\u884c\u89e3\u538b\u3001\u590d\u5236\u64cd\u4f5c,\u5e76\u8c03\u7528\u6570\u636e\u96c6\u6587\u4ef6\u8f6c\u6362\u548cdsdl\u6807\u6ce8\u751f\u6210\u3002\"\"\"\nSCRIPT_PATH = Path(__file__).resolve().absolute().parent\nDSDL_PATH = SCRIPT_PATH.parent\nif args.decompressed:\nORIGINAL_PATH = Path(args.path)\nif args.copy:\nPREPARED_PATH = ORIGINAL_PATH.parent / \"prepared\"\nif PREPARED_PATH.exists():\nraise Exception(f\"Path {PREPARED_PATH.absolute().as_posix()} already exists.\")\nshutil.copytree(ORIGINAL_PATH, PREPARED_PATH)\nelse:\nif flag_middle_format:\nprint(\"The operation will directly overwrite the dataset files with no backup.\")\nwhile True:\nconfirm = input(\"Input [yes] to continue, or [quit] to exit.  \")\nif confirm.lower() == \"quit\":\nsys.exit(0)\nelif confirm.lower() == \"yes\":\nbreak\nPREPARED_PATH = ORIGINAL_PATH\nelse:\nCOMPRESSED_PATH = Path(args.path)\nPREPARED_PATH = COMPRESSED_PATH.parent / \"prepared\"\nif PREPARED_PATH.exists():\nraise Exception(f\"Path {PREPARED_PATH.absolute().as_posix()} already exists.\")\nPREPARED_PATH.mkdir()\nfound_compressed = False\n#######\u9700\u8981\u4fee\u6539:\u89e3\u538b\u64cd\u4f5c\uff0c\u5185\u7f6ezip\u548ctar.gz\u683c\u5f0f\uff0c\u5176\u4ed6\u683c\u5f0f\u9700\u8981\u4fee\u6539#############\nfor file in COMPRESSED_PATH.rglob(\"*.zip\"):\nfound_compressed = True\nzf = zipfile.ZipFile(file)\nzf.extractall(PREPARED_PATH)\nfor file in chain(\nCOMPRESSED_PATH.rglob(\"*.tar.gz\"),\nCOMPRESSED_PATH.rglob(\"*.tgz\"),\nCOMPRESSED_PATH.rglob(\"*.tar\")\n):\nfound_compressed = True\ntf = tarfile.open(file)\ntf.extractall(PREPARED_PATH)\nif not found_compressed:\nraise Exception('Compressed file not found. Check the file path.')\n# \u5982\u679c\u89e3\u538b\u540e\u53d1\u73b0prepared\u6587\u4ef6\u5939\u4e2d\u4ecd\u6709\u4e00\u5c42\u6570\u636e\u96c6\u540d\u79f0\u7684\u5d4c\u5957\u6587\u4ef6\u5939\uff0c\n# \u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\u5220\u9664\u8fd9\u5c42\u5d4c\u5957\uff0c\u5c06\u6570\u636e\u96c6\u6587\u4ef6\u76f4\u63a5\u653e\u5728prepared\u6587\u4ef6\u5939\u4e2d\u3002\n# for file in (PREPARED_PATH / \"foldername\").iterdir():\n#     file.rename(file.parent.parent / file.name)\n# (PREPARED_PATH / \"foldername\").rmdir()\n#############################################################################\nif args.copy:\nORIGINAL_PATH = COMPRESSED_PATH.parent / \"original\"\nif ORIGINAL_PATH.exists():\nraise Exception(f\"Path {ORIGINAL_PATH.absolute().as_posix()} already exists.\")\nshutil.copytree(PREPARED_PATH, ORIGINAL_PATH)\nreturn PREPARED_PATH.absolute().as_posix(), DSDL_PATH.absolute().as_posix()\nif __name__ == \"__main__\":\n#########################\u5fc5\u586b\u7684\u53c2\u6570##########################\nmeta_info = {\n\"Dataset Name\": \"\",  # e.g., VOC2012\n\"HomePage\": \"\",  # e.g., http://host.robots.ox.ac.uk/pascal/VOC/voc2012/index.html\n\"Modality\": \"\",  # e.g., Images\n\"Task\": \"\"\n}  # e.g., Object Detection\nflag_middle_format = False  # \u6570\u636e\u96c6\u662f\u5426\u9700\u8981\u8f6c\u6362\u6210\u4e2d\u95f4\u683c\u5f0f(\u662f\u7684\u8bdd\uff0c\u4fee\u6539\u4e3aTrue)\nclass_dom_names_original = []  # \u9700\u8981\u4fee\u6539, e.g., ['dog','cat']\uff0c\u53ef\u4ee5\u81ea\u884c\u5b9e\u73b0\u51fd\u6570\u63d0\u53d6\nsubset_name_list = []  # \u6570\u636e\u96c6\u7684\u5b50\u96c6\u540d\u79f0\u5217\u8868\uff0ce.g., ['train', 'val']\n##############################################################\nargs = parse_args()\nroot_path, save_path = prepare(args)\n## \u8bf4\u660e\uff1a\n## \u56e0\u4e3a\u6a21\u677f\u6587\u4ef6template.yaml\u662fdsdl\u4e2d\u5b9a\u4e49\u6570\u636e\u96c6\u7ed3\u6784\u548c\u5b57\u6bb5\u7684\u6587\u4ef6\u3002\n## \u6240\u4ee5\u5fc5\u987b\u5148\u751f\u6210template.yaml\u624d\u80fd\u8fdb\u884c\u540e\u7eed\u8f6c\u6362\u3002\n## template.yaml\u7684\u4f4d\u7f6e\u4f4d\u4e8e: save_path/defs/template.yaml\n## \u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u5df2\u6709\u7684\u6a21\u677f\uff0c\u6216\u624b\u52a8\u521b\u5efatemplate.yaml\uff0c\u5e76\u62f7\u8d1d\u5230save_path/defs/\u76ee\u5f55\u4e0b\u3002\n## \u4ee5\u4e0b\u793a\u4f8b\u662f\u8c03\u7528\u5df2\u6709\u7684\u6a21\u677f\uff1a\nget_dsdl_template_from_lib(meta_info[\"Task\"], save_path)\n## \u6ce8\u610f\uff0c\u8fd9\u91cc\u7684task_name\u9700\u8981\u5728\u6570\u636e\u96c6\u8f6c\u6362\u9875\u9762\u7ef4\u62a4\uff0ctemplate\u5728converter\u4e0b\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u5b58\u50a8\n###########\u4ee5\u4e0b\u662f\u8f6c\u6362\u548c\u751f\u6210\u7684\u6b65\u9aa4\uff0c\u53ef\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539#############\n###########\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u53ea\u9700\u8981\u4fee\u6539get_subset_samples_list\u6240\u9700\u7684\u53c2\u6570###########\ncheck_dsdl_meta_info(meta_info)  # \u68c0\u9a8cmeta\u4fe1\u606f\u662f\u5426\u5b58\u5728\u9519\u8bef\ncheck_task_template_file(save_path)  # \u68c0\u9a8c\u4fdd\u5b58\u8def\u5f84\u4e2d\u662f\u5426\u5df2\u7ecf\u5b58\u5728\u6a21\u677f\u6587\u4ef6\n# 1. \u751f\u6210\u539f\u59cb\u6570\u636e\u96c6\u76ee\u5f55\u7ed3\u6784\u6811\u5f62\u5b57\u7b26\u4e32\noriginal_tree_str = generate_tree_string(root_path)\n# 2. \u6570\u636e\u96c6\u4e2d\u95f4\u683c\u5f0f\u8f6c\u6362\uff0c\u8c03\u7528dataset_to_middle_format\uff08\u5982\u6709\u9700\u8981\u8bf7\u5b9e\u73b0\u8be5\u51fd\u6570\uff09\nif flag_middle_format:\n## \u5148\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570\u628a\u6570\u636e\u96c6\u8f6c\u6362\u6210\u4e2d\u95f4\u683c\u5f0f\n## \u53ef\u53c2\u8003dataset_to_middle_format()\u4e2d\u6ce8\u91ca\n## \u9700\u8981\u5bf9middle_format_tree_str\u548cconverter_description\u8d4b\u503c\ndataset_to_middle_format(root_path)  # \u9700\u8981\u81ea\u884c\u4fee\u6539\u6240\u9700\u7684\u53c2\u6570\n# 3. \u751f\u6210class-dom\nclass_dom_names = []\nfor name in class_dom_names_original:\nclass_dom_names.append(replace_special_characters(name))  # \u5c06\u4e0d\u5408\u89c4\u7684label\u540d\u5b57\u505a\u8f6c\u6362\ngenerate_class_dom(save_path, class_dom_names)  # \u751f\u6210class-dom.yaml\u6587\u4ef6\n# 4. \u751f\u6210&lt;segment&gt;_samples.json,\u8c03\u7528get_subset_samples_list\uff08\u5fc5\u987b\u5b9e\u73b0\u8be5\u51fd\u6570\uff09\nfor subset_name in subset_name_list:\nmeta_info[\"Subset Name\"] = subset_name\nprint(f\"processing data in {subset_name}.\")\nsubset_samples_list = get_subset_samples_list(root_path, subset_name)  # \u9700\u8981\u81ea\u884c\u4fee\u6539\u6240\u9700\u7684\u53c2\u6570\n# \u793a\u4f8b\uff1asubset_samples_list = get_subset_samples_list(root_path, subset_name)\ngenerate_subset_yaml_and_json(\nmeta_info,\nsave_path,\nsubset_samples_list\n)\nprint(f\"Sample list for {subset_name} is generated.\")\ndsdl_tree_str = generate_tree_string(save_path,display_num=100)  # \u751f\u6210\u8f6c\u540e\u7684dsdl\u6570\u636e\u96c6\u76ee\u5f55\u7ed3\u6784\u6811\u5f62\u5b57\u7b26\u4e32\ngenerate_config_file(save_path)  # \u751f\u6210config.py\n# 5. \u751f\u6210README.md\nif flag_middle_format:\ngenerate_readme_with_middle_format(\nsave_path,\nmeta_info[\"Dataset Name\"],\nmeta_info[\"Task\"],\noriginal_tree_str,\ndsdl_tree_str,\n)\nelse:\ngenerate_readme_without_middle_format(\nsave_path,\nmeta_info[\"Dataset Name\"],\nmeta_info[\"Task\"],\noriginal_tree_str,\ndsdl_tree_str\n)\n</code></pre> <p>\u8f6c\u6362\u8005\u5b8c\u5584\u4e86\u5fc5\u8981\u7684\u51fd\u6570\u7684\u548c\u5fc5\u586b\u7684\u5b57\u6bb5\u540e\uff0c\u53ef\u4ee5\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>python tools/prepare.py &lt;path_to_compressed_dataset_folder&gt;\n</code></pre> <p>\u8fd0\u884c\u8be5\u4ee3\u7801\u540e\uff0c\u5c06\u4f1a\u5bf9\u7528\u6237\u63d0\u4f9b\u7684\u6570\u636e\u96c6\u538b\u7f29\u5305\u8fdb\u884c\u89e3\u538b\uff0c\u751f\u6210prepared\u6587\u4ef6\u5939\uff0c\u7136\u540e\u76f4\u63a5\u5bf9prepared\u6587\u4ef6\u5939\u8fdb\u884cDSDL\u6807\u51c6\u5316\u64cd\u4f5c\uff0c\u5e76\u751f\u6210DSDL\u6807\u6ce8\u3002\u6267\u884c\u540e\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>\u251c\u2500\u2500 &lt;dataset_name&gt;\n    \u251c\u2500\u2500 compressed\n        \u2514\u2500\u2500 ...                              # \u539f\u59cb\u6570\u636e\u96c6\u7684\u538b\u7f29\u5305(\u771f\u6b63\u7684\u539f\u59cb\u6570\u636e\u96c6\uff09,\u540e\u9762\u63d0\u4f9b\u7ed9OSS\n    \u251c\u2500\u2500 prepared                             # \u539f\u59cb\u6570\u636e\u96c6\u89e3\u538b\u540e\u7684\u6240\u6709\u6587\u4ef6\n        \u251c\u2500\u2500 ...                              # \u7531prepare.sh\u8fd0\u884c\u540e\u751f\u6210\n        \u2514\u2500\u2500 ...  \n    \u251c\u2500\u2500 dsdl                                 # \u5b58\u653eDSDL\u6807\u6ce8\u7684\u6587\u4ef6\u5939  \n        \u251c\u2500\u2500 defs/\n            \u251c\u2500\u2500 template.yaml                # \u4efb\u52a1\u6a21\u677f\n            \u251c\u2500\u2500 class-dom.yaml               # \u6570\u636e\u96c6\u7684\u7c7b\u522b\u57df   \n        \u251c\u2500\u2500 set-train/                       # \u8bad\u7ec3\u96c6\n            \u251c\u2500\u2500 train.yaml                   # \u8bad\u7ec3\u96c6\u7684\u5b9a\u4e49\u6587\u4ef6\n            \u251c\u2500\u2500 train_samples.json           # \u5b9e\u9645\u6807\u6ce8\u6587\u4ef6\n        \u251c\u2500\u2500 tools/  \n           \u2514\u2500\u2500 prepare.py                    # \u5305\u62ec\u89e3\u538b\u3001\u8f6c\u4e2d\u95f4\u683c\u5f0f\uff08\u5982\u679c\u9700\u8981\u7684\u8bdd\uff09\u548c\u751f\u6210dsdl\u76ee\u5f55\n        \u251c\u2500\u2500 README.md   \n        \u2514\u2500\u2500 config.py                        # \u6570\u636e\u96c6\u8bfb\u53d6\u8def\u5f84\u7b49config\u6587\u4ef6\n</code></pre> <p></p>"},{"location":"tutorials/advanced/dsdl_convert/#2","title":"2. \u5b9e\u9645\u793a\u4f8b","text":"<p>\u8be5\u793a\u4f8b\u4e2d\uff0c\u5c06\u76f4\u63a5\u5229\u7528\u76ee\u6807\u68c0\u6d4b\u6a21\u677f\u6765\u5bf9VOC\u8fdb\u884c\u7cbe\u7b80\u7248DSDL\u8f6c\u6362\u3002</p> <p>\u4e3b\u8981\u6b65\u9aa4\u5982\u4e0b:</p> <ul> <li>\u539f\u59cb\u6570\u636e\u96c6\u8c03\u7814\uff1a\u5305\u62ec\u76ee\u5f55\u7ed3\u6784\u3001\u6807\u6ce8\u6587\u4ef6\u7b49</li> <li>\u6570\u636e\u96c6\u8f6c\u6362\u811a\u672c\u5b9e\u73b0\uff1a\u901a\u8fc7\u76ee\u6807\u68c0\u6d4b\u4efb\u52a1\u6a21\u677f\u548c\u6570\u636e\u96c6\u8f6c\u6362\u811a\u672c\u6a21\u677f\uff0c\u5b9e\u73b0VOC\u8f6cDSDL</li> </ul>"},{"location":"tutorials/advanced/dsdl_convert/#21","title":"2.1 \u539f\u59cb\u6570\u636e\u96c6\u8c03\u7814","text":"<p>\u9996\u5148\u9700\u8981\u8c03\u7814\u539f\u59cb\u6570\u636e\u96c6\u7684\u6587\u4ef6\u7ed3\u6784\uff1a</p> <pre><code>VOC2007/\n\u251c\u2500\u2500 Annotations/              # \u91cc\u9762\u5b58\u653e\u7684\u662f\u6bcf\u5f20\u56fe\u7247\u6253\u5b8c\u6807\u7b7e\u6240\u5bf9\u5e94\u7684XML\u6587\u4ef6\n\u2502  \u251c\u2500\u2500 000001.xml             # \u67d0\u5f20\u56fe\u7247\u7684\u6807\u6ce8\u4fe1\u606f\n\u2502  \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 ImageSets/                # \u56fe\u7247\u5212\u5206\u7684txt\u5b58\u653e\u4f4d\u7f6e\n\u2502  \u251c\u2500\u2500 Layout                 # \u5305\u542bLayout\u6807\u6ce8\u4fe1\u606f\u7684\u56fe\u50cf\u6587\u4ef6\u540d\u5217\u8868\n\u2502  \u2502  \u251c\u2500\u2500 test.txt \n\u2502  \u2502  \u251c\u2500\u2500 train.txt \n\u2502  \u2502  \u251c\u2500\u2500 trainval.txt \n\u2502  \u2502  \u2514\u2500\u2500 val.txt \n\u2502  \u251c\u2500\u2500 Main                   # \u5305\u542b\u6240\u6709\u6587\u4ef6\u7684\u5217\u8868\u548c\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 aeroplane_test.txt  # \u6309\u6bcf\u4e2a\u7c7b\u522b\u7684\u8bad\u7ec3\u96c6\u3001\u6d4b\u8bd5\u96c6\u7b49\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 aeroplane_train.txt \n\u2502  \u2502  \u251c\u2500\u2500 ...\n\u2502  \u2502  \u251c\u2500\u2500 test.txt            # \u5168\u6570\u636e\u96c6\u7684test\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 train.txt           # \u5168\u6570\u636e\u96c6\u7684train\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 trainval.txt \n\u2502  \u2502  \u2514\u2500\u2500 val.txt \n\u2502  \u251c\u2500\u2500 Segmentation           # \u5305\u542b\u8bed\u4e49\u5206\u5272\u4fe1\u606f\u56fe\u50cf\u6587\u4ef6\u7684\u5217\u8868\u548c\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 test.txt \n\u2502  \u2502  \u251c\u2500\u2500 train.txt \n\u2502  \u2502  \u251c\u2500\u2500 trainval.txt \n\u2502  \u2502  \u2514\u2500\u2500 val.txt \n\u251c\u2500\u2500 JPEGImages/               # \u5b58\u653e\u7684\u662f\u8bad\u7ec3\u4e0e\u6d4b\u8bd5\u7684\u6240\u6709\u56fe\u7247\n\u2502  \u251c\u2500\u2500 000001.jpg             # \u56fe\u7247\uff08\u5e8f\u53f7\u4f5c\u4e3a\u56fe\u7247\u540d\uff09 \n\u2502  \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 SegmentationClass/        # \u8bed\u4e49\u5206\u5272\u6807\u6ce8\n\u2502  \u251c\u2500\u2500 000032.png             # \u67d0\u5f20\u56fe\u7247\u7684\u5a92\u4f53\u6587\u4ef6 \n\u2502  \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 SegmentationObject/       # \u5b9e\u4f8b\u5206\u5272\u6807\u6ce8\n   \u251c\u2500\u2500 000032.png             # \u67d0\u5f20\u56fe\u7247\u7684\u5a92\u4f53\u6587\u4ef6 \n   \u2514\u2500\u2500 ...\n</code></pre> <p>\u8fd9\u91cc\u53ea\u4ee5\u68c0\u6d4b\u4efb\u52a1\u4e3a\u4f8b\u751f\u6210\u6a21\u677f\uff0c\u56e0\u6b64\u53ea\u9700\u8981Annotations/\u3001JPEGImages/\u8fd9\u4e24\u4e2a\u6587\u4ef6\u5939\uff0c\u53e6\u5916\uff0c\u8bad\u7ec3\u6d4b\u8bd5\u96c6\u5212\u5206\uff0c\u9700\u8981\u7528ImageSets/Main/train.txt\u3001val.txt\u3001test.txt\u8fd9\u4e09\u4e2a\u6587\u4ef6\u3002</p> <p>\u6807\u6ce8\u7c7b\u578b\u5982\u4e0b\uff08\u4ee5Annotations/000001.xml\u4e3a\u4f8b\uff09\uff1a</p> <pre><code>&lt;annotation&gt;\n&lt;folder&gt;VOC2007&lt;/folder&gt;                         # \u6587\u4ef6\u5939\n   &lt;filename&gt;000001.jpg&lt;/filename&gt;                  # \u56fe\u7247\u6587\u4ef6\u540d\n   &lt;source&gt;                                         # \u56fe\u50cf\u5143\u4fe1\u606f\n      &lt;database&gt;The VOC2007 Database&lt;/database&gt;     # \u6570\u636e\u96c6\u540d\u79f0\n      &lt;annotation&gt;PASCAL VOC2007&lt;/annotation&gt;       # \u6807\u6ce8\u7c7b\u578b\n      &lt;image&gt;flickr&lt;/image&gt;                         # \u6765\u6e90\n      &lt;flickrid&gt;341012865&lt;/flickrid&gt;                # \u6765\u6e90ID\n   &lt;/source&gt;\n&lt;owner&gt;                                          # \u6e90\u4fe1\u606f\n      &lt;flickrid&gt;Fried Camels&lt;/flickrid&gt;\n&lt;name&gt;Jinky the Fruit Bat&lt;/name&gt;\n&lt;/owner&gt;\n&lt;size&gt;\n&lt;width&gt;353&lt;/width&gt;                            # \u56fe\u7247\u5bbd\n      &lt;height&gt;500&lt;/height&gt;                          # \u56fe\u7247\u9ad8 &lt;depth&gt;3&lt;/depth&gt;                              # \u56fe\u7247\u901a\u9053\u6570\n   &lt;/size&gt;\n&lt;segmented&gt;0&lt;/segmented&gt;                         # \u662f\u5426\u7528\u4e8e\u5206\u5272\n   &lt;object&gt;                                         # \u6807\u6ce8\u90e8\u5206 &lt;name&gt;dog&lt;/name&gt;                              # \u6807\u7b7e\n      &lt;pose&gt;Left&lt;/pose&gt;                             # \u59ff\u6001\n      &lt;truncated&gt;1&lt;/truncated&gt;                      # \u7269\u4f53\u662f\u5426\u88ab\u90e8\u5206\u906e\u6321\uff08&gt;15%\uff09\n      &lt;difficult&gt;0&lt;/difficult&gt;                      # \u662f\u5426\u4e3a\u96be\u4ee5\u8fa8\u8bc6\u7684\u7269\u4f53\n      &lt;bndbox&gt;\n&lt;xmin&gt;48&lt;/xmin&gt;                            # \u5de6\u4e0a\u89d2\u70b9\u7684x\n         &lt;ymin&gt;240&lt;/ymin&gt;                           # \u5de6\u4e0a\u89d2\u70b9\u7684y\n         &lt;xmax&gt;195&lt;/xmax&gt;                           # \u53f3\u4e0b\u89d2\u70b9\u7684x\n         &lt;ymax&gt;371&lt;/ymax&gt;                           # \u53f3\u4e0b\u89d2\u70b9\u7684y\n      &lt;/bndbox&gt;\n&lt;/object&gt;\n...\n&lt;/annotation&gt;\n</code></pre> <p>\u8fd9\u91cc\u4ee5ImageSets/Main/train.txt\u4e3a\u4f8b\u5c55\u793a\u4e00\u4e0b\u6570\u636e\u96c6segment\u5212\u5206\u7684\u6587\u4ef6\u5185\u5bb9\uff1a</p> <pre><code>000012         # \u56fe\u7247\u540d\u524d\u7f00\n000017\n000023\n000026\n...\n</code></pre>"},{"location":"tutorials/advanced/dsdl_convert/#22","title":"2.2 \u6570\u636e\u96c6\u8f6c\u6362\u811a\u672c\u5b9e\u73b0","text":"<p>\u6839\u636e\u8be5\u6570\u636e\u96c6\u7684\u76ee\u5f55\u7ed3\u6784\u548c\u6807\u6ce8\u7c7b\u578b\uff0cprepare.py\u811a\u672c\u7684\u5b9e\u73b0\u5982\u4e0b\uff1a</p> <pre><code>import argparse\nimport os\nimport shutil\nimport sys\nfrom pathlib import Path\nfrom itertools import chain\nimport tarfile\nfrom dsdl.converter.mllm import generate_config_file\nfrom dsdl.converter.mllm import generate_readme_with_middle_format\nfrom dsdl.converter.mllm import generate_readme_without_middle_format\nfrom dsdl.converter.mllm import generate_tree_string\nfrom dsdl.converter.utils import check_dsdl_meta_info\nfrom dsdl.converter.utils import check_task_template_file\nfrom dsdl.converter.utils import generate_class_dom\nfrom dsdl.converter.utils import generate_subset_yaml_and_json\nfrom dsdl.converter.utils import replace_special_characters\nfrom dsdl.converter.utils import get_dsdl_template_from_lib\n#!/usr/bin/env python3\n\"\"\"\nThis file implements the generator of the VOC2007 DSDL format dataset.\n\"\"\"\nimport itertools\nimport yaml\nfrom xml.etree import ElementTree\nimport json  \n#############\u63d0\u53d6\u539f\u59cb\u6570\u636e\u96c6\u5b57\u6bb5\uff0c\u751f\u6210sample list#############################\ndef get_subset_samples_list(root_path, seg, category_list):\nsamples_list = []  \nanno_paths = os.path.join(root_path, \"Annotations\")\nann_id_gen = itertools.count()\n_VOC_CATEGORY_DICT = {_name: (_ind + 1) for _ind, _name in enumerate(category_list)}\nseg_path = os.path.join(root_path, 'ImageSets', 'Main', seg + '.txt')\ntry:\nwith open(seg_path, 'r') as f:\nseg_list = f.readlines()\nexcept:\nprint('The segmentation file {} cannot be open, it will be skipped.'.format(seg_path))\nfor anno_id in seg_list:\nanno_path = os.path.join(root_path, 'Annotations', anno_id.strip() + '.xml')\ntry:\nwith open(anno_path, 'r') as f:\nanno_tree = ElementTree.parse(f)\nexcept:\nprint('The annotation file {} cannot read, it will be skipped.'.format(anno_path))\ncontinue\nsample = {\n'image': os.path.join('JPEGImages', anno_tree.find('filename').text),\n'objects': []}\nfor obj in anno_tree.iter('object'):\nxmin, ymin, xmax, ymax = [float(obj.find('bndbox').find(boxes).text) for boxes in ['xmin', 'ymin', 'xmax', 'ymax']]\nsample['objects'].append({\n'bbox': [xmin, ymin, xmax-xmin, ymax-ymin],\n'label': _VOC_CATEGORY_DICT[obj.find('name').text]\n})\nsamples_list.append(sample)\nreturn samples_list\ndef parse_args():\n\"\"\"\u547d\u4ee4\u884c\u53c2\u6570\u89e3\u6790\"\"\"\nparse = argparse.ArgumentParser(\ndescription='Prepare the dsdl_SemSeg_full dataset from original dataset.'\n)\nparse.add_argument(\n'--decompressed', '-d', action='store_true',\nhelp='This argument decides whether the dataset files are decompressed. '\n'Add \"-d\" argument to skip decompress process, '\n'and directly pass the decompressed dataset. '\n'The default is need decompress process.'\n)\nparse.add_argument(\n'--copy', '-c', action='store_true',\nhelp='This argument decides whether the decompressed dataset files will be copied as a backup and then run the converter. '\n'Add \"-c\" argument to create a copy, and then run the converter. '\n'The default is not to create a copy and directly overwrite the original data.'\n)\nparse.add_argument(\n'path', type=str,\nhelp='The original dataset path, a folder with compressed files if \"-d\" doesn\\'t exist, '\n'or decompressed folder when \"-d\" exists.'\n)\nargs = parse.parse_args()\nreturn args\ndef prepare(args):\n\"\"\"\u6839\u636e\u4e0d\u540c\u7684\u547d\u4ee4\u884c\u53c2\u6570\u6267\u884c\u89e3\u538b\u3001\u590d\u5236\u64cd\u4f5c,\u5e76\u8c03\u7528\u6570\u636e\u96c6\u6587\u4ef6\u8f6c\u6362\u548cdsdl\u6807\u6ce8\u751f\u6210\u3002\"\"\"\nSCRIPT_PATH = Path(__file__).resolve().absolute().parent\nDSDL_PATH = SCRIPT_PATH.parent\nif args.decompressed:\nORIGINAL_PATH = Path(args.path)\nif args.copy:\nPREPARED_PATH = ORIGINAL_PATH.parent / \"prepared\"\nif PREPARED_PATH.exists():\nraise Exception(f\"Path {PREPARED_PATH.absolute().as_posix()} already exists.\")\nshutil.copytree(ORIGINAL_PATH, PREPARED_PATH)\nelse:\nif flag_middle_format:\nprint(\"The operation will directly overwrite the dataset files with no backup.\")\nwhile True:\nconfirm = input(\"Input [yes] to continue, or [quit] to exit.  \")\nif confirm.lower() == \"quit\":\nsys.exit(0)\nelif confirm.lower() == \"yes\":\nbreak\nPREPARED_PATH = ORIGINAL_PATH\nelse:\nCOMPRESSED_PATH = Path(args.path)\nPREPARED_PATH = COMPRESSED_PATH.parent / \"prepared\"\nif PREPARED_PATH.exists():\nraise Exception(f\"Path {PREPARED_PATH.absolute().as_posix()} already exists.\")\nPREPARED_PATH.mkdir()\nfound_compressed = False\nfor file in COMPRESSED_PATH.rglob(\"*.zip\"):\nfound_compressed = True\nzf = zipfile.ZipFile(file)\nzf.extractall(PREPARED_PATH)\nfor file in chain(\nCOMPRESSED_PATH.rglob(\"*.tar.gz\"),\nCOMPRESSED_PATH.rglob(\"*.tgz\"),\nCOMPRESSED_PATH.rglob(\"*.tar\")\n):\nfound_compressed = True\ntf = tarfile.open(file)\ntf.extractall(PREPARED_PATH)\nif not found_compressed:\nraise Exception('Compressed file not found. Check the file path.')\nfor file in (PREPARED_PATH / \"VOCdevkit\"/ \"VOC2007\").iterdir():\nfile.rename(file.parent.parent.parent / file.name)\nshutil.rmtree(PREPARED_PATH / \"VOCdevkit\")\nif args.copy:\nORIGINAL_PATH = COMPRESSED_PATH.parent / \"original\"\nif ORIGINAL_PATH.exists():\nraise Exception(f\"Path {ORIGINAL_PATH.absolute().as_posix()} already exists.\")\nshutil.copytree(PREPARED_PATH, ORIGINAL_PATH)\nreturn PREPARED_PATH.absolute().as_posix(), DSDL_PATH.absolute().as_posix()\nif __name__ == \"__main__\":\nmeta_info = {\n\"Dataset Name\": \"VOC2007\",\n\"HomePage\": \"http://host.robots.ox.ac.uk/pascal/VOC/voc2007/index.html\",\n\"Modality\": \"Images\", \n\"Task\": \"Object Detection\"\n}\nflag_middle_format = False\nclass_dom_names_original = [\"aeroplane\", \"bicycle\", \"bird\", \"boat\", \"bottle\", \"bus\", \"car\", \"cat\", \"chair\", \"cow\", \"diningtable\", \"dog\", \"horse\", \"motorbike\", \"person\", \"pottedplant\", \"sheep\", \"sofa\", \"train\", \"tvmonitor\"]\nsubset_name_list = ['train', 'val', 'test']\nargs = parse_args()\nroot_path, save_path = prepare(args)\n## \u8bf4\u660e\uff1a\n## \u56e0\u4e3a\u6a21\u677f\u6587\u4ef6template.yaml\u662fdsdl\u4e2d\u5b9a\u4e49\u6570\u636e\u96c6\u7ed3\u6784\u548c\u5b57\u6bb5\u7684\u6587\u4ef6\u3002\n## \u6240\u4ee5\u5fc5\u987b\u5148\u751f\u6210template.yaml\u624d\u80fd\u8fdb\u884c\u540e\u7eed\u8f6c\u6362\u3002\n## template.yaml\u7684\u4f4d\u7f6e\u4f4d\u4e8e: save_path/defs/template.yaml\n## \u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u5df2\u6709\u7684\u6a21\u677f\uff0c\u6216\u624b\u52a8\u521b\u5efatemplate.yaml\uff0c\u5e76\u62f7\u8d1d\u5230save_path/defs/\u76ee\u5f55\u4e0b\u3002\n## \u4ee5\u4e0b\u793a\u4f8b\u662f\u8c03\u7528\u5df2\u6709\u7684\u6a21\u677f\uff1a\nget_dsdl_template_from_lib(meta_info[\"Task\"], save_path)\n## \u6ce8\u610f\uff0c\u8fd9\u91cc\u7684task_name\u53ef\u4ee5\u5728\u6570\u636e\u96c6\u6a21\u677f\u4ecb\u7ecd\u9875\u9762\u7684\u8868\u683c\u4e2d\u7684\u201c\u4efb\u52a1\u82f1\u6587\u5168\u79f0\u201d\u83b7\u53d6\n###########\u4ee5\u4e0b\u662f\u8f6c\u6362\u548c\u751f\u6210\u7684\u6b65\u9aa4\uff0c\u53ef\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539#############\n###########\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u53ea\u9700\u8981\u4fee\u6539get_subset_samples_list\u6240\u9700\u7684\u53c2\u6570###########\ncheck_dsdl_meta_info(meta_info)  # \u68c0\u9a8cmeta\u4fe1\u606f\u662f\u5426\u5b58\u5728\u9519\u8bef\ncheck_task_template_file(save_path)  # \u68c0\u9a8c\u4fdd\u5b58\u8def\u5f84\u4e2d\u662f\u5426\u5df2\u7ecf\u5b58\u5728\u6a21\u677f\u6587\u4ef6\n# 1. \u751f\u6210\u539f\u59cb\u6570\u636e\u96c6\u76ee\u5f55\u7ed3\u6784\u6811\u5f62\u5b57\u7b26\u4e32\noriginal_tree_str = generate_tree_string(root_path)\n# 2. \u6570\u636e\u96c6\u4e2d\u95f4\u683c\u5f0f\u8f6c\u6362\uff0c\u8c03\u7528dataset_to_middle_format\uff08\u5982\u6709\u9700\u8981\u8bf7\u5b9e\u73b0\u8be5\u51fd\u6570\uff09\nif flag_middle_format:\n## \u5148\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570\u628a\u6570\u636e\u96c6\u8f6c\u6362\u6210\u4e2d\u95f4\u683c\u5f0f\n## \u53ef\u53c2\u8003dataset_to_middle_format()\u4e2d\u6ce8\u91ca\n## \u9700\u8981\u5bf9middle_format_tree_str\u548cconverter_description\u8d4b\u503c\ndataset_to_middle_format(root_path)  # \u9700\u8981\u81ea\u884c\u4fee\u6539\u6240\u9700\u7684\u53c2\u6570\n# 3. \u751f\u6210class-dom\nclass_dom_names = []\nfor name in class_dom_names_original:\nclass_dom_names.append(replace_special_characters(name))  # \u5c06\u4e0d\u5408\u89c4\u7684label\u540d\u5b57\u505a\u8f6c\u6362\ngenerate_class_dom(save_path, class_dom_names)  # \u751f\u6210class-dom.yaml\u6587\u4ef6\n# 4. \u751f\u6210&lt;segment&gt;_samples.json,\u8c03\u7528get_subset_samples_list\uff08\u5fc5\u987b\u5b9e\u73b0\u8be5\u51fd\u6570\uff09\nfor subset_name in subset_name_list:\nmeta_info[\"Subset Name\"] = subset_name\nprint(f\"processing data in {subset_name}.\")\nsubset_samples_list = get_subset_samples_list(root_path, subset_name, class_dom_names_original)  # \u9700\u8981\u81ea\u884c\u4fee\u6539\u6240\u9700\u7684\u53c2\u6570\n# \u793a\u4f8b\uff1asubset_samples_list = get_subset_samples_list(root_path, subset_name)\ngenerate_subset_yaml_and_json(\nmeta_info,\nsave_path,\nsubset_samples_list\n)\nprint(f\"Sample list for {subset_name} is generated.\")\ndsdl_tree_str = generate_tree_string(save_path,display_num=100)  # \u751f\u6210\u8f6c\u540e\u7684dsdl\u6570\u636e\u96c6\u76ee\u5f55\u7ed3\u6784\u6811\u5f62\u5b57\u7b26\u4e32\ngenerate_config_file(save_path)  # \u751f\u6210config.py\n# 5. \u751f\u6210README.md\nif flag_middle_format:\ngenerate_readme_with_middle_format(\nsave_path,\nmeta_info[\"Dataset Name\"],\nmeta_info[\"Task\"],\noriginal_tree_str,\ndsdl_tree_str,\n)\nelse:\ngenerate_readme_without_middle_format(\nsave_path,\nmeta_info[\"Dataset Name\"],\nmeta_info[\"Task\"],\noriginal_tree_str,\ndsdl_tree_str\n)\n</code></pre> <p>\u8fd0\u884c\u4e86tools/prepare.py\u540e\uff0c\u5f97\u5230\u7684DSDL\u6570\u76ee\u5f55\u5982\u4e0b\uff1a</p> <pre><code>dsdl-voc2007/\n\u251c\u2500\u2500 defs/  \n\u2502  \u251c\u2500\u2500 template.yaml                          # \u68c0\u6d4b\u4efb\u52a1\u6a21\u677f\n\u2502  \u2514\u2500\u2500 class-dom.yaml                         # \u6570\u636e\u96c6\u7684\u7c7b\u522b\u57df\n\u251c\u2500\u2500 set-train/                                # \u8bad\u7ec3\u96c6\n\u2502  \u251c\u2500\u2500 train.yaml                             # \u8bad\u7ec3\u7684yaml\u6587\u4ef6\n\u2502  \u2514\u2500\u2500 train_samples.json                     # \u8bad\u7ec3\u96c6sample\u7684json\u6587\u4ef6\n\u251c\u2500\u2500 set-val/                                  # \u9a8c\u8bc1\u96c6\n\u2502  \u251c\u2500\u2500 val.yaml\n\u2502  \u2514\u2500\u2500 val_samples.json  \n\u251c\u2500\u2500 set-test/                                 # \u6d4b\u8bd5\u96c6\n\u2502  \u251c\u2500\u2500 test.yaml\n\u2502  \u2514\u2500\u2500 test_samples.json  \n\u251c\u2500\u2500 config.py                                 # \u6570\u636e\u96c6\u8bfb\u53d6\u8def\u5f84\u7b49config\u6587\u4ef6\n\u2514\u2500\u2500 README.md                                 # \u6570\u636e\u96c6\u7b80\u4ecb\n</code></pre> <p>\u5305\u542b\u4ee5\u4e0b\u51e0\u4e2a\u91cd\u8981\u7684\u6587\u4ef6\uff1a</p> <ul> <li>struct\u7684\u5b9a\u4e49\u6587\u4ef6\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u6587\u4ef6\u540d\u4e3atemplate.yaml\uff09\uff1a\u8fd9\u4e2a\u6587\u4ef6\u4e3b\u8981\u662f\u5bf9struct\u505a\u4e00\u4e2a\u660e\u786e\u7684\u5b9a\u4e49\uff0c\u53ef\u4ee5\u6709sample\u7684\u7ed3\u6784\u4f53\u548c\u6807\u6ce8\u7684\u7ed3\u6784\u4f53\u7b49\uff0c\u9700\u6307\u660e\u5305\u542b\u4e86\u54ea\u4e9bfield\uff0c\u6bcf\u4e2afield\u7684\u7c7b\u578b\u3002</li> <li>\u7c7b\u522b\u57df\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e3aclass-dom.yaml\uff09\uff1a\u91cc\u9762\u5305\u542b\u4e86\u7c7b\u522b\u5217\u8868\uff0c\u5bf9\u5e94category\u7684\u5e8f\u53f7\uff08\u4ece1\u5f00\u59cb\u6392\u5e8f\uff09</li> <li>samples\u6587\u4ef6\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u5206\u522b\u5206\u4e3atrain.yaml\u548ctrain_samples.json)<ul> <li>train.yaml\u4e3b\u8981\u662f\u6307\u660e\u5f15\u7528\u54ea\u4e2astruct\u6a21\u677f\u548c\u7c7b\u522b\u57df\u6587\u4ef6\uff0c\u5e76\u4e14\u6307\u660e\u6570\u636e\u7c7b\u578b\u548c\u5b58\u653e\u8def\u5f84\uff0c\u53e6\u5916\u8fd8\u6709\u4e00\u4e9bmeta\u4fe1\u606f</li> <li>train_samples.json\u91cc\u4fdd\u5b58\u4e86\u5b9e\u9645\u7684samples\u4fe1\u606f\uff0c\u5176\u7ec4\u7ec7\u7ed3\u6784\u5fc5\u987b\u548c\u4e4b\u524d\u5b9a\u4e49\u7684\u7ed3\u6784\u4f53\u5339\u914d</li> </ul> </li> </ul> <p></p>"},{"location":"tutorials/advanced/dsdl_convert/#221","title":"2.2.1 \u7c7b\u522b\u57df","text":"<p>class-dom.yaml\uff1a\u8fd9\u662f\u4e00\u4e2a\u7c7b\u522b\u5b9a\u4e49\u7684Dom\u6587\u6863</p> <pre><code>$dsdl-version: \"0.5.0\"\nClassDom:\n$def: class_domain\nclasses:\n- aeroplane                   # \u5bf9\u5e94_category\u4e3a1\n- bicycle                     # \u5bf9\u5e94_category\u4e3a2\uff0c\u4ee5\u6b64\u7c7b\u63a8\n- bird\n- boat\n- bottle\n- bus\n- car\n- cat\n- chair\n- cow\n- diningtable\n- dog\n- horse\n- motorbike\n- person\n- pottedplant\n- sheep\n- sofa\n- train\n- tvmonitor\n</code></pre>"},{"location":"tutorials/advanced/dsdl_convert/#222-set-train","title":"2.2.2 set-train\u6587\u4ef6\u5939","text":"<p>train.yaml\uff1a\u8fd9\u4e2a\u6587\u6863\u5f15\u7528\u4e86\u4e4b\u524d\u5b9a\u4e49\u7684\u4e24\u4e2a\u6587\u6863\uff0c\u5e76\u4e14\u6307\u5f15\u4e86\u5177\u4f53\u7684sample\u8def\u5f84\uff08test.yaml\u548cval.yaml\u7c7b\u4f3c\uff0c\u53ea\u662f\u4fee\u6539\u5bf9\u5e94sample-path\u548csub_dataset_name\u5b57\u6bb5\uff09</p> <pre><code>$dsdl-version: \"0.5.0\"\n$import:\n- ../defs/class-domain\n- ../defs/object-detection-def\nmeta:\nDataset Name: \"VOC2007\",\nHomePage: \"http://host.robots.ox.ac.uk/pascal/VOC/voc2007/index.html\",\nModality: \"Images\", Task: \"Object Detection\"\ndata:\nsample-type: ObjectDetectionSample[cdom=VOCClassDom]\nsample-path: train_samples.json\n</code></pre> <p>train_samples.json\u9700\u8981\u6211\u4eec\u5199\u811a\u672c\u4ece\u539f\u59cb\u6570\u636e\u96c6\u8f6c\u6362\u6765\uff08\u8f6c\u6362\u811a\u672c\u5c06\u5728\u4e0b\u4e00\u5c0f\u8282\u201c\u6570\u636e\u96c6\u8f6c\u6362\u201d\u4e2d\u8be6\u8ff0\uff09\u3002\u6ce8\u610f\uff0c\u91cc\u9762\u7684\u5b57\u6bb5\u9700\u8981\u548c\u4e4b\u524d\u5b9a\u4e49\u7684struct\u5bf9\u5e94\u3002\u6700\u7ec8\u6837\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>{\"samples\": [\n{\n\"image\": \"JPEGImages/000001.jpg\",\n\"objects\": [\n{\n\"bbox\": [120.24, 0.32, 359.76, 596.04], \"label\": 1\n}, ...\n]\n},\n...\n]}\n</code></pre> <p>\u6ce8\u610f\uff0c\"samples\"\u5b57\u6bb5\u662f\u5fc5\u987b\u7684\uff08\u4e0d\u53ef\u6539\u540d\uff09\uff0c\u4e14\u7ec4\u7ec7\u5f62\u5f0f\u4e5f\u4e0d\u80fd\u6539\u53d8\uff0c\u5373\uff1a\u5fc5\u987b\u662f\u5b57\u5178\u5f62\u5f0f\uff0c\u5b57\u5178\u6709\u4e00\u4e2a\u952e\u4e3a\"samples\"\uff0c\u5176\u503c\u4e3a\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u7684\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u662f\u4e00\u4e2asample\u7c7b\u7684\u5b9e\u4f8b\uff08\u5373\u672c\u6848\u4f8b\u4e2d\u7684ObjectDetectionSample\u7c7b\uff09\u3002</p>"},{"location":"tutorials/advanced/dsdl_convert/#223-config","title":"2.2.3 config","text":"<p>config.py\u7684\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>local = dict(\n    type=\"LocalFileReader\",\n    working_dir=\"the root path of the prepared dataset\",\n)\n\nali_oss = dict(\n    type=\"AliOSSFileReader\",\n    access_key_secret=\"your secret key of aliyun oss\",\n    endpoint=\"your endpoint of aliyun oss\",\n    access_key_id=\"your access key of aliyun oss\",\n    bucket_name=\"your bucket name of aliyun oss\",\n    working_dir=\"the prefix of the prepared dataset within the bucket\")\n</code></pre> <p>\u8bf7\u6839\u636e\u9700\u8981\u4fee\u6539\u5bf9\u5e94\u7684\u8def\u5f84\uff0c\u4ee5\u4fdd\u8bc1DSDL\u6570\u636e\u96c6\u9a8c\u8bc1\u901a\u8fc7\u3002</p>"},{"location":"tutorials/advanced/dsdl_convert/#224-readmemd","title":"2.2.4 README.md","text":"<p>\u8be5\u6570\u636e\u96c6\u6700\u7ec8\u5c06\u5b57\u6bb5\u751f\u6210README\uff0c\u5176\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code># Data Set Description Language(DSDL) for VOC2007 dataset\n\n## Data Structure\nPlease make sure the folder structure of prepared dataset is organized as followed:\n\n&lt;dataset_root&gt;\n\u251c\u2500\u2500 Annotations\n\u2502   \u251c\u2500\u2500 000001.xml\n\u2502   \u251c\u2500\u2500 000002.xml\n\u2502   \u251c\u2500\u2500 000003.xml\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 ImageSets\n\u2502   \u251c\u2500\u2500 Layout\n\u2502   \u2502   \u251c\u2500\u2500 test.txt\n\u2502   \u2502   \u251c\u2500\u2500 train.txt\n\u2502   \u2502   \u251c\u2500\u2500 trainval.txt\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 Main\n\u2502   \u2502   \u251c\u2500\u2500 aeroplane_test.txt\n\u2502   \u2502   \u251c\u2500\u2500 aeroplane_train.txt\n\u2502   \u2502   \u251c\u2500\u2500 aeroplane_trainval.txt\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2514\u2500\u2500 Segmentation\n\u2502       \u251c\u2500\u2500 test.txt\n\u2502       \u251c\u2500\u2500 train.txt\n\u2502       \u251c\u2500\u2500 trainval.txt\n\u2502       \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 JPEGImages\n\u2502   \u251c\u2500\u2500 000001.jpg\n\u2502   \u251c\u2500\u2500 000002.jpg\n\u2502   \u251c\u2500\u2500 000003.jpg\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 ...\n\nThe folder structure of dsdl annotation for Object Detection is organized as followed:\n\n&lt;dsdl_root&gt;\n\u251c\u2500\u2500 defs\n\u2502   \u251c\u2500\u2500 class-dom.yaml\n\u2502   \u2514\u2500\u2500 template.yaml\n\u251c\u2500\u2500 tools\n\u2502   \u2514\u2500\u2500 prepare.py\n\u251c\u2500\u2500 set-train\n\u2502   \u251c\u2500\u2500 train.yaml\n\u2502   \u2514\u2500\u2500 train_samples.json\n\u251c\u2500\u2500 set-val\n\u2502   \u251c\u2500\u2500 val.yaml\n\u2502   \u2514\u2500\u2500 val_samples.json\n\u2514\u2500\u2500 set-test\n    \u251c\u2500\u2500 test.yaml\n    \u2514\u2500\u2500 test_samples.json\n\n## config.py\nYou can load your dataset from local or oss.\nFrom local:\n\nlocal = dict(\n    type=\"LocalFileReader\",\n    working_dir=\"the root path of the prepared dataset\",\n)\n\nPlease change the 'working_dir' to the path of your prepared dataset where media data can be found,\nfor example: \"&lt;root&gt;/dataset_name/prepared\".\n\nFrom oss:\n\nali_oss = dict(\n    type=\"AliOSSFileReader\",\n    access_key_secret=\"your secret key of aliyun oss\",\n    endpoint=\"your endpoint of aliyun oss\",\n    access_key_id=\"your access key of aliyun oss\",\n    bucket_name=\"your bucket name of aliyun oss\",\n    working_dir=\"the prefix of the prepared dataset within the bucket\")\n\nPlease change the 'access_key_secret', 'endpoint', 'access_key_id', 'bucket_name' and 'working_dir',\ne.g. if the full path of your prepared dataset is \"oss://bucket_name/dataset_name/prepared\", then the working_dir should be \"dataset_name/prepared\".\n\n## Related source:\n1. Get more information about DSDL: [dsdl-docs](https://opendatalab.github.io/dsdl-docs/)\n2. DSDL-SDK official repo: [dsdl-sdk](https://github.com/opendatalab/dsdl-sdk/)\n3. Get more dataset: [OpenDataLab](https://opendatalab.com/)\n</code></pre>"},{"location":"tutorials/advanced/dsdl_dataloader/","title":"DSDL DataLoader\u5f00\u53d1","text":"<p>\u5185\u5bb9\u5f85\u66f4\u65b0\u3002</p>"},{"location":"tutorials/advanced/dsdl_define/","title":"DSDL\u6570\u636e\u96c6\u6a21\u677f\u5236\u5b9a","text":"<p>\u5b9a\u4e49\u4e00\u4e2aDSDL\u6570\u636e\u96c6\uff0c\u9996\u5148\u9700\u8981\u4e86\u89e3DSDL\u5982\u4f55\u63cf\u8ff0\u4e00\u4e2a\u6570\u636e\u96c6\uff0c\u8be6\u7ec6\u7684\u5185\u5bb9\u53ef\u4ee5\u9605\u8bfbDSDL\u8bed\u8a00\u6559\u7a0b\u7ae0\u8282\u3002</p> <p>\u672c\u7ae0\u7528\u4e24\u4e2a\u6848\u4f8b\u89e3\u91caDSDL\u6570\u636e\u96c6\u7684\u5b9a\u4e49\uff1a1. \u7528DSDL\u5b9a\u4e49\u5df2\u6709\u7684\u6570\u636e\u96c6\uff08VOC\u4e3a\u4f8b\uff09\uff1b2. \u5229\u7528\u4efb\u52a1\u6a21\u677f\u5b9a\u4e49\u4e00\u4e2a\u65b0\u7684\u6570\u636e\u96c6\u3002</p> <p>\u8be5\u6559\u7a0b\u5c06\u5728\u6570\u636e\u96c6\u8f6c\u6362\u5c0f\u8282\u8be6\u8ff0\u5982\u4f55\u901a\u8fc7\u8be5\u7ae0\u5b9a\u4e49\u7684\u6a21\u677f\u8fdb\u884c\u6570\u636e\u96c6\u7684DSDL\u6807\u51c6\u5316\u8f6c\u6362\u3002</p>"},{"location":"tutorials/advanced/dsdl_define/#1-dsdl","title":"1. \u7528DSDL\u5b9a\u4e49\u5df2\u6709\u7684\u6570\u636e\u96c6","text":"<p>\u672c\u5c0f\u8282\u4e3b\u8981\u7528\u4e00\u4e2a\u5177\u4f53\u6848\u4f8b\uff08VOC2007\uff0c\u76ee\u6807\u68c0\u6d4b)\uff0c\u8bb2\u89e3DSDL\u6570\u636e\u96c6\u7684\u5b9a\u4e49\u3002</p> <p>\u5c06\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a</p> <ul> <li>\u539f\u6570\u636e\u96c6\u8c03\u7814\u6807\u6ce8\u5b57\u6bb5\u53ca\u542b\u4e49</li> <li>DSDL\u6a21\u677f\u5236\u5b9a\uff08\u5206\u4e3a\u8be6\u7ec6\u7248\u548c\u7cbe\u7b80\u7248\uff09</li> </ul> <p></p>"},{"location":"tutorials/advanced/dsdl_define/#11","title":"1.1 \u539f\u59cb\u6570\u636e\u96c6\u8c03\u7814","text":"<p>\u6807\u6ce8\u7c7b\u578b\u5982\u4e0b\uff08\u4ee5Annotations/000001.xml\u4e3a\u4f8b\uff09\uff1a</p> <pre><code>&lt;annotation&gt;\n&lt;folder&gt;VOC2007&lt;/folder&gt;                         # \u6587\u4ef6\u5939\n   &lt;filename&gt;000001.jpg&lt;/filename&gt;                  # \u56fe\u7247\u6587\u4ef6\u540d\n   &lt;source&gt;                                         # \u56fe\u50cf\u5143\u4fe1\u606f\n      &lt;database&gt;The VOC2007 Database&lt;/database&gt;     # \u6570\u636e\u96c6\u540d\u79f0\n      &lt;annotation&gt;PASCAL VOC2007&lt;/annotation&gt;       # \u6807\u6ce8\u7c7b\u578b\n      &lt;image&gt;flickr&lt;/image&gt;                         # \u6765\u6e90\n      &lt;flickrid&gt;341012865&lt;/flickrid&gt;                # \u6765\u6e90ID\n   &lt;/source&gt;\n&lt;owner&gt;                                          # \u6e90\u4fe1\u606f\n      &lt;flickrid&gt;Fried Camels&lt;/flickrid&gt;\n&lt;name&gt;Jinky the Fruit Bat&lt;/name&gt;\n&lt;/owner&gt;\n&lt;size&gt;\n&lt;width&gt;353&lt;/width&gt;                            # \u56fe\u7247\u5bbd\n      &lt;height&gt;500&lt;/height&gt;                          # \u56fe\u7247\u9ad8 &lt;depth&gt;3&lt;/depth&gt;                              # \u56fe\u7247\u901a\u9053\u6570\n   &lt;/size&gt;\n&lt;segmented&gt;0&lt;/segmented&gt;                         # \u662f\u5426\u7528\u4e8e\u5206\u5272\n   &lt;object&gt;                                         # \u6807\u6ce8\u90e8\u5206 &lt;name&gt;dog&lt;/name&gt;                              # \u6807\u7b7e\n      &lt;pose&gt;Left&lt;/pose&gt;                             # \u59ff\u6001\n      &lt;truncated&gt;1&lt;/truncated&gt;                      # \u7269\u4f53\u662f\u5426\u88ab\u90e8\u5206\u906e\u6321\uff08&gt;15%\uff09\n      &lt;difficult&gt;0&lt;/difficult&gt;                      # \u662f\u5426\u4e3a\u96be\u4ee5\u8fa8\u8bc6\u7684\u7269\u4f53\n      &lt;bndbox&gt;\n&lt;xmin&gt;48&lt;/xmin&gt;                            # \u5de6\u4e0a\u89d2\u70b9\u7684x\n         &lt;ymin&gt;240&lt;/ymin&gt;                           # \u5de6\u4e0a\u89d2\u70b9\u7684y\n         &lt;xmax&gt;195&lt;/xmax&gt;                           # \u53f3\u4e0b\u89d2\u70b9\u7684x\n         &lt;ymax&gt;371&lt;/ymax&gt;                           # \u53f3\u4e0b\u89d2\u70b9\u7684y\n      &lt;/bndbox&gt;\n&lt;/object&gt;\n...\n&lt;/annotation&gt;\n</code></pre> <p></p>"},{"location":"tutorials/advanced/dsdl_define/#12-dsdldsdl","title":"1.2 DSDL\u6a21\u677f\u5236\u5b9a\uff08\u8be6\u7ec6\u7248DSDL\uff09","text":""},{"location":"tutorials/advanced/dsdl_define/#121-struct","title":"1.2.1 struct\u7684\u5b9a\u4e49\u6587\u4ef6","text":"<p>\u6839\u636e\u539f\u59cb\u6570\u636e\u96c6\u7684\u4fe1\u606f\uff0c\u6211\u4eec\u53ef\u4ee5\u5236\u5b9a\u5982\u4e0b\u7684\u6570\u636e\u96c6\u6a21\u677f\uff08\u8be5\u6a21\u677f\u4e2d\u4fdd\u7559\u4e86\u539f\u59cb\u6570\u636e\u96c6\u6240\u6709\u7684\u5b57\u6bb5\u540d\u79f0\u548c\u7ed3\u6784\uff09\uff0c\u6ce8\u610f\uff0c\u5b57\u6bb5\u7c7b\u578b\u4e00\u5b9a\u8981\u4f7f\u7528\u53ef\u8bc6\u522b\u7684\u6570\u636e\u7c7b\u578b\uff0c\u8be6\u60c5\u53ef\u4ee5\u53c2\u8003Field\u6587\u6863\u3002</p> <pre><code>$dsdl-version: \"0.5.0\"\nImageMedia:\n$def: struct  $fields:\nimage: Image image_shape: ImageShape\ndepth: Int\nfolder: Str\nsource: Dict\nowner: Dict\nsegmented: Bool\nLocalObjectEntry:  $def: struct   $params: [\"cdom\"]\n$fields:  bbox: BBox\ncategory: Label[dom=$cdom]   pose: Str  truncated: Bool\ndifficult: Bool\nObjectDetectionSample:\n$def: struct\n$params: [\"cdom\"]\n$fields:\nmedia: ImageMedia\nobjects: List[etype=LocalObjectEntry[cdom=$cdom]] </code></pre> <p>\u5b57\u6bb5\u542b\u4e49\u89e3\u91ca\u53ca\u5bf9\u5e94\u5173\u7cfb\uff1a</p> <p>\u5728ObjectDetectionSample\u4e2d\uff1a</p> <ul> <li>media\uff1a\u8be5\u5b57\u6bb5\u4e3a\u4fdd\u5b58\u7684\u5a92\u4f53\u6587\u4ef6\u7684\u4fe1\u606f\uff0c\u7c7b\u578b\u4e3a\u5b9a\u4e49\u7684struct\uff1aImageMedia</li> <li>objects\uff1a\u8be5\u5b57\u6bb5\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684object\u5b57\u6bb5\uff0c\u4ee5List\u7684\u5f62\u5f0f\u5b58\u50a8\u5177\u4f53bounding box\u7684\u6807\u6ce8\u4fe1\u606f</li> </ul> <p>\u5728ImageMedia\u4e2d\uff1a</p> <ul> <li>image\uff1a\u7528\u4e8e\u50a8\u5b58\u56fe\u50cf\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u4e3b\u8981\u4ece\u539f\u59cb\u6570\u636e\u96c6\u7684filename\u5b57\u6bb5\u8f6c\u5316\u800c\u6765</li> <li>source\uff1a\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684source\u5b57\u6bb5\uff0c\u4e3a\u4e00\u4e2a\u5b57\u5178\u5f62\u5f0f\uff0c\u91cc\u9762\u7684keys\u5206\u522b\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u91cc\u7684source\u5b57\u6bb5\u4e0b\u7684database\u3001annotation\u3001image\u3001flickerid\u5b57\u6bb5\u3002</li> <li>owner\uff1a\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684owner\u5b57\u6bb5\uff0c\u4e3a\u4e00\u4e2a\u5b57\u5178\u5f62\u5f0f\uff0c\u91cc\u9762\u7684keys\u5206\u522b\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u91cc\u7684owner\u5b57\u6bb5\u4e0b\u7684flickerid\u548cname\u5b57\u6bb5\u3002</li> <li>image_shape\u3001depth\uff1a\u662f\u539f\u59cb\u6570\u636e\u96c6\u7684size\u5b57\u6bb5\u4e0b\u7684\u540c\u540d\u5b57\u6bb5</li> </ul> <p>\u5728LocalObjectEntry\u4e2d\uff1a</p> <ul> <li>bbox\uff1a\u5bf9\u5e94\u539f\u6570\u636e\u96c6\u7684bndbox\u5b57\u6bb5\uff0c\u4f46\u8f6c\u5316\u4e3abbox\u6807\u51c6\uff0c\u5373[x,y,w,h]</li> <li>category\uff1a\u662f\u8be5\u76ee\u6807\u7684\u7c7b\u522b\u5bf9\u5e94\u7684\u7c7b\u522b\u6807\u53f7\uff0c\u5bf9\u5e94\u7684\u662f\u539f\u6570\u636e\u96c6\u7684name\u5b57\u6bb5\uff0c\u7c7b\u522b\u6807\u53f7\u53ef\u4ee5\u53c2\u89c1\u6570\u636e\u96c6\u8f6c\u6362\u9875\u9762\u7684VOC2007ClassDom.yaml</li> <li>pose\uff0ctruncated\uff0cdifficult\uff1a\u6807\u6ce8\u6846\u7684\u5c5e\u6027\uff0c\u6765\u81ea\u4e8e\u539f\u6570\u636e\u96c6\u540c\u540d\u5b57\u6bb5</li> </ul>"},{"location":"tutorials/advanced/dsdl_define/#123-samples","title":"1.2.3 samples\u6587\u4ef6","text":"<p>\u6839\u636e\u4e0a\u4e00\u5c0f\u8282\u5236\u5b9a\u7684\u6a21\u677f\uff0c\u6700\u7ec8\u7684samples.json\u7684\u7ed3\u6784\u5c06\u4e0e\u5176\u5b8c\u5168\u5bf9\u5e94\uff0c\u5177\u4f53\u7ec4\u7ec7\u5f62\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>{\"samples\": [\n{\n\"media\": {\n\"_media_path\": \"JPEGImages/000001.jpg\",\n\"folder\": \"VOC2007\",\n\"source\": {\n\"database\": \"The VOC2007 Database\", \"annotation\": \"PASCAL VOC2007\",\n\"flickrid\": \"341012865\"\n},\n\"owner\":{\n\"flickrid\": \"Fried Camels\",\n\"name\": \"Jinky the Fruit Bat\"\n},\n\"image_shape\": [640, 480],\n\"depth\": 3,\n\"segmented\": 0,\n},\n\"objects\": [\n{\n\"bbox\": [120.24, 0.32, 359.76, 596.04], \"category\": 1, \"pose\": \"Left\", \"truncated\": 1, \"difficult\": 0   }, ...\n]\n},\n...\n]}\n</code></pre> <p>\u6ce8\u610f\uff0c\"samples\"\u5b57\u6bb5\u662f\u5fc5\u987b\u7684\uff08\u4e0d\u53ef\u6539\u540d\uff09\uff0c\u4e14\u7ec4\u7ec7\u5f62\u5f0f\u4e5f\u4e0d\u80fd\u6539\u53d8\uff0c\u5373\uff1a\u5fc5\u987b\u662f\u5b57\u5178\u5f62\u5f0f\uff0c\u5b57\u5178\u6709\u4e00\u4e2a\u952e\u4e3a\"samples\"\uff0c\u5176\u503c\u4e3a\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u7684\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u662f\u4e00\u4e2asample\u7c7b\u7684\u5b9e\u4f8b\uff08\u5373\u672c\u6848\u4f8b\u4e2d\u7684ObjectDetectionSample\u7c7b\uff09\u3002</p> <p></p>"},{"location":"tutorials/advanced/dsdl_define/#13-dsdldsdl","title":"1.3 DSDL\u6a21\u677f\u5236\u5b9a\uff08\u7cbe\u7b80\u7248DSDL\uff09","text":"<p>\u9664\u4e861.2\u5c0f\u8282\u4e2d\u4fdd\u7559\u539f\u59cb\u6570\u636e\u96c6\u6240\u6709\u539f\u59cb\u5b57\u6bb5\u7684\u505a\u6cd5\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u5229\u7528\u5df2\u6709\u7684\u4efb\u52a1\u6a21\u677f\u4f5c\u4e3a\u6570\u636e\u96c6\u6a21\u677f\uff08\u8be5\u6a21\u677f\u4e2d\u4ec5\u4fdd\u7559\u4e86\u8be5\u4efb\u52a1\u7684\u5fc5\u9700\u5b57\u6bb5\uff09\u3002</p> <p>\u5728\u4efb\u52a1\u6a21\u677f\u9875\u9762\uff0c\u5c55\u793a\u4e86\u76ee\u524dDSDL\u9884\u5148\u5236\u5b9a\u7684\u4e00\u4e9b\u4e3b\u6d41\u4efb\u52a1\u7684\u6a21\u677f\uff0c\u7528\u6237\u53ef\u6839\u636e\u9700\u8981\u4f7f\u7528\u3002</p>"},{"location":"tutorials/advanced/dsdl_define/#131-struct","title":"1.3.1 struct\u7684\u5b9a\u4e49\u6587\u4ef6","text":"<p>\u5728\u6b64\u6848\u4f8b\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u7528\u76ee\u6807\u68c0\u6d4b\u6a21\u677f\uff1a</p> <pre><code>$dsdl-version: \"0.5.0\"\nLocalObjectEntry:\n$def: struct\n$params: ['cdom']\n$fields:\nbbox: BBox\nlabel: Label[dom=$cdom]\nObjectDetectionSample:\n$def: struct\n$params: ['cdom']\n$fields:\nimage: Image\nobjects: List[LocalObjectEntry[cdom=$cdom]]\n</code></pre> <p>\u5728\u68c0\u6d4b\u6a21\u677f\u4e2d\u7684\u4e00\u4e9b\u5b57\u6bb5\u542b\u4e49\u5982\u4e0b\uff08\u8be6\u7ec6\u5b66\u4e60\u8bf7\u53c2\u8003 DSDL\u8bed\u8a00\u6559\u7a0b\uff09</p> <ul> <li>$dsdl-version: \u63cf\u8ff0\u4e86\u8be5\u6587\u4ef6\u5bf9\u5e94\u7684dsdl\u7248\u672c</li> <li>LocalObjectEntry: \u5b9a\u4e49\u4e86\u8fb9\u754c\u6846\u7684\u63cf\u8ff0\u65b9\u5f0f\u7684\u5d4c\u5957\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5:</li> <li>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li>$params: \u5b9a\u4e49\u4e86\u5f62\u53c2\uff0c\u5728\u8fd9\u91cc\u5373class domain</li> <li>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:<ul> <li>bbox \u8fb9\u754c\u6846\u7684\u4f4d\u7f6e</li> <li>label \u8fb9\u754c\u6846\u7684\u7c7b\u522b</li> </ul> </li> <li>ObjectDetectionSample: \u5b9a\u4e49\u4e86\u68c0\u6d4b\u4efb\u52a1sample\u7684\u7ed3\u6784\u4f53\uff0c\u5305\u542b\u56db\u4e2a\u5b57\u6bb5:</li> <li>$def: struct, \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u7c7b\u578b</li> <li>$params: \u5b9a\u4e49\u4e86\u5f62\u53c2\uff0c\u5728\u8fd9\u91cc\u5373class domain</li> <li>$fields: \u7ed3\u6784\u4f53\u7c7b\u6240\u5305\u542b\u7684\u5c5e\u6027\uff0c\u5177\u4f53\u5305\u62ec:<ul> <li>image \u56fe\u7247\u7684\u8def\u5f84</li> <li>objects \u6807\u6ce8\u4fe1\u606f\uff0c\u68c0\u6d4b\u4efb\u52a1\u4e2d\uff0c\u4e3a\u524d\u9762\u7684LocalObjectEntry\u6784\u6210\u7684\u4e00\u4e2a\u5217\u8868</li> </ul> </li> </ul>"},{"location":"tutorials/advanced/dsdl_define/#132-samples","title":"1.3.2 samples\u6587\u4ef6","text":"<p>\u6839\u636e\u4e0a\u4e00\u5c0f\u8282\u5236\u5b9a\u7684\u6a21\u677f\uff0c\u6700\u7ec8\u7684samples.json\u7684\u7ed3\u6784\u5c06\u4e0e\u5176\u5b8c\u5168\u5bf9\u5e94\uff0c\u5177\u4f53\u7ec4\u7ec7\u5f62\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>{\"samples\": [\n{\n\"image\": \"JPEGImages/000001.jpg\",\n\"objects\": [\n{\n\"bbox\": [120.24, 0.32, 359.76, 596.04], \"label\": 1\n}, ...\n]\n},\n...\n]}\n</code></pre> <p>\u6ce8\u610f\uff0c\"samples\"\u5b57\u6bb5\u662f\u5fc5\u987b\u7684\uff08\u4e0d\u53ef\u6539\u540d\uff09\uff0c\u4e14\u7ec4\u7ec7\u5f62\u5f0f\u4e5f\u4e0d\u80fd\u6539\u53d8\uff0c\u5373\uff1a\u5fc5\u987b\u662f\u5b57\u5178\u5f62\u5f0f\uff0c\u5b57\u5178\u6709\u4e00\u4e2a\u952e\u4e3a\"samples\"\uff0c\u5176\u503c\u4e3a\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u7684\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u662f\u4e00\u4e2asample\u7c7b\u7684\u5b9e\u4f8b\uff08\u5373\u672c\u6848\u4f8b\u4e2d\u7684ObjectDetectionSample\u7c7b\uff09\u3002</p>"},{"location":"tutorials/advanced/dsdl_define/#2-dsdl","title":"2. \u5229\u7528\u4efb\u52a1\u6a21\u677f\u5b9a\u4e49\u4e00\u4e2a\u65b0\u7684DSDL\u6570\u636e\u96c6","text":"<p>\u6211\u4eec\u5728\u4efb\u52a1\u6a21\u677f\u677f\u5757\uff0c\u4ecb\u7ecd\u4e86\u76ee\u524d\u6211\u4eec\u5df2\u7ecf\u5236\u5b9a\u7684\u4e00\u4e9b\u4efb\u52a1\u7684\u6a21\u677f\uff0c\u7528\u6237\u53ef\u4ee5\u6839\u636e\u9700\u8981\u9009\u62e9\u6240\u9700\u7684\u6a21\u677f\u8fdb\u884c\u4f7f\u7528\u3002</p> <p>\u672c\u5c0f\u8282\u4ee5\u76ee\u6807\u8ddf\u8e2a\u6570\u636e\u96c6\u4e3a\u4f8b\uff0c\u89e3\u91ca\u5982\u4f55\u76f4\u63a5\u5bfc\u5165\u76ee\u6807\u8ddf\u8e2a\u6a21\u677f\u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u63cf\u8ff0\u3002</p> <p>train.yaml</p> <pre><code>$dsdl-version: \"0.5.2\"\n$import:\n- object-tracking\n- class-dom\nmeta:\ndataset_name: \"New_dataset\"\nsub_dataset_name: \"train\"\ntask_name: \"single-object tracking\" data:\nsample-type: VideoFrame[cdom=New_dataset_classdom]\nsample-path: $local\nsamples:\n- video_name: \"example_video_1\"\nvideoframes:\n- frame_id: \"1\"\nmedia_path: \"train/example_video_1/00001.jpg\"\nobjects:\n- instance_id: \"0\"\nbbox: [25, 36, 103, 122]\ncategory: \"dog\"\n- instance_id: \"1\"\n...\n- frame_id: \"2\"\n...\n- video_name: \"example_video_2\"\n...\n</code></pre> <p>\u4e0a\u9762\u7684\u63cf\u8ff0\u6587\u4ef6\u4e2d\uff0c\u9996\u5148\u5b9a\u4e49\u4e86dsdl\u7684\u7248\u672c\u4fe1\u606f\uff0c\u7136\u540eimport\u4e86\u4e4b\u524d\u5b9a\u4e49\u7684\u6570\u636e\u96c6\u6a21\u677f\u6587\u4ef6\uff0c\u5305\u62ec\u4efb\u52a1\u6a21\u677f\u548c\u7c7b\u522b\u57df\u6a21\u677f\u3002\u63a5\u7740\u7528meta\u548cdata\u5b57\u6bb5\u6765\u63cf\u8ff0\u81ea\u5df1\u7684\u6570\u636e\u96c6\uff0c\u5177\u4f53\u7684\u5b57\u6bb5\u8bf4\u660e\u5982\u4e0b\u6240\u793a\uff1a</p> <ul> <li>$dsdl-version: dsdl\u7248\u672c\u4fe1\u606f</li> <li>$import: \u6a21\u677f\u5bfc\u5165\u4fe1\u606f\uff0c\u8fd9\u91cc\u5bfc\u5165\u76ee\u6807\u8ddf\u8e2a\u4efb\u52a1\u6a21\u677f\u548c\u6570\u636e\u96c6\u7684class domain</li> <li>meta: \u4e3b\u8981\u5c55\u793a\u6570\u636e\u96c6\u7684\u4e00\u4e9b\u5143\u4fe1\u606f\uff0c\u6bd4\u5982\u6570\u636e\u96c6\u540d\u79f0\uff0c\u4efb\u52a1\u7c7b\u578b\u7b49\u7b49\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5df1\u6dfb\u52a0\u60f3\u8981\u5907\u6ce8\u7684\u5176\u5b83\u4fe1\u606f</li> <li>data: data\u7684\u5185\u5bb9\u5c31\u662f\u6309\u7167\u524d\u9762\u5b9a\u4e49\u597d\u7684\u7ed3\u6784\u6240\u4fdd\u5b58\u7684\u6837\u672c\u4fe1\u606f\uff0c\u5177\u4f53\u5982\u4e0b\uff1a</li> <li>sample-type: \u6570\u636e\u7684\u7c7b\u578b\u5b9a\u4e49\uff0c\u5728\u8fd9\u91cc\u7528\u7684\u662f\u4ece\u76ee\u6807\u8ddf\u8e2a\u4efb\u52a1\u6a21\u677f\u4e2d\u5bfc\u5165\u7684VideoFrame\u7c7b\uff0c\u540c\u65f6\u6307\u5b9a\u4e86\u91c7\u7528\u7684cdom\u4e3aNew_dataset_classdom</li> <li>sample-path: samples\u7684\u5b58\u653e\u8def\u5f84\uff0c\u5982\u679c\u5b9e\u9645\u662f\u4e00\u4e2a\u8def\u5f84\uff0c\u5219samples\u7684\u5185\u5bb9\u4ece\u8be5\u6587\u4ef6\u8bfb\u53d6\uff0c\u5982\u679c\u662f$local\uff0c\u5219\u4ece\u672c\u6587\u4ef6\u7684data.samples\u5b57\u6bb5\u4e2d\u76f4\u63a5\u8bfb\u53d6</li> <li>samples\uff1a\u4fdd\u5b58\u6570\u636e\u96c6\u7684\u6837\u672c\u4fe1\u606f\uff0c\u5176\u7ec4\u7ec7\u7ed3\u6784\u4e0e\u76ee\u6807\u8ddf\u8e2a\u4efb\u52a1\u6a21\u677f\u4e2d\u5b9a\u4e49\u7684struct\u7ed3\u6784\u4e00\u81f4\uff0c\u6ce8\u610f\u53ea\u6709\u5728sample-path\u662f$local\u7684\u65f6\u5019\u8be5\u5b57\u6bb5\u624d\u4f1a\u751f\u6548\uff0c\u5426\u5219samples\u4f1a\u4f18\u5148\u4ecesample-path\u4e2d\u7684\u8def\u5f84\u53bb\u8bfb\u53d6</li> </ul> <p>class-dom.yaml</p> <pre><code>$dsdl-version: 0.5.2\nNew_dataset_classdom:\n$def: class_domain\nclasses:\n- dog\n- cat\n</code></pre> <p>\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7c7b\u522b\u57df\u4e2d\u5305\u542b\u7684\u7c7b\u578b\uff0c\u5728\u8be5\u793a\u4f8b\u4e2d\uff0c\u6570\u636e\u96c6\u5305\u542b\"dog\"\u548c\"cat\"\u4e24\u4e2a\u7c7b\u522b\uff0c\u5176\u6807\u53f7\u5206\u522b\u662f1\u548c2\u3002</p> <p>\u53e6\u5916\uff0c\u7528\u6237\u4e5f\u53ef\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\uff0c\u81ea\u884c\u4fee\u6539\u76ee\u6807\u8ddf\u8e2a\u4efb\u52a1\u6a21\u677f\uff0c\u6dfb\u52a0\u76f8\u5e94\u5b57\u6bb5\u3002\u53ef\u4ee5\u53c2\u8003\u4e3b\u6d41\u6570\u636e\u96c6\u8c03\u7814\u4e2d\u7684\u4e00\u4e9b\u5e38\u7528\u7684\u72ec\u7acb\u5b57\u6bb5\uff08\u6bd4\u5982absence\u3001visilibility\u7b49\uff09\u3002</p>"},{"location":"tutorials/advanced/dsdl_extend/","title":"DSDL\u7c7b\u578b\u6269\u5c55","text":"<p>DSDL\u5df2\u7ecf\u652f\u6301\u5f88\u591a\u57fa\u7840\u7c7b\u578bField\uff08Bool\u3001Int\u3001Num\u3001Str\u3001Dict\u3001Date\u3001Time\uff09\uff0c\u6807\u6ce8\u7c7b\u578bField\uff08Coord\u3001Coord3D\u3001Interval\u3001BBox\u3001RotatedBBox\u3001Polygon\u3001Label\u3001Keypoint\u3001Text\u3001ImageShape\u3001UniqueID\u3001InstanceID\uff09\u4ee5\u53ca\u5a92\u4f53\u7c7b\u578bField\uff08Image\u3001LabelMap\u3001InstanceMap\uff09\u3002\u4f46\u5728\u4e00\u4e9b\u7279\u6b8a\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e9b\u9884\u8bbe\u7684Field\u65e0\u6cd5\u6ee1\u8db3\u7528\u6237\u7684\u5f00\u53d1\u9700\u6c42\uff0c\u56e0\u6b64\u672c\u7ae0\u8282\u4f1a\u8be6\u89e3\u5728DSDL\u4e2dField\u662f\u5982\u4f55\u5b9a\u4e49\u7684\uff0c\u4ece\u800c\u65b9\u4fbf\u7528\u6237\u81ea\u5df1\u62d3\u5c55DSDL Field\u3002</p> <p>\u6269\u5c55DSDL Field\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4</p> <ol> <li>\u8bbe\u8ba1Field\u7684\u58f0\u660e\u53c2\u6570\u7684jsonschema\uff1b</li> <li>\u8bbe\u8ba1\u8be5Field\u7684\u4f20\u5165\u503c\u7684jsonschema\uff1b</li> <li>\u5982\u6709\u5fc5\u8981\uff0c\u8fd8\u9700\u8981\u8bbe\u8ba1 \u53c2\u6570+\u503c \u7684\u8054\u5408jsonschema</li> <li>\u7528\u6237\u5b9a\u4e49\u8be5Field\u5bf9\u5e94\u7684geometry\u7c7b</li> </ol> <p>\u4e0b\u9762\u672c\u6587\u5c06\u4ee5<code>RotatedBBoxField</code>\u4e3a\u4f8b\uff0c\u4ecb\u7ecd\u5982\u4f55\u81ea\u5b9a\u4e49\u4e00\u4e2aDSDL Field\u3002</p>"},{"location":"tutorials/advanced/dsdl_extend/#_1","title":"\u4efb\u52a1\u4ecb\u7ecd","text":"<p>\u7528\u6237\u5728\u5b9a\u4e49\u4e00\u4e2aField\u4e4b\u524d\uff0c\u9700\u8981\u4e86\u89e3\u8be5Field\u7684\u4efb\u52a1\u7279\u70b9\uff0c\u4ee5\u65cb\u8f6c\u76ee\u6807\u68c0\u6d4b\u4e3a\u4f8b\uff0c\u5b83\u7684\u6807\u6ce8\u5e94\u8be5\u662f\u4e00\u4e2a\u65cb\u8f6c\u7684\u77e9\u5f62\u6846\uff0c\u5728\u5927\u591a\u6570\u4efb\u52a1\u4e2d\uff0c\u8be5\u77e9\u5f62\u6846\u4ee5<code>[x, y, w, h, theta]</code>\u7684\u5f62\u5f0f\u7ed9\u51fa\uff0c\u5176\u4e2dx,y\u5206\u522b\u4e3a\u77e9\u5f62\u6846\u4e2d\u5fc3\u70b9\u7684\u6a2a\u7eb5\u5750\u6807\uff0c<code>w,h</code> \u5206\u522b\u4e3a\u4e3e\u884c\u6846\u7684\u5bbd\u548c\u9ad8\uff0c<code>theta</code>\u5219\u4e3a\u77e9\u5f62\u6846\u7684\u65cb\u8f6c\u89d2\u5ea6\uff0c\u5355\u4f4d\u4e3a\u89d2\u5ea6\u6216\u5f27\u5ea6\u3002\u800c\u4e5f\u6709\u5f88\u5927\u4e00\u90e8\u5206\u6570\u636e\u96c6\u5c06\u65cb\u8f6c\u77e9\u5f62\u6846\u4ee5polygon\u7684\u5f62\u5f0f\u7ed9\u51fa\uff0c\u5373\u5c06\u5176\u6807\u6ce8\u4e3a\u77e9\u5f62\u68464\u4e2a\u9876\u70b9\u7684xy\u5750\u6807\uff0c\u8868\u793a\u4e3a<code>[x1, y1, x2, y2, x3, y3, x4, y4]</code>\u3002</p> <p>\u7efc\u4e0a\u6240\u8ff0\uff0c\u5982\u679c\u6211\u4eec\u60f3\u8981\u81ea\u5b9a\u4e49\u4e00\u4e2a\u6bd4\u8f83\u901a\u7528\u7684RotatedBBox Field\uff0c\u9700\u8981\u8003\u8651\u503c\u662f\u4ee5 xywht\u5f62\u5f0f\u8fd8\u662fxyxy\u5f62\u5f0f\u7ed9\u51fa\uff0c\u4ee5\u53caxywht\u5f62\u5f0f\u4e0b\u7684\u89d2\u5ea6\u7684\u5355\u4f4d\u662f\u5ea6\u8fd8\u662f\u5f27\u5ea6\u3002</p> <p>\u5e78\u8fd0\u7684\u662f\uff0cdsdl\u652f\u6301\u5728\u58f0\u660eField\u7684\u540c\u65f6\u4f20\u5165\u4e00\u4e9b\u53c2\u6570\u6765\u89c4\u5b9a\u8be5Field\u5728\u4e0d\u540c\u6a21\u5f0f\u4e0b\u5de5\u4f5c\uff0c\u4ee5 RotatedBBox Field\u4e3a\u4f8b\uff0c\u6211\u4eec\u4e00\u5171\u8981\u4e3aRotatedBBox Field\u5b9a\u4e493\u79cd\u6a21\u5f0f\uff1a</p> <pre><code>LocalObjectEntry:\n$def: struct\n$fields:\nrbbox: RotatedBBox[mode=xywht, measure=radian]  # \u4ee5xywht\u7684\u5f62\u5f0f\u7ed9\u503c\uff0c\u4e14\u89d2\u5ea6\u5355\u4f4d\u4e3a\u5f27\u5ea6\nLocalObjectEntry:\n$def: struct\n$fields:\nrbbox: RotatedBBox[mode=xywht, measure=degree]  # \u4ee5xywht\u7684\u5f62\u5f0f\u7ed9\u503c\uff0c\u4e14\u89d2\u5ea6\u5355\u4f4d\u4e3a\u5ea6\nLocalObjectEntry:\n$def: struct\n$fields:\nrbbox: RotatedBBox[mode=xyxy]  # \u4ee5xyxy\u7684\u5f62\u5f0f\u7ed9\u503c\n</code></pre> <p>\u786e\u5b9a\u4e86RotatedBBox\u7684\u6837\u5f0f\uff0c\u6211\u4eec\u4e0b\u9762\u53ef\u4ee5\u5f00\u59cb\u5b9a\u4e49\u5b83\u7684\u53c2\u6570jsonschema</p>"},{"location":"tutorials/advanced/dsdl_extend/#schema","title":"\u53c2\u6570schema\u5b9a\u4e49","text":"<p>\u5728RotatedBBox\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86<code>mode</code>\u3001<code>measure</code>\u4e24\u4e2a\u5f62\u53c2\uff0c\u5e76\u89c4\u5b9a\u4e86<code>mode</code>\u7684\u5b9e\u53c2\u53ea\u80fd\u662f<code>xywht</code>\u6216<code>xyxy</code>\uff0c<code>measure</code>\u7684\u5b9e\u53c2\u53ea\u80fd\u662f<code>radian</code>\u6216<code>degree</code>\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684jsonschema\u6765\u63cf\u8ff0\u8be5\u7ea6\u675f\uff1a</p> <pre><code>args_schema = {\n\"type\": \"object\",\n\"properties\": {\n\"measure\": {\"type\": \"string\", \"enum\": [\"radian\", \"degree\"]},\n\"mode\": {\"type\": \"string\", \"enum\": [\"xywht\", \"xyxy\"]}\n},\n\"minProperties\": 2,\n\"maxProperties\": 2,\n\"required\": [\"measure\", \"mode\"]\n}\n</code></pre> <p>\u5728\u4e0a\u9762\u7684jsonschema\u4e2d\uff0c\u6211\u4eec\u7ea6\u675f\u4e86RotatedBBox\u7684\u5173\u952e\u5b57\u53c2\u6570\u5b57\u5178\u4e2d\u5fc5\u987b\u5305\u542b\u4e14\u53ea\u80fd\u5305\u542b\u4e24\u4e2a\u952e\uff1a<code>measure</code>\u548c<code>mode</code>\uff0c\u5e76\u4e14<code>measure</code>\u952e\u5bf9\u5e94\u7684\u503c\u53ea\u80fd\u662f<code>\"radian\"</code>\u5b57\u7b26\u4e32\u6216\u662f<code>\"xyxy\"</code>\u5b57\u7b26\u4e32\uff1b<code>mode</code>\u952e\u5bf9\u5e94\u7684\u503c\u53ea\u80fd\u662f<code>\"xywht\"</code>\u5b57\u7b26\u4e32\u6216<code>\"xyxy\"</code>\u5b57\u7b26\u4e32\u3002</p> <p>\u6b64\u5916\u6709\u4e9b\u60c5\u51b5\u4e0b\u6211\u4eec\u5e0c\u671b\u5728\u4e3aField\u4f20\u5165\u53c2\u6570\u7684\u65f6\u5019\uff0cField\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u9ed8\u8ba4\u4f20\u53c2\u5b57\u5178\uff1a</p> <pre><code>default_args = {\n\"mode\": \"xywht\",\n\"measure\": \"radian\"\n}\n</code></pre> <p>\u4e0a\u9762\u7684\u9ed8\u8ba4\u5b57\u5178\u89c4\u5b9a\u4e86\u5728\u4e0d\u4f20\u5165\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u9ed8\u8ba4<code>mode=\"xywht\"</code>\uff0c<code>measure=\"radian\"</code></p> <p>\u5b9a\u4e49\u5b8c\u53c2\u6570schema\u540e\uff0c\u6211\u4eec\u5219\u9700\u8981\u89c4\u5b9a\u5177\u4f53\u4f20\u5165\u7684\u503c\u7684jsonschema\u3002</p>"},{"location":"tutorials/advanced/dsdl_extend/#schema_1","title":"\u503cschema\u5b9a\u4e49","text":"<p>\u5728RotatedBBox\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u4f20\u5165\u7684\u503c\u53ea\u6709\u4e24\u79cd\u60c5\u51b5\uff1a</p> <ol> <li>\u5982\u679cRotatedBBox Field\u7684<code>mode</code>\u662f<code>\"xywht\"</code>\uff0c\u5219\u4f20\u5165\u7684\u503c\u9700\u8981\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u4e2d\u5143\u7d20\u6570\u76ee\u4e3a5\uff0c\u7c7b\u578b\u4e3a\u6570\u5b57\u7c7b\u578b\uff0c\u5206\u522b\u4ee3\u8868\u4e86\u65cb\u8f6c\u6846\u7684\u4e2d\u5fc3\u70b9xy\u5750\u6807\uff0c\u5bbd\u9ad8\uff0c\u4ee5\u53ca\u65cb\u8f6c\u89d2\u5ea6\u3002</li> <li>\u5982\u679cRotatedBBox Field\u7684<code>mode</code>\u662f<code>xyxy</code>\uff0c\u5219\u4f20\u5165\u7684\u503c\u9700\u8981\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u4e2d\u5143\u7d20\u6570\u76ee\u4e3a8\uff0c\u7c7b\u578b\u4e3a\u6570\u5b57\u7c7b\u578b\uff0c\u5206\u522b\u4ee3\u8868\u4e86\u65cb\u8f6c\u6846\u7684\u56db\u4e2a\u9876\u70b9\u7684xy\u5750\u6807\uff1a<code>[x1, y1, x2, y2, x3, y3, x4, y4]</code></li> </ol> <p>\u56e0\u6b64\uff0c\u503cjsonschema\u7684\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>data_schema = {\n\"$id\": \"/special/rotatedbbox\",\n\"title\": \"RotatedBBoxField\",\n\"description\": \"Rotated bounding box field in dsdl.\",\n\"type\": \"array\",\n\"oneOf\": [\n{\"minItems\": 5, \"maxItems\": 5,\n\"items\": [{\"type\": \"number\"}, {\"type\": \"number\"}, {\"type\": \"number\", \"minimum\": 0},\n{\"type\": \"number\", \"minimum\": 0}, {\"type\": \"number\"}]},\n{\"minItems\": 8, \"maxItems\": 8, \"items\": {\"type\": \"number\"}}\n]\n}\n</code></pre> <p>\u4e0a\u9762\u7684jsonschema\u505a\u51fa\u4e86\u5982\u4e0b\u7684\u7ea6\u675f\uff1a</p> <ol> <li>\u4f20\u5165RotatedBBox Field\u503c\u5fc5\u987b\u8981\u662f\u4e00\u4e2a\u5217\u8868\uff1b</li> <li>\u5217\u8868\u7684\u5143\u7d20\u7ea6\u675f\u9700\u8981\u6ee1\u8db3\u4e0b\u9762\u4e24\u79cd\u60c5\u51b5\u4e4b\u4e00\uff1a</li> <li>\u5143\u7d20\u6570\u76ee\u4e3a5\uff0c\u7c7b\u578b\u90fd\u662fnumber\uff0c\u4e14\u8868\u793a\u5bbd\u9ad8\u7684\u7b2c3\u4e2a\u548c\u7b2c4\u4e2a\u5143\u7d20\u90fd\u5fc5\u987b\u8981\u662f\u5927\u4e8e0\u7684\u6570\uff1b</li> <li>\u5143\u7d20\u6570\u76ee\u4e3a8\uff0c\u7c7b\u578b\u90fd\u662fnumber</li> </ol> <p>\u6b64\u5916\uff0c\u5728RotatedBBox Field\u4e2d\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u786e\u5b9a\u53c2\u6570schema\u548c\u503cschema\u4e4b\u95f4\u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u56e0\u4e3a\u6211\u4eec\u9700\u8981\u786e\u4fdd\u5f53<code>mode=\"xywht\"</code>\u65f6\u4f20\u5165\u7684\u503c\u5fc5\u987b\u662f5\u5143\u7d20\u5217\u8868\uff1b\u5f53<code>mode=xyxy</code>\u65f6\uff0c\u4f20\u5165\u7684\u503c\u5fc5\u987b\u662f8\u5143\u7d20\u5217\u8868\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u989d\u5916\u9876\u4e00\u4e2a\u53c2\u6570+\u503c\u7684\u6574\u4f53schema\uff1a</p> <pre><code>whole_schema = {\n\"type\": \"object\",\n\"oneOf\": [\n{\n\"properties\": {\n\"args\": {\n\"type\": \"object\",\n\"properties\": {\n\"measure\": {\"type\": \"string\", \"enum\": [\"radian\", \"degree\"]},\n\"mode\": {\"type\": \"string\", \"enum\": [\"xywht\"]}\n},\n\"minProperties\": 2,\n\"maxProperties\": 2,\n\"required\": [\"measure\", \"mode\"]\n},\n\"value\": {\n\"type\": \"array\",\n\"minItems\": 5,\n\"maxItems\": 5,\n\"items\": [{\"type\": \"number\"}, {\"type\": \"number\"}, {\"type\": \"number\", \"minimum\": 0},\n{\"type\": \"number\", \"minimum\": 0}, {\"type\": \"number\"}]\n}\n}\n},\n{\n\"properties\": {\n\"args\": {\"type\": \"object\",\n\"properties\": {\n\"measure\": {\"type\": \"string\", \"enum\": [\"radian\", \"degree\"]},\n\"mode\": {\"type\": \"string\", \"enum\": [\"xyxy\"]}\n},\n\"minProperties\": 2,\n\"maxProperties\": 2,\n\"required\": [\"measure\", \"mode\"]},\n\"value\": {\"type\": \"array\", \"minItems\": 8, \"maxItems\": 8, \"items\": {\"type\": \"number\"}}\n}\n}\n],\n\"required\": [\"args\", \"value\"]\n}\n</code></pre> <p>\u53ea\u6709\u5728\u53c2\u6570\u548c\u503c\u7684\u5f62\u5f0f\u4e00\u4e00\u5bf9\u5e94\u7684\u60c5\u51b5\u4e0b\u624d\u9700\u8981\u5b9a\u4e49\u4e0a\u9762\u7684<code>whole_schema</code></p> <p>\u4e3a\u4e86\u7406\u89e3<code>whole_schema</code>\uff0c\u6211\u4eec\u7ed9\u51fa\u4e0b\u9762\u51e0\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>data_args = {\n\"args\": {\"mode\": \"xywht\", \"measure\": \"radian\"},\n\"value\": [1,2,3,4,5]\n}   # \u6b63\u786e\uff0c\u6ee1\u8db3whole_schema\u7684\u89c4\u5b9a\ndata_args = {\n\"args\": {\"mode\": \"xywht\", \"measure\": \"radian\"},\n\"value\": [1,2,3,4,5,6,7,8]\n}   # \u9519\u8bef\uff0cvalue\u5fc5\u987b\u662f5\u5143\u7d20\u5217\u8868\uff0c\u56e0\u6b64mode\u662f\"xywht\"\ndata_args = {\n\"args\": {\"mode\": \"xyxy\", \"measure\": \"radian\"},\n\"value\": [1,2,3,4,5,6,7,8]\n}   # \u6b63\u786e\uff0c\u6ee1\u8db3whole_schema\u7684\u89c4\u5b9a\n</code></pre>"},{"location":"tutorials/advanced/dsdl_extend/#_2","title":"\u6570\u636e\u7c7b\u7684\u5b9a\u4e49","text":"<p>\u5728dsdl\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528jsonschema\u6765\u68c0\u67e5\u7ed9\u5b9a\u7684\u6570\u636e\u662f\u5426\u5408\u89c4\uff0c\u4f46\u662f\u8fd9\u53ea\u662f\u5728\u57fa\u7840\u6570\u636e\u7c7b\u578b\u65b9\u9762\u7684\u68c0\u67e5\uff0c\u6211\u4eec\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u53ea\u80fd\u786e\u4fdd\u4f8b\u5982BBox\u7684\u6570\u636e\u5fc5\u987b\u4e3a\u4e00\u4e2a4\u5143\u7d20\u5217\u8868\uff0c\u6216\u662fpolygon\u5fc5\u987b\u662f\u4e00\u4e2a3\u5c42\u5d4c\u5957\u5217\u8868\u8fd9\u79cd\u7ea6\u675f\uff0c\u4e3a\u4e86\u80fd\u8fdb\u4e00\u6b65\u8868\u793a\u5404\u79cd\u4e0d\u540c\u7684\u6570\u636e\uff0c\u5c06\u8d4b\u4e88\u4ed6\u4eec\u8bed\u4e49\u4fe1\u606f\uff0c\u6211\u4eec\u8fd8\u4f1a\u5c06\u8fd9\u4e9b\u901a\u8fc7jsonschema\u9a8c\u8bc1\u7684\u6570\u636e\u5c01\u88c5\u5728\u4e00\u4e2adsdl\u6570\u636e\u7c7b\uff08<code>dsdl.geometry.BaseGeometry</code>\uff09\u5f53\u4e2d\uff0c\u4ece\u800c\u65b9\u4fbf\u7528\u6237\u8c03\u7528\u5404\u79cd\u65b9\u6cd5\u6765\u5bf9\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\u3002</p> <p>\u5bf9\u4e8eRotatedBBox Field\u800c\u8a00\uff0c\u6211\u4eec\u5c06\u7b26\u5408data schema\u7684\u6570\u636e\u5c01\u88c5\u5728\u4e86<code>dsdl.geometry.RBBox</code>\u7c7b\u5f53\u4e2d\u3002\u56e0\u6b64\u7528\u6237\u5728\u5b9e\u73b0\u81ea\u5b9a\u4e49Field\u65f6\uff0c\u5efa\u8bae\u4e5f\u53ef\u4ee5\u5728<code>dsdl.geometry</code>\u5305\u4e2d\u5b9a\u4e49\u4e00\u4e2a\u6570\u636e\u7c7b\u3002</p> <p>\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u4ee5<code>dsdl.geometry.RBBox</code>\u4e3a\u4f8b\uff0c\u8bb2\u89e3\u5982\u4f55\u5b9a\u4e49\u4e00\u4e2a\u6570\u636e\u7c7b\uff08\u5728dsdl\u4e2d\uff0c\u6211\u4eec\u5c06\u6570\u636e\u7c7b\u6210\u4e3a<code>Geometry</code>\u7c7b\uff09\u3002</p> <p>\u5b9a\u4e49\u4e00\u4e2a<code>Geometry</code>\u7c7b\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a</p> <ol> <li>\u7ee7\u627f<code>dsdl.geometry.BaseGeometry</code>\u7236\u7c7b</li> <li>\u5b9a\u4e49\u521d\u59cb\u5316\u65b9\u6cd5</li> <li>\u5b9a\u4e49\u4e00\u4e9b\u5e38\u7528\u7684\u65b9\u6cd5</li> <li>\u5982\u679c\u5f53\u524dfield\u9700\u8981\u5728dsdl view\u547d\u4ee4\u4e2d\u88ab\u53ef\u89c6\u5316\u5c55\u793a\uff0c\u5219\u9700\u8981\u91cd\u5199\u7236\u7c7b\u65b9\u6cd5\u4e2d\u7684<code>visualize</code>\u65b9\u6cd5\uff08\u8be5\u6b65\u9aa4\u4e0d\u4f1a\u5728\u672c\u6587\u4e2d\u6d89\u53ca\uff09</li> </ol>"},{"location":"tutorials/advanced/dsdl_extend/#_3","title":"\u5b9a\u4e49\u521d\u59cb\u5316\u65b9\u6cd5","text":"<pre><code>from .base_geometry import BaseGeometry\nclass RBBox(BaseGeometry):\ndef __init__(self, value, mode=\"xywht\", measure=\"radian\"):\nassert mode in (\"xywht\", \"xyxy\") and measure in (\"radian\", \"degree\")\nif mode == \"xywht\":\nself._polygon = None\nif measure == \"degree\":\nvalue = value.copy()\nvalue[-1] = value[-1] / 180 * math.pi\nself._rbbox = value\nelse:\nself._polygon = value\nself._rbbox = None\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7528\u6237\u5b9a\u4e49\u7684Geometry\u7c7b\u7684\u521d\u59cb\u5316\u65b9\u6cd5\u9700\u8981\u4f20\u5165\u7684\u503c\u9700\u8981\u5305\u542b\uff1a</p> <ol> <li>\u5177\u4f53\u7684\u6570\u636evalue</li> <li>\u8be5Geometry\u7c7b\u5bf9\u5e94\u7684Field\u7684\u58f0\u660e\u53c2\u6570</li> </ol> <p>\u5177\u4f53\u6765\u8bf4\uff0c\u7531\u4e8eRotatedBBox Field\u7684\u58f0\u660e\u53c2\u6570\u5305\u542b<code>mode</code>\u548c<code>measure</code>\uff0c\u56e0\u6b64\u5b83\u5bf9\u5e94\u7684Geometry\u7c7bRBBox\u7684\u521d\u59cb\u5316\u53c2\u6570\u9664\u4e86\u5177\u4f53value\u6570\u636e\uff0c\u4e5f\u5fc5\u987b\u5305\u542b<code>mode</code>\u548c<code>measure</code>\u4e24\u4e2a\u53c2\u6570\uff0c\u4e14\u542b\u4e49\u4e0eRotatedBBox Field\u4e2d\u7684\u4e00\u81f4\u3002</p> <p>\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u6839\u636e\u4f20\u5165\u7684<code>mode</code>\u548c<code>measure</code>\u5bf9\u4f20\u5165\u7684\u6570\u636e<code>value</code>\u8fdb\u884c\u76f8\u5e94\u7684\u5904\u7406\uff0c\u6bd4\u5982\uff1a</p> <ul> <li>\u5982\u679c<code>measure</code>\u4e3a<code>degree</code>\uff0c\u5219\u9700\u8981\u5c06<code>value</code>\u4e2d\u7684\u89d2\u5ea6\u7684\u503c\u8f6c\u6362\u4e3a\u5f27\u5ea6\u5355\u4f4d\uff1b</li> <li>\u5982\u679c<code>mode</code>\u4e3a<code>xywht</code>\uff0c\u5219\u9700\u8981\u5c06value\u5b58\u50a8\u4e3a<code>self._rbbox</code>\u5c5e\u6027\uff0c\u5982\u679c<code>mode</code>\u4e3a<code>xyxy</code>\uff0c\u5219\u9700\u8981\u5c06value\u5b58\u50a8\u4e3a<code>self._polygon</code></li> </ul>"},{"location":"tutorials/advanced/dsdl_extend/#_4","title":"\u5b9a\u4e49\u4e00\u4e9b\u5e38\u7528\u7684\u65b9\u6cd5","text":"<p>\u6211\u4eec\u6709\u53ef\u80fd\u60f3\u5bf9\u5c01\u88c5\u7684\u6570\u636e\u8fdb\u884c\u4e00\u4e9b\u7b80\u5355\u7684\u64cd\u4f5c\uff0c\u6211\u4eec\u5219\u53ef\u4ee5\u81ea\u5df1\u5b9a\u4e49\u76f8\u5e94\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982\u5728RBBox\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\uff1a</p> <pre><code>@staticmethod\ndef rbbox2polygon(value):\nx, y, width, height, angle = value\ncosA, sinA = math.cos(angle), math.sin(angle)\ndef _rotate(p_):  # clockwise\nx_, y_ = p_\nx_r = (x_ - x) * cosA - (y_ - y) * sinA + x\ny_r = (x_ - x) * sinA + (y_ - y) * cosA + y\nreturn [x_r, y_r]\nx_l, x_r, y_t, y_b = x - width / 2, x + width / 2, y - height / 2, y + height / 2\np_lt, p_lb, p_rt, p_rb = [x_l, y_t], [x_l, y_b], [x_r, y_t], [x_r, y_b]\nreturn [_rotate(p_lt), _rotate(p_lb), _rotate(p_rb), _rotate(p_rt)]\n@staticmethod\ndef polygon2rbbox(value):\nres = cv2.minAreaRect(np.array(value).astype(np.int32))\nx, y = res[0]\nwidth, height = res[1]  # width is \"first edge\"\nangle = res[2]\nif width &lt; height:\nwidth, height = height, width\nangle = angle + 90\nangle = 1 - angle / 180 * math.pi\nreturn [x, y, width, height, angle]\n@property\ndef polygon_value(self):\nif self._polygon is None:\nself._polygon = self.rbbox2polygon(self._rbbox)\nreturn self._polygon\n@property\ndef rbbox_value(self):\nif self._rbbox is None:\nself._rbbox = self.polygon2rbbox(self._polygon)\nreturn self._rbbox\n</code></pre> <p>\u4e0a\u9762\u7684\u65b9\u6cd5\u5b9e\u73b0\u4e86<code>mode</code>\u4e3a<code>xywht</code>\u548c<code>xyxy</code>\u4e4b\u95f4\u6570\u636e\u7684\u76f8\u4e92\u8f6c\u6362</p>"},{"location":"tutorials/advanced/dsdl_extend/#field","title":"\u5b9a\u4e49Field\u7c7b","text":"<p>\u5728\u5b8c\u6210\u4e86\u4e0a\u8ff0\u7684\u64cd\u4f5c\u540e\uff0c\u6211\u4eec\u9700\u8981\u505a\u7684\u5c31\u662f\u5c06\u4e0a\u9762\u5b9a\u4e49\u7684\u5185\u5bb9\u7ec4\u88c5\u5230\u4e00\u4e2aField\u7c7b\u4e2d\uff0c\u5373\u5b9a\u4e49Field\u7c7b\u672c\u8eab\u3002</p> <p>\u4ee5RotatedBBox Field\u4e3a\u4f8b\uff0c\u6211\u4eec\u9700\u8981\u5728<code>dsdl.fields</code>\u5305\u4e2d\u5b9a\u4e49\u4e00\u4e2a\u540c\u540d\u7684\u7c7b\uff0c\u5e76\u8ba9\u5b83\u7ee7\u627f<code>dsdl.base_field.BaseField</code>\u57fa\u7c7b\u3002\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5c06\u4e0a\u9762\u51e0\u5c0f\u8282\u5b9a\u4e49\u7684jsonschema\u8bbe\u7f6e\u4e3a\u5b83\u7684\u7c7b\u5c5e\u6027\uff0c\u5206\u522b\u4e3a\uff1a</p> <ol> <li><code>default_args</code>\uff1aField\u58f0\u660e\u9ed8\u8ba4\u53c2\u6570</li> <li><code>args_schema</code>\uff1a\u58f0\u660eField\u65f6\u4f20\u5165\u53c2\u6570\u9700\u8981\u9075\u5b88\u7684 jsonschema</li> <li><code>data_schema</code>\uff1a\u8be5Field\u7684\u5b9e\u4f8b\u6570\u636e\u9700\u8981\u9075\u5b88\u7684jsonschema</li> <li><code>whole_schema</code>\uff1a\u8be5Field\u7684\u58f0\u660e\u53c2\u6570\u548c\u5b9e\u4f8b\u6570\u636e\u9700\u8981\u9075\u5b88\u7684\u6574\u4f53schema\uff08\u4e00\u822c\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\uff09</li> <li><code>geometry_class</code>\uff1a\u8be5Field\u5bf9\u5e94\u7684\u6570\u636e\u7c7b\u7684\u7c7b\u540d\uff0c\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u7c7b\u540d\u4e3a<code>RBBox</code></li> </ol> <p>\u56e0\u6b64\uff0c\u6700\u7ec8\u5b9a\u4e49\u7684Field\u7c7b\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>class RotatedBBox(BaseField):\ndefault_args = {\n\"mode\": \"xywht\",\n\"measure\": \"radian\"\n}\ndata_schema = {\n\"$id\": \"/special/rotatedbbox\",\n\"title\": \"RotatedBBoxField\",\n\"description\": \"Rotated bounding box field in dsdl.\",\n\"type\": \"array\",\n\"oneOf\": [\n{\"minItems\": 5, \"maxItems\": 5,\n\"items\": [{\"type\": \"number\"}, {\"type\": \"number\"}, {\"type\": \"number\", \"minimum\": 0},\n{\"type\": \"number\", \"minimum\": 0}, {\"type\": \"number\"}]},\n{\"minItems\": 8, \"maxItems\": 8, \"items\": {\"type\": \"number\"}}\n]\n}\nargs_schema = {\n\"type\": \"object\",\n\"properties\": {\n\"measure\": {\"type\": \"string\", \"enum\": [\"radian\", \"degree\"]},\n\"mode\": {\"type\": \"string\", \"enum\": [\"xywht\", \"xyxy\"]}\n},\n\"minProperties\": 2,\n\"maxProperties\": 2,\n\"required\": [\"measure\", \"mode\"]\n}\nwhole_schema = {\n\"type\": \"object\",\n\"oneOf\": [\n{\n\"properties\": {\n\"args\": {\n\"type\": \"object\",\n\"properties\": {\n\"measure\": {\"type\": \"string\", \"enum\": [\"radian\", \"degree\"]},\n\"mode\": {\"type\": \"string\", \"enum\": [\"xywht\"]}\n},\n\"minProperties\": 2,\n\"maxProperties\": 2,\n\"required\": [\"measure\", \"mode\"]\n},\n\"value\": {\n\"type\": \"array\",\n\"minItems\": 5,\n\"maxItems\": 5,\n\"items\": [{\"type\": \"number\"}, {\"type\": \"number\"}, {\"type\": \"number\", \"minimum\": 0},\n{\"type\": \"number\", \"minimum\": 0}, {\"type\": \"number\"}]\n}\n}\n},\n{\n\"properties\": {\n\"args\": {\"type\": \"object\",\n\"properties\": {\n\"measure\": {\"type\": \"string\", \"enum\": [\"radian\", \"degree\"]},\n\"mode\": {\"type\": \"string\", \"enum\": [\"xyxy\"]}\n},\n\"minProperties\": 2,\n\"maxProperties\": 2,\n\"required\": [\"measure\", \"mode\"]},\n\"value\": {\"type\": \"array\", \"minItems\": 8, \"maxItems\": 8, \"items\": {\"type\": \"number\"}}\n}\n}\n],\n\"required\": [\"args\", \"value\"]\n}\ngeometry_class = \"RBBox\"\n</code></pre> <p>\u901a\u8fc7\u4e0a\u8ff0\u7684\u65b9\u5f0f\uff0c\u6211\u4eec\u5c31\u5b9a\u4e49\u4e86\u4e00\u4e2aRotatedBBox Field\uff0cpython\u4ee3\u7801\u7684\u4f7f\u7528\u5b9e\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>from dsdl.fields import RotatedBBox  # import RotatedBBox field\nfield = RotatedBBox(mode=\"xywht\", measure=\"radian\")  # decare the RotatedBBox field\ndata = [10, 12, 60, 70, 3.14]  # define the data of a rotated bounding box\nrotated_bbox_obj = field.validate(data)  # return a dsdl.geometry.RBBox object\n</code></pre> <p>\u6b64\u65f6\u6211\u4eec\u5c31\u53ef\u4ee5\u8c03\u7528\u5176\u65b9\u6cd5\uff1a</p> <pre><code>rotated_bbox_obj.polygon_value  # \u8f93\u51fa\u8be5rotated bounding box\u7684xyxy\u5f62\u5f0f\nrotated_bbox_obj.rbbox_value  # \u8f93\u51fa\u8be5rotated bounding box\u7684xywht\u5f62\u5f0f\n...\n</code></pre>"},{"location":"tutorials/advanced/overview/","title":"DSDL\u9ad8\u9636\u6559\u7a0b","text":"<p>\u672c\u7ae0\u8282\u5c06\u8be6\u7ec6\u8bb2\u89e3\u5982\u4f55\u901a\u8fc7DSDL\u5bf9\u5df2\u6709\u7684\u6570\u636e\u96c6\u8fdb\u884c\u63cf\u8ff0\uff0c\u5e76\u8f6c\u6362\u4e3aDSDL\u6570\u636e\u96c6\uff0c\u4ee5\u4fbf\u4f7f\u7528\u540e\u7eedODL\u5de5\u5177\u94fe\u76f8\u5173\u529f\u80fd\u3002</p> <p>\u4e3b\u8981\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u90e8\u5206\uff1a</p> <p>1. DSDL\u6570\u636e\u96c6\u6807\u51c6\u5316\uff1a</p> <ul> <li>\u81ea\u5b9a\u4e49DSDL\u6570\u636e\u96c6\uff1a\u5305\u62ec\u539f\u59cb\u6570\u636e\u96c6\u8c03\u7814\u3001DSDL\u6a21\u677f\u5236\u5b9a</li> <li>\u6570\u636e\u96c6\u8f6c\u6362\uff1a\u63d0\u4f9b\u4e3b\u6d41\u683c\u5f0f\u7684\u8f6c\u6362\u811a\u672c\uff0c\u5bf9\u4e8e\u975e\u4e3b\u6d41\u683c\u5f0f\uff0c\u63d0\u4f9bSDK\u63a5\u53e3\u548c\u5b9e\u7528\u5de5\u5177\uff0c\u8f85\u52a9\u6570\u636e\u96c6\u8f6c\u6362</li> <li>\u6570\u636e\u96c6\u9a8c\u8bc1\uff1a\u5bf9\u5b9a\u4e49\u7684DSDL\u6570\u636e\u96c6\u8fdb\u884c\u9a8c\u8bc1\uff0c\u786e\u8ba4\u5176\u89c4\u8303\u6027</li> </ul> <p>2. DSDL DataLoader\u5f00\u53d1\uff1a\u63d0\u4f9b\u591a\u4e2a\u4efb\u52a1\u7684DataLoader\u63a5\u53e3\uff0c\u5e76\u6307\u5bfc\u5982\u4f55\u5bf9DataLoader\u8fdb\u884c\u9002\u5e94\u6027\u4fee\u6539\uff0c\u6216\u81ea\u884c\u5f00\u53d1\u4e00\u4e2a\u65b0\u4efb\u52a1\u7684DataLoader</p>"},{"location":"tutorials/analysis/result_analysis/","title":"Result analysis","text":"<p>\u5185\u5bb9\u5f85\u66f4\u65b0\u3002</p>"},{"location":"tutorials/config/location_config/","title":"\u6570\u636e\u96c6\u914d\u7f6e","text":"<p>\u5728dsdl\u4e2d\u4e3a\u4e86\u6570\u636e\u96c6\u65b9\u4fbf\u5206\u53d1\uff0c\u6211\u4eec\u63d0\u51fa\u4e86\u3010\u5a92\u4f53\u6570\u636e\u3011\u548c\u3010\u6807\u6ce8\u6587\u4ef6\u3011\u5206\u79bb\u8fd9\u4e00\u8bbe\u8ba1\u7406\u5ff5\uff0c\u8fd9\u6837\u5373\u4fbf\u7528\u6237\u628a\u4e0d\u540c\u6570\u636e\u4fdd\u5b58\u5728\u4e0d\u540c\u7684\u5b58\u50a8\u4e0a\uff0c\u4e5f\u65e0\u9700\u4fee\u6539dsdl yaml\u6587\u4ef6\uff0c\u4ec5\u9700\u4fee\u6539\u5bf9\u5e94\u7684config\u6587\u4ef6\u5373\u53ef\uff0c\u8fd9\u91cc\u7684\u6570\u636e\u96c6\u914d\u7f6e\u4e5f\u4e3b\u8981\u662f\u6307\u5bf9config\u6587\u4ef6\u7684\u9002\u914d\uff0c\u7ed3\u5408\u5b9e\u9645\u60c5\u51b5\uff0c\u6709\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\uff1a</p> <ol> <li>\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u901a\u8fc7odl get\u83b7\u53d6\u7684dsdl\u6570\u636e\u96c6\uff0c\u540c\u65f6\u5305\u542b\u3010\u539f\u59cb\u5a92\u4f53\u6570\u636e\u3011\u548c\u3010dsdl\u6807\u6ce8\u6587\u4ef6\u3011\uff0c\u6b64\u65f6\u914d\u7f6e\u6587\u4ef6\u5df2\u7ecf\u6839\u636eodl\u7684\u914d\u7f6e\u81ea\u52a8\u751f\u6210\uff0c\u7528\u6237\u4e0d\u9700\u8981\u624b\u52a8\u4fee\u6539\uff1b</li> <li>\u5bf9\u4e8e\u672c\u5730\u6216\u8005\u8fdc\u7aef\u5df2\u7ecf\u62e5\u6709\u4e0b\u8f7d\u597d\u7684\u3010\u539f\u59cb\u5a92\u4f53\u6570\u636e\u3011\uff0c\u540c\u65f6\u8fd8\u5e0c\u671b\u4f7f\u7528dsdl\u76f8\u5173\u914d\u5957\u5de5\u5177\u7684\u7528\u6237\uff0c\u53ef\u4ee5\u53ea\u4e0b\u8f7d\u5bf9\u5e94\u6570\u636e\u96c6\u7684\u3010dsdl\u6807\u6ce8\u6587\u4ef6\u3011\uff0c\u540c\u65f6\u4fee\u6539\u5176\u4e2d\u7684 <code>config.py</code>\u6587\u4ef6\u5373\u53ef\uff1b</li> </ol> <p>\u5728 <code>config.py</code>\u4e2d\uff0c\u5217\u4e3e\u4e86\u6240\u652f\u6301\u7684\u5a92\u4f53\u6587\u4ef6\u8bfb\u53d6\u65b9\u5f0f\uff0c\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u9009\u62e9\u5e76\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u7b49\u4fe1\u606f\uff1a</p> <ol> <li>\u672c\u5730\u8bfb\u53d6\uff1a <code>local</code>\u4e2d\u7684\u53c2\u6570 <code>working_dir</code>\uff08\u672c\u5730\u6570\u636e\u6240\u5728\u7684\u76ee\u5f55\uff09</li> <li>\u963f\u91cc\u4e91OSS\u8bfb\u53d6\uff1a <code>ali_oss</code>\u4e2d\u7684\u53c2\u6570\uff08\u963f\u91cc\u4e91OSS\u7684\u914d\u7f6e <code>access_key_secret</code>, <code>endpoint</code>, <code>access_key_id</code>\uff1b\u6876\u540d\u79f0 <code>bucket_name</code>\uff0c\u6570\u636e\u5728\u6876\u4e2d\u7684\u76ee\u5f55 <code>working_dir</code>\u3002\u5173\u4e8e\u963f\u91cc\u4e91OSS\u53c2\u6570\u914d\u7f6e\u4e2d\u76f8\u5173\u5b57\u6bb5\u7684\u8be6\u7ec6\u542b\u4e49\u548c\u914d\u7f6e\u65b9\u6cd5\uff0c\u8bf7\u53c2\u8003\u5176\u5b98\u65b9\u6587\u6863\uff1a\u914d\u7f6e\u6559\u7a0b\uff09</li> </ol> <p>\u5b8c\u6574\u7684config.py\u6587\u4ef6\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>local = dict(\ntype=\"LocalFileReader\",\nworking_dir=\"local path of your media\",\n)\nali_oss = dict(\ntype=\"AliOSSFileReader\",\naccess_key_secret=\"your secret key of aliyun oss\",\nendpoint=\"your endpoint of aliyun oss\",\naccess_key_id=\"your access key of aliyun oss\",\nbucket_name=\"your bucket name of aliyun oss\",\nworking_dir=\"the relative path of your media dir in the bucket\")\n</code></pre>"},{"location":"tutorials/train_test/openmmlab/","title":"\u57fa\u4e8eDSDL\u6570\u636e\u7684\u8bad\u7ec3\u63a8\u7406\uff08OpenMMLab\uff09","text":""},{"location":"tutorials/train_test/openmmlab/#1","title":"1. \u5b89\u88c5\u73af\u5883","text":"<p>\u8fd9\u91cc\u4f7f\u7528mmdetection\u6846\u67b6\u8fdb\u884c\u6a21\u578b\u7684\u8bad\u7ec3\u548c\u63a8\u7406\uff0c\u7528\u6237\u53ef\u4ee5\u53c2\u8003mmdetection\u7684\u5b98\u7f51\u8fdb\u884c\u5b89\u88c5\uff0c\u76ee\u524dmmlab2.0(\u5bf9\u5e94mmdet 3.x\u7248\u672c)\u5df2\u7ecf\u652f\u6301DSDL\u6570\u636e\u96c6\uff0c\u8fd9\u91cc\u4ecb\u7ecd\u5982\u4f55\u5b89\u88c53.x\u7248\u672c\u7684mmdet\uff0c\u66f4\u591a\u4fe1\u606f\u4ee5\u53ca\u76f8\u5173\u7684\u4f9d\u8d56\u5b89\u88c5\u8bf7\u53c2\u8003MMDetection\u5b89\u88c5\u6587\u6863.</p> <pre><code>git clone https://gitlab.shlab.tech/research/dataset_standard/openmmlab-dsdl/mmdetection-dsdl -b dev-3.x\ncd mmdetection\npip install -v -e .\n</code></pre> <p>\u5b89\u88c5\u5b8cmmdetection\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u6570\u636e\u96c6\u4e0b\u8f7d\u5230mmdetection/data\u8def\u5f84\u4e0b\uff0c\u8fd9\u91cc\u4ee5VOC\u6570\u636e\u96c6\u4e3a\u4f8b\uff0c\u4e0b\u8f7d\u597d\u540e\u7684\u6570\u636e\u96c6\u8def\u5f84\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>mmdetection\n\u2514\u2500\u2500 data                          \n    \u2514\u2500\u2500 VOC07-det\n        \u251c\u2500\u2500 dsdl\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 config.py\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 defs\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 README.md\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 set-test\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 set-train\n        \u2502\u00a0\u00a0 \u2514\u2500\u2500 set-val\n        \u2514\u2500\u2500 original\n            \u251c\u2500\u2500 Annotations\n            \u251c\u2500\u2500 ImageSets\n            \u251c\u2500\u2500 JPEGImages\n            \u251c\u2500\u2500 SegmentationClass\n            \u2514\u2500\u2500 SegmentationObject\n</code></pre>"},{"location":"tutorials/train_test/openmmlab/#2","title":"2. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6","text":"<p>mmdet \u6846\u67b6\u76ee\u524d\u652f\u6301dsdl\u6570\u636e\u96c6\u7684\u8bad\u7ec3\uff0c\u4e00\u822c\u53ea\u9700\u8981\u5bf9\u6570\u636e\u96c6\u7684\u6839\u76ee\u5f55\u8fdb\u884c\u4fee\u6539\u5373\u53ef\u8fdb\u884c\u8bad\u7ec3\u3002\u5982\u679c\u662fvoc\uff0ccoco\u7b49\u4e3b\u6d41\u6570\u636e\u96c6\uff0c\u4e14\u6570\u636e\u96c6\u4fdd\u5b58\u5728mmdetection/data\u8def\u5f84\u4e0b\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5b98\u7f51\u7684\u914d\u7f6e\u8fdb\u884c\u8bad\u7ec3\uff1b\u5982\u679c\u5e76\u975e\u4e3b\u6d41\u6570\u636e\u96c6\uff0c\u6216\u8005\u6570\u636e\u96c6\u6ca1\u6709\u4fdd\u5b58\u5728data\u8def\u5f84\u4e0b\uff0c\u4e5f\u53ea\u9700\u8981\u5bf9\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u8def\u5f84\u8fdb\u884c\u4fee\u6539\u5373\u53ef\uff1a</p> <pre><code># dataset settings\ndataset_type = 'DSDLDetDataset'\ndata_root = '{path to your dataset}'                                             # \u5b58\u653e\u6570\u636e\u96c6\u7684\u6839\u76ee\u5f55\ntrain_ann = \"dsdl/set-train/train.yaml\"                                          # \u8bad\u7ec3\u7684yaml\u6587\u4ef6\nval_ann = \"dsdl/set-val/val.yaml\"                                                # \u9a8c\u8bc1\u96c6\u7684yaml\u6587\u4ef6\n</code></pre> <p>\u5b8c\u6574\u7684\u914d\u7f6e\u6587\u4ef6\u5982\u4e0b\u6240\u793a\uff0c\u7528\u6237\u4e5f\u53ef\u4ee5\u6839\u636e\u81ea\u8eab\u7684\u9700\u6c42\u5bf9\u5176\u5b83\u53c2\u6570\u8fdb\u884c\u4fee\u6539\u3002</p> dsdl-voc\u5b8c\u6574\u8bad\u7ec3\u914d\u7f6e <pre><code>_base_ = [\n'../_base_/models/faster-rcnn_r50_fpn.py',\n'../_base_/default_runtime.py'\n]\n# model setting\nmodel = dict(roi_head=dict(bbox_head=dict(num_classes=20)))\n# dataset settings\ndataset_type = \"DSDLDetDataset\"\ndata_root = \"/nvme/wufan/.dsdl/datasets/PascalVOC2007-detection\"\ntrain_ann = \"yml/set-train/train.yaml\"\nval_ann = \"yml/set-test/test.yaml\"\nattribute_cfg = dict(\nignore_train= {\n\"difficult\": (True, 1)\n}\n)\nfile_client_args = dict(backend='disk')\ntrain_pipeline = [\ndict(type='LoadImageFromFile', file_client_args=file_client_args),\ndict(type='LoadAnnotations', with_bbox=True),\ndict(type='Resize', scale=(1000, 600), keep_ratio=True),\ndict(type='RandomFlip', prob=0.5),\ndict(type='PackDetInputs')\n]\ntest_pipeline = [\ndict(type='LoadImageFromFile', file_client_args=file_client_args),\ndict(type='Resize', scale=(1000, 600), keep_ratio=True),\n# avoid bboxes being resized\ndict(type='LoadAnnotations', with_bbox=True),\ndict(\ntype='PackDetInputs',\nmeta_keys=('img_id', 'img_path', 'ori_shape', 'img_shape', 'scale_factor', 'instances')\n)\n]\ntrain_dataloader = dict(\nbatch_size=2,\nnum_workers=2,\npersistent_workers=True,\nsampler=dict(type='DefaultSampler', shuffle=True),\nbatch_sampler=dict(type='AspectRatioBatchSampler'),\ndataset=dict(\ntype=dataset_type,\nattribute_cfg=attribute_cfg,\ndata_root=data_root,\nann_file=train_ann,\nfilter_cfg=dict(filter_empty_gt=True, min_size=32, bbox_min_size=32),\npipeline=train_pipeline)\n)\nval_dataloader = dict(\nbatch_size=1,\nnum_workers=2,\npersistent_workers=True,\ndrop_last=False,\nsampler=dict(type='DefaultSampler', shuffle=False),\ndataset=dict(\ntype=dataset_type,\nattribute_cfg=attribute_cfg,\ndata_root=data_root,\nann_file=val_ann,\ntest_mode=True,\npipeline=test_pipeline))\ntest_dataloader = val_dataloader\n# Pascal VOC2007 uses `11points` as default evaluate mode, while PASCAL\n# VOC2012 defaults to use 'area'.\n# val_evaluator = dict(type='VOCMetric', metric='mAP', eval_mode='11points')\nval_evaluator = dict(type='CocoMetric', metric='bbox')\ntest_evaluator = val_evaluator\n# training schedule, voc dataset is repeated 3 times, in\n# `_base_/datasets/voc0712.py`, so the actual epoch = 4 * 3 = 12\nmax_epochs = 4\ntrain_cfg = dict(\ntype='EpochBasedTrainLoop', max_epochs=max_epochs, val_interval=1)\nval_cfg = dict(type='ValLoop')\ntest_cfg = dict(type='TestLoop')\n# learning rate\nparam_scheduler = [\ndict(\ntype='MultiStepLR',\nbegin=0,\nend=max_epochs,\nby_epoch=True,\nmilestones=[3],\ngamma=0.1)\n]\n# optimizer\noptim_wrapper = dict(\ntype='OptimWrapper',\noptimizer=dict(type='SGD', lr=0.01, momentum=0.9, weight_decay=0.0001))\n# Default setting for scaling LR automatically\n#   - `enable` means enable scaling LR automatically\n#       or not by default.\n#   - `base_batch_size` = (8 GPUs) x (2 samples per GPU).\nauto_scale_lr = dict(enable=False, base_batch_size=16)\ngpu_ids = range(0, 8)\n</code></pre>"},{"location":"tutorials/train_test/openmmlab/#3","title":"3 \u6a21\u578b\u8bad\u7ec3","text":"<ul> <li>\u5355\u5361\u8bad\u7ec3</li> </ul> <pre><code>python tools/train.py {path_to_config_file}\n</code></pre> <p>\u6bd4\u5982\uff1a</p> <pre><code>python tools/train.py config/dsdl/voc2007.py\n</code></pre> <ul> <li>\u96c6\u7fa4\u8bad\u7ec3</li> </ul> <pre><code>./tools/slurm_train.sh {partition} {job_name} {config_file} {work_dir} {gpu_nums}\n</code></pre> <p>\u5f53\u51fa\u73b0\u5982\u4e0b\u65e5\u5fd7\u65f6\uff0c\u8868\u793a\u8bad\u7ec3\u6b63\u5728\u8fdb\u884c\u4e2d\uff1a</p> <pre><code>2022/12/13 19:00:05 - mmengine - INFO - Checkpoints will be saved to /nvme/wufan/project/mmlab2.x/work_dirs/voc_dsdl.\n2022/12/13 19:00:12 - mmengine - INFO - Epoch(train) [1][  50/3104]  lr: 1.0000e-02  eta: 0:26:28  time: 0.1285  data_time: 0.0040  memory: 2581  loss: 0.7176  loss_rpn_cls: 0.1582  loss_rpn_bbox: 0.0301  loss_cls: 0.3771  acc: 92.1875  loss_bbox: 0.1522\n2022/12/13 19:00:18 - mmengine - INFO - Epoch(train) [1][ 100/3104]  lr: 1.0000e-02  eta: 0:25:32  time: 0.1204  data_time: 0.0024  memory: 2581  loss: 0.5537  loss_rpn_cls: 0.0577  loss_rpn_bbox: 0.0220  loss_cls: 0.2768  acc: 87.8906  loss_bbox: 0.1972\n2022/12/13 19:00:24 - mmengine - INFO - Epoch(train) [1][ 150/3104]  lr: 1.0000e-02  eta: 0:25:12  time: 0.1210  data_time: 0.0025  memory: 2581  loss: 0.6777  loss_rpn_cls: 0.0885  loss_rpn_bbox: 0.0340  loss_cls: 0.3201  acc: 92.6758  loss_bbox: 0.2350\n...\n</code></pre>"},{"location":"tutorials/train_test/openmmlab/#4","title":"4 \u6a21\u578b\u6d4b\u8bd5","text":"<pre><code>python tools/test.py {path_to_config_file} {path_to_checkpoint_file}\n</code></pre> <p>\u6bd4\u5982\uff1a</p> <pre><code>python tools/test.py config/dsdl/voc2007.py work_dirs/voc2007/epoch_4.pth\n</code></pre> <p>\u63a8\u7406\u7ed3\u679c\u5982\u4e0b\uff1a</p> <pre><code>2022/12/21 11:07:13 - mmengine - INFO - Load checkpoint from work_dirs/voc2007/epoch_4.pth\n2022/12/21 11:07:15 - mmengine - INFO - Epoch(test) [  50/4952]    eta: 0:02:17  time: 0.0280  data_time: 0.0028  memory: 348\n... 2022/12/21 11:09:15 - mmengine - INFO - Epoch(test) [4950/4952]    eta: 0:00:00  time: 0.0246  data_time: 0.0009  memory: 360  2022/12/21 11:09:15 - mmengine - INFO - Converting ground truth to coco format...\n2022/12/21 11:09:16 - mmengine - INFO - Evaluating bbox...\n2022/12/21 11:09:25 - mmengine - INFO - bbox_mAP_copypaste: 0.454 0.757 0.479 0.123 0.340 0.536\n2022/12/21 11:09:25 - mmengine - INFO - Epoch(test) [4952/4952]  coco/bbox_mAP: 0.4540  coco/bbox_mAP_50: 0.7570  coco/bbox_mAP_75: 0.4790  coco/bbox_mAP_s: 0.1230  coco/bbox_mAP_m: 0.3400  coco/bbox_mAP_l: 0.5360\n</code></pre>"},{"location":"tutorials/train_test/pytorch/","title":"\u57fa\u4e8eDSDL\u6570\u636e\u7684\u8bad\u7ec3\u63a8\u7406\uff08Pytorch\uff09","text":"<p>\u8fd9\u91cc\u4ee5MNIST\u4e3a\u4f8b\uff0c\u5c55\u793adsdl\u5982\u4f55\u5728Pytorch\u6846\u67b6\u4e0a\u8fdb\u884c\u8bad\u7ec3\u3002</p>"},{"location":"tutorials/train_test/pytorch/#1-dataset","title":"1. \u521d\u59cb\u5316Dataset","text":"<p>dsdl\u63d0\u4f9b\u4e86DSDLDataset\u7c7b\uff0c\u53ef\u4ee5\u5f88\u597d\u7684\u652f\u6301Pytorch\u8bad\u7ec3\uff0c\u53ea\u9700\u8981dsdl\u7684yaml\u6587\u4ef6\u548clocation config\uff0c\u5373\u53ef\u521d\u59cb\u5316\u4e00\u4e2aDSDLDataset\u7c7b\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>from dsdl.dataset import DSDLDataset\n\nloc_config = dict(\n    type=\"LocalFileReader\",\n    working_dir=\"path to MNIST original\"\n)\n\ntrain_yaml = \"path to MNIST dsdl train yaml file\"\nval_yaml = \"path to MNIST dsdl val yaml file\"\n\nfields_list = [\"Image\", \"Label\"]\n\nds_train = DSDLDataset(dsdl_yaml=train_yaml, location_config=loc_config, required_fields=fields_list)\nds_val = DSDLDataset(dsdl_yaml=val_yaml, location_config=loc_config, required_fields=fields_list)\n</code></pre> <p>\u4ee3\u7801\u4e2d\uff0cfield_list\u53c2\u6570\u662f\u7528\u6765\u544a\u8bc9\u7a0b\u5e8f\uff0c\u7528\u6237\u6240\u9700\u8981\u7684\u5b57\u6bb5\u662f\u54ea\u4e9b\uff08\u5982\u679c\u6ca1\u6709\u7ed9\u5b9a\u7684\u8bdd\uff0c\u4f1a\u9ed8\u8ba4\u63d0\u53d6\u4e3b\u8981\u5b57\u6bb5\uff09\uff0c\u8fd9\u91cc\u6211\u4eec\u4ee5\u5206\u7c7b\u4efb\u52a1\u4e3a\u4f8b\uff0c\u63d0\u53d6\u6570\u636e\u7684'Image', 'Label'\u4e24\u4e2a\u5b57\u6bb5\u3002</p> <p></p>"},{"location":"tutorials/train_test/pytorch/#2-piplinedataloader","title":"2. \u5b9a\u4e49\u9884\u5904\u7406pipline\u5e76\u751f\u6210Dataloader","text":"<p>DSDLDataset \u652f\u6301\u8c03\u7528set_transform()\u65b9\u6cd5\u6765\u5b9a\u4e49\u6570\u636e\u5904\u7406pipline\uff0c\u5982\u4e0b\u6240\u793a\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u5bf9\u56fe\u7247\u8fdb\u884c\u8bfb\u53d6 -&gt; \u8f6c\u4e3atensor -&gt; \u6807\u51c6\u5316\u7b49\u5904\u7406\u6d41\u7a0b, \u540c\u65f6\u4e5f\u5b9a\u4e49\u4e86\u5bf9\u6807\u7b7e\u7684\u5904\u7406\u6d41\u7a0b\u3002 <pre><code>import numpy as np\nfrom torchvision import transforms\n\nT = {\n    \"Image\": transforms.Compose([\n        lambda x: x[0].to_image().convert(mode='RGB'),\n        transforms.ToTensor(),\n        transforms.Normalize([0.485, 0.456, 0.406], [0.229, 0.224, 0.225])\n    ]),\n    \"Label\": transforms.Compose([\n        lambda x: np.array([x[0].index_in_domain() - 1])\n    ])\n}\n\nds_train.set_transform(T)\nds_val.set_transform(T)\n</code></pre></p> <p>DSDLDatset\u7c7b\u62e5\u6709\u76f4\u63a5\u8f93\u51fapytorch DataLoader\u7684\u63a5\u53e3\uff0c\u8c03\u7528\u4ee3\u7801\u5982\u4e0b\uff1a</p> <p><pre><code>dl_train = ds_train.to_pytorch(batch_size=32)\ndl_val = ds_val.to_pytorch(batch_size=32)\n</code></pre> to_pytorch\u65b9\u6cd5\u540c\u6837\u652f\u6301\u4f20\u9012\u4e00\u4e9b\u5176\u4ed6\u53c2\u6570\uff0c\u6bd4\u5982shuffle\uff0cnum_works\u7b49\u7b49\uff0c\u5177\u4f53\u53ef\u4ee5\u53c2\u8003Pytorch\u7684DataLoader\u7c7b\u3002</p>"},{"location":"tutorials/train_test/pytorch/#3","title":"3. \u5b9a\u4e49\u6a21\u578b\u548c\u4f18\u5316\u5668","text":"<p>\u8fd9\u91cc\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684resnet18\u5206\u7c7b\u5668, \u5e76\u91c7\u7528SGD\u4f18\u5316\u5668\uff0c\u540c\u65f6\u5b9a\u4e49\u4ea4\u53c9\u71b5\u635f\u5931\u51fd\u6570\uff1a</p> <pre><code>import torch\nfrom torchvision import models\n\nmodel = models.resnet18(pretrained=False)\n\nclass_nums = 1000\nmodel.fc = torch.nn.Linear(model.fc.in_features, class_nums)  \n\ndevice = torch.device(\"cuda:0\")\n# device = \"cpu\" # use cpu if cuda is not available\n\nmodel.to(device)\n\ncriterion = torch.nn.CrossEntropyLoss()\n\noptimizer = torch.optim.SGD(model.parameters(), lr=0.01, momentum=0.1)\n</code></pre>"},{"location":"tutorials/train_test/pytorch/#4","title":"4. \u8fdb\u884c\u8bad\u7ec3","text":"<p>\u5b9a\u4e49\u8bad\u7ec3\u6d41\u7a0b:</p> <pre><code>import time\n\ndef train_one_epoch(model, optimizer, data_loader, device, image_key = 'Image', label_key = 'Label'):\n\n    model.train()\n\n    running_loss = 0.0\n    start_time = time.time()\n    total = 0\n    correct = 0\n\n    for i, data in enumerate(data_loader):\n        # get the inputs; data is a dict contains image and label\n        inputs = data[image_key]\n        labels = torch.squeeze(data[label_key])\n\n        inputs = inputs.to(device)\n        labels = labels.to(device)\n\n        optimizer.zero_grad()\n\n        outputs = model(inputs.float())\n        loss = criterion(outputs, labels)\n        loss.backward()\n        optimizer.step()\n\n        _, predicted = torch.max(outputs.data, 1)\n        total += labels.size(0)\n        correct += (predicted == labels).sum().item()\n        accuracy = 100 * correct / total\n\n        running_loss += loss.item()\n        if i % 100 == 0 and i &gt; 0:\n            batch_time = time.time()\n            cost = (batch_time-start_time)\n            print('    [%5d] loss: %.3f, time cost: %.2f, accuracy: %.2f %%' %\n                  (i, running_loss, cost, accuracy))\n\n            running_loss = 0.0\n            total = 0\n            correct = 0\n</code></pre> <p>\u5f00\u59cb\u8bad\u7ec3\uff1a</p> <pre><code>num_epochs = 5\nfor epoch in range(num_epochs):\n    print(\"------------------ Training Epoch {} ------------------\".format(epoch+1))\n    train_one_epoch(model, optimizer, dl_train, device)\n</code></pre> <p>\u51fa\u73b0\u5982\u4e0b\u8bad\u7ec3\u65e5\u5fd7\u65f6\u8868\u793a\u6570\u636e\u6b63\u5e38\u8bad\u7ec3\uff1a</p> <pre><code>------------------ Training Epoch 1 ------------------\n    [  100] loss: 77.967, time cost: 4.43, accuracy: 86.63 %\n    [  200] loss: 14.327, time cost: 8.68, accuracy: 95.75 %\n    [  300] loss: 9.919, time cost: 12.98, accuracy: 97.05 %\n    [  400] loss: 8.642, time cost: 17.23, accuracy: 97.47 %\n    [  500] loss: 8.459, time cost: 21.56, accuracy: 97.40 %\n------------------ Training Epoch 2 ------------------\n    [  100] loss: 5.610, time cost: 4.40, accuracy: 98.29 %\n    [  200] loss: 4.055, time cost: 8.73, accuracy: 98.83 %\n    [  300] loss: 3.560, time cost: 13.00, accuracy: 98.91 %\n    [  400] loss: 3.555, time cost: 17.31, accuracy: 98.99 %\n    [  500] loss: 3.243, time cost: 21.60, accuracy: 99.09 %\n------------------ Training Epoch 3 ------------------\n    [  100] loss: 2.235, time cost: 4.37, accuracy: 99.46 %\n    [  200] loss: 1.480, time cost: 8.69, accuracy: 99.72 %\n    [  300] loss: 1.259, time cost: 12.98, accuracy: 99.73 %\n    [  400] loss: 1.315, time cost: 17.27, accuracy: 99.72 %\n    [  500] loss: 1.207, time cost: 21.55, accuracy: 99.77 %\n------------------ Training Epoch 4 ------------------\n    [  100] loss: 0.816, time cost: 4.36, accuracy: 99.88 %\n    [  200] loss: 0.483, time cost: 8.67, accuracy: 99.98 %\n    [  300] loss: 0.510, time cost: 12.98, accuracy: 99.94 %\n    [  400] loss: 0.476, time cost: 17.26, accuracy: 99.94 %\n    [  500] loss: 0.407, time cost: 21.56, accuracy: 99.97 %\n------------------ Training Epoch 5 ------------------\n    [  100] loss: 0.315, time cost: 4.40, accuracy: 99.99 %\n    [  200] loss: 0.224, time cost: 8.78, accuracy: 100.00 %\n    [  300] loss: 0.237, time cost: 13.09, accuracy: 100.00 %\n    [  400] loss: 0.226, time cost: 17.40, accuracy: 100.00 %\n    [  500] loss: 0.210, time cost: 21.67, accuracy: 100.00 %\n</code></pre>"},{"location":"tutorials/train_test/pytorch/#5","title":"5. \u8fdb\u884c\u6d4b\u8bd5","text":"<p>\u5b9a\u4e49\u6d4b\u8bd5\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <pre><code>def test_model(model, data_loader, device, image_key = 'Image', label_key = 'Label'):\n\n    model.eval()\n\n    start_time = time.time()\n    total = 0\n    correct = 0\n    with torch.no_grad():\n        for i, data in enumerate(data_loader):\n            # get the inputs; data is a dict contains image and label\n            inputs = data[image_key]\n            labels = torch.squeeze(data[label_key])\n\n            inputs = inputs.to(device)\n            labels = labels.to(device)\n\n            optimizer.zero_grad()\n\n            outputs = model(inputs.float())\n\n            _, predicted = torch.max(outputs.data, 1)\n            total += labels.size(0)\n            correct += (predicted == labels).sum().item()\n        accuracy = 100 * correct / total\n\n        print('    Testing accuracy: %.2f %%' %(accuracy))\n</code></pre> <p>\u5f00\u59cb\u5728\u6d4b\u8bd5\u96c6\u4e0a\u8fdb\u884c\u6d4b\u8bd5\uff1a</p> <p><pre><code>test_model(model, dl_val, device)\n</code></pre> \u6d4b\u8bd5\u7ed3\u679c\u5982\u4e0b\uff1a</p> <pre><code>Testing accuracy: 99.04 %\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0cMNIST\u6574\u4f53\u76f8\u5bf9\u6bd4\u8f83\u7b80\u5355\uff0cresnet18\u7ecf\u8fc75\u4e2aepoch\u7684\u8bad\u7ec3\uff0c\u5373\u53ef\u5728\u6d4b\u8bd5\u96c6\u8fbe\u523099.04\u7684\u7cbe\u5ea6\u3002</p> <p>\u5b8c\u6574\u7684\u4ee3\u7801\u8bf7\u53c2\u8003<code>pytorch_classification.py</code>. </p>"},{"location":"tutorials/train_test/pytorch/#_1","title":"\u62d3\u5c55\u9605\u8bfb","text":""},{"location":"tutorials/train_test/pytorch/#a-set_transform-pre_transform","title":"A. set_transform \u548c  pre_transform","text":"<p>DSDLDatset\u652f\u6301\u4e24\u79cd\u5b9a\u4e49\u9884\u5904\u7406pipline\u7684\u65b9\u6cd5\uff0c<code>pre_transform</code>\u548c<code>set_transform</code>\uff0c\u4e24\u8005\u7684\u8c03\u7528\u65b9\u5f0f\u5b8c\u5168\u76f8\u540c\uff0c\u533a\u522b\u5982\u4e0b\uff1a</p> <ul> <li> <p>pre_transform\u4f1a\u5728\u5b9a\u4e49\u5904\u7406\u6d41\u7a0b\u7684\u65f6\u5019\u5c06\u5185\u5b58\u4e2d\u7684\u6570\u636e\u540c\u6b65\u8d70\u4e00\u904dpipline\uff0c</p> </li> <li> <p>set_transform\u5219\u4e0d\u4f1a\u5728\u5b9a\u4e49\u7684\u65f6\u5019\u8fdb\u884c\uff0c\u800c\u662f\u5728\u8bad\u7ec3\u8fed\u4ee3\u7684\u65f6\u5019\u624d\u8fdb\u884cpipline\u64cd\u4f5c\u3002</p> </li> </ul> <p>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u6570\u636e\u96c6\u4e0d\u5927\uff0c\u4e14pipline\u64cd\u4f5c\u662f\u56fa\u5b9a\u7684\uff0c\u6211\u4eec\u5efa\u8bae\u91c7\u7528\u524d\u8005\uff0c\u8fd9\u4f1a\u4f7f\u8bad\u7ec3\u8fed\u4ee3\u8fc7\u7a0b\u52a0\u901f\u5f88\u591a\uff0c\u800c\u5982\u679c\u6570\u636e\u96c6\u8f83\u5927\uff08\u51fa\u73b0\u5185\u5b58\u4e0d\u591f\u7684\u60c5\u51b5\uff09\u6216\u8005pipline\u4e2d\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u968f\u673a\u6027\u7684\u64cd\u4f5c\uff08\u6bd4\u5982\u8fdb\u884c\u968f\u673a\u7684\u6570\u636e\u589e\u5f3a\uff09\uff0c\u5219\u63a8\u8350\u4f7f\u7528\u540e\u8005\u3002\u6b64\u5916\uff0c\u7528\u6237\u4e5f\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528\u4e24\u79cd\u65b9\u6cd5\uff0c\u53ea\u9700\u8981\u6ce8\u610f\u548cpre_transform\u7684\u8f93\u51fa\u548cset_transform \u7684\u8f93\u5165\u80fd\u591f\u5bf9\u63a5\u5373\u53ef\u3002</p>"},{"location":"tutorials/train_test/pytorch/#b-field","title":"B. Field\u7684\u5185\u7f6e\u65b9\u6cd5","text":"<p>\u5728\u672c\u6559\u7a0b\u7b2c\u4e8c\u8282\uff0c\u5173\u4e8e\u5b9a\u4e49\u9884\u5904\u7406pipline\u90e8\u5206\u7684\u4ee3\u7801\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u4e24\u4e2aField\u5185\u7f6e\u65b9\u6cd5\uff0c\u5206\u522b\u4e3aImage Field\u7684<code>to_image()</code>\u4ee5\u53caLabel Field\u7684<code>index_in_domain()</code>\u65b9\u6cd5\uff0c\u524d\u8005\u80fd\u83b7\u53d6\u8bfb\u53d6\u540e\u7684\u56fe\u7247\uff08PIL\u8bfb\u53d6\u65b9\u5f0f\uff09\uff0c\u540e\u8005\u5219\u80fd\u5feb\u901f\u83b7\u53d6\u6307\u5b9a\u7c7b\u522b\u5728ClassDom\u4e2d\u7684\u7d22\u5f15\u4fe1\u606f\uff08\u4ece1\u5f00\u59cb\uff09\u3002\u5b9e\u9645\u4e0a\uff0c\u5728DSDL\u4e2d\uff0c\u6211\u4eec\u5c06\u5404\u4e2aField\u5e38\u89c1\u7684\u5904\u7406\u65b9\u6cd5\u90fd\u5199\u8fdb\u4e86Field\u7684\u5185\u7f6e\u65b9\u6cd5\uff0c\u7528\u6237\u80fd\u5f88\u65b9\u4fbf\u7684\u5bf9\u5176\u8fdb\u884c\u8f6c\u6362\u6216\u8005\u5904\u7406\u3002\u66f4\u591aField\u7684\u5185\u7f6e\u65b9\u6cd5\u53ef\u4ee5\u53c2\u8003API\u63a5\u53e3\u6587\u6863.</p>"},{"location":"tutorials/train_test/tensorflow/","title":"Tensorflow","text":"<p>\u5185\u5bb9\u5f85\u66f4\u65b0\u3002</p>"},{"location":"tutorials/transfer/Classification/","title":"\u5b9e\u4f8b\u6f14\u793a- \u56fe\u50cf\u5206\u7c7b","text":"<p>\uff08\u53c2\u7167tutorials/transfer/Detection.md\uff0c\u7531\u81f4\u8fdc\u8865\u5145\uff09</p>"},{"location":"tutorials/transfer/Detection/","title":"\u5b9e\u4f8b\u6f14\u793a- \u76ee\u6807\u68c0\u6d4b","text":"<p>\u8be5\u6559\u7a0b\u4ecb\u7ecd\u4e86\u5982\u4f55\u5c06\u4e00\u4e2a\u76ee\u6807\u68c0\u6d4b\u6570\u636e\u96c6\u8f6c\u6362\u4e3aDSDL\u683c\u5f0f\uff0c\u8fd9\u91cc\u4ee5VOC\u4e3a\u4f8b\u505a\u4e00\u4e2a\u4ecb\u7ecd\u3002\u4e3b\u8981\u5305\u542b\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a</p> <ul> <li>\u6570\u636e\u96c6\u8c03\u7814</li> <li>DSDL\u6a21\u677f\u5236\u5b9a</li> <li>\u6570\u636e\u96c6\u8f6c\u6362</li> <li>\u6570\u636e\u96c6\u9a8c\u8bc1</li> </ul>"},{"location":"tutorials/transfer/Detection/#_1","title":"\u6570\u636e\u96c6\u8c03\u7814","text":"<p>\u8c03\u7814\u9700\u8981\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li>\u539f\u59cb\u6570\u636e\u96c6\u6587\u4ef6\u7ed3\u6784</li> <li>\u539f\u59cb\u6570\u636e\u96c6\u6807\u6ce8\u7684\u539f\u59cb\u5b57\u6bb5\u53ca\u5176\u542b\u4e49</li> </ul>"},{"location":"tutorials/transfer/Detection/#_2","title":"\u539f\u59cb\u6570\u636e\u96c6\u6587\u4ef6\u7ed3\u6784","text":"<pre><code>VOC2007/\n\u251c\u2500\u2500 Annotations/              # \u91cc\u9762\u5b58\u653e\u7684\u662f\u6bcf\u5f20\u56fe\u7247\u6253\u5b8c\u6807\u7b7e\u6240\u5bf9\u5e94\u7684XML\u6587\u4ef6\n\u2502  \u251c\u2500\u2500 000001.xml             # \u67d0\u5f20\u56fe\u7247\u7684\u6807\u6ce8\u4fe1\u606f\n\u2502  \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 ImageSets/                # \u56fe\u7247\u5212\u5206\u7684txt\u5b58\u653e\u4f4d\u7f6e\n\u2502  \u251c\u2500\u2500 Layout                 # \u5305\u542bLayout\u6807\u6ce8\u4fe1\u606f\u7684\u56fe\u50cf\u6587\u4ef6\u540d\u5217\u8868\n\u2502  \u2502  \u251c\u2500\u2500 test.txt \u2502  \u2502  \u251c\u2500\u2500 train.txt \u2502  \u2502  \u251c\u2500\u2500 trainval.txt \u2502  \u2502  \u2514\u2500\u2500 val.txt \u2502  \u251c\u2500\u2500 Main                   # \u5305\u542b\u6240\u6709\u6587\u4ef6\u7684\u5217\u8868\u548c\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 aeroplane_test.txt  # \u6309\u6bcf\u4e2a\u7c7b\u522b\u7684\u8bad\u7ec3\u96c6\u3001\u6d4b\u8bd5\u96c6\u7b49\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 aeroplane_train.txt \u2502  \u2502  \u251c\u2500\u2500 ...\n\u2502  \u2502  \u251c\u2500\u2500 test.txt            # \u5168\u6570\u636e\u96c6\u7684test\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 train.txt           # \u5168\u6570\u636e\u96c6\u7684train\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 trainval.txt \u2502  \u2502  \u2514\u2500\u2500 val.txt \u2502  \u251c\u2500\u2500 Segmentation           # \u5305\u542b\u8bed\u4e49\u5206\u5272\u4fe1\u606f\u56fe\u50cf\u6587\u4ef6\u7684\u5217\u8868\u548c\u5212\u5206\n\u2502  \u2502  \u251c\u2500\u2500 test.txt \u2502  \u2502  \u251c\u2500\u2500 train.txt \u2502  \u2502  \u251c\u2500\u2500 trainval.txt \u2502  \u2502  \u2514\u2500\u2500 val.txt \u251c\u2500\u2500 JPEGImages/               # \u5b58\u653e\u7684\u662f\u8bad\u7ec3\u4e0e\u6d4b\u8bd5\u7684\u6240\u6709\u56fe\u7247\n\u2502  \u251c\u2500\u2500 000001.jpg             # \u56fe\u7247\uff08\u5e8f\u53f7\u4f5c\u4e3a\u56fe\u7247\u540d\uff09 \n\u2502  \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 SegmentationClass/        # \u8bed\u4e49\u5206\u5272\u6807\u6ce8\n\u2502  \u251c\u2500\u2500 000032.png             # \u67d0\u5f20\u56fe\u7247\u7684\u5a92\u4f53\u6587\u4ef6 \n\u2502  \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 SegmentationObject/       # \u5b9e\u4f8b\u5206\u5272\u6807\u6ce8\n\u251c\u2500\u2500 000032.png             # \u67d0\u5f20\u56fe\u7247\u7684\u5a92\u4f53\u6587\u4ef6 \n\u2514\u2500\u2500 ...\n</code></pre> <p>\u6211\u4eec\u8fd9\u91cc\u53ea\u4ee5\u68c0\u6d4b\u4efb\u52a1\u4e3a\u4f8b\u751f\u6210\u6a21\u677f\uff0c\u56e0\u6b64\u53ea\u9700\u8981Annotations/\u3001JPEGImages/\u8fd9\u4e24\u4e2a\u6587\u4ef6\u5939\uff0c\u53e6\u5916\uff0c\u8bad\u7ec3\u6d4b\u8bd5\u96c6\u5212\u5206\uff0c\u9700\u8981\u7528ImageSets/Main/train.txt\u3001val.txt\u3001test.txt\u8fd9\u4e09\u4e2a\u6587\u4ef6\u3002</p>"},{"location":"tutorials/transfer/Detection/#_3","title":"\u539f\u59cb\u6570\u636e\u96c6\u6807\u6ce8\u7684\u539f\u59cb\u5b57\u6bb5\u53ca\u5176\u542b\u4e49","text":"<p>\u6807\u6ce8\u7c7b\u578b\u5982\u4e0b\uff08\u4ee5Annotations/000001.xml\u4e3a\u4f8b\uff09\uff1a</p> <pre><code>&lt;annotation&gt;\n&lt;folder&gt;VOC2007&lt;/folder&gt;                         # \u6587\u4ef6\u5939\n   &lt;filename&gt;000001.jpg&lt;/filename&gt;                  # \u56fe\u7247\u6587\u4ef6\u540d\n   &lt;source&gt;                                         # \u56fe\u50cf\u5143\u4fe1\u606f\n      &lt;database&gt;The VOC2007 Database&lt;/database&gt;     # \u6570\u636e\u96c6\u540d\u79f0\n      &lt;annotation&gt;PASCAL VOC2007&lt;/annotation&gt;       # \u6807\u6ce8\u7c7b\u578b\n      &lt;image&gt;flickr&lt;/image&gt;                         # \u6765\u6e90\n      &lt;flickrid&gt;341012865&lt;/flickrid&gt;                # \u6765\u6e90ID\n   &lt;/source&gt;\n&lt;owner&gt;                                          # \u6e90\u4fe1\u606f\n      &lt;flickrid&gt;Fried Camels&lt;/flickrid&gt;\n&lt;name&gt;Jinky the Fruit Bat&lt;/name&gt;\n&lt;/owner&gt;\n&lt;size&gt;\n&lt;width&gt;353&lt;/width&gt;                            # \u56fe\u7247\u5bbd\n      &lt;height&gt;500&lt;/height&gt;                          # \u56fe\u7247\u9ad8 &lt;depth&gt;3&lt;/depth&gt;                              # \u56fe\u7247\u901a\u9053\u6570\n   &lt;/size&gt;\n&lt;segmented&gt;0&lt;/segmented&gt;                         # \u662f\u5426\u7528\u4e8e\u5206\u5272\n   &lt;object&gt;                                         # \u6807\u6ce8\u90e8\u5206 &lt;name&gt;dog&lt;/name&gt;                              # \u6807\u7b7e\n      &lt;pose&gt;Left&lt;/pose&gt;                             # \u59ff\u6001\n      &lt;truncated&gt;1&lt;/truncated&gt;                      # \u7269\u4f53\u662f\u5426\u88ab\u90e8\u5206\u906e\u6321\uff08&gt;15%\uff09\n      &lt;difficult&gt;0&lt;/difficult&gt;                      # \u662f\u5426\u4e3a\u96be\u4ee5\u8fa8\u8bc6\u7684\u7269\u4f53\n      &lt;bndbox&gt;\n&lt;xmin&gt;48&lt;/xmin&gt;                            # \u5de6\u4e0a\u89d2\u70b9\u7684x\n         &lt;ymin&gt;240&lt;/ymin&gt;                           # \u5de6\u4e0a\u89d2\u70b9\u7684y\n         &lt;xmax&gt;195&lt;/xmax&gt;                           # \u53f3\u4e0b\u89d2\u70b9\u7684x\n         &lt;ymax&gt;371&lt;/ymax&gt;                           # \u53f3\u4e0b\u89d2\u70b9\u7684y\n      &lt;/bndbox&gt;\n&lt;/object&gt;\n...\n&lt;/annotation&gt;\n</code></pre> <p>\u8fd9\u91cc\u4ee5ImageSets/Main/train.txt\u4e3a\u4f8b\u5c55\u793a\u4e00\u4e0b\u6570\u636e\u96c6segment\u5212\u5206\u7684\u6587\u4ef6\u5185\u5bb9\uff1a</p> <pre><code>000012         # \u56fe\u7247\u540d\u524d\u7f00\n000017\n000023\n000026\n...\n</code></pre>"},{"location":"tutorials/transfer/Detection/#dsdl","title":"DSDL\u6a21\u677f\u5236\u5b9a","text":""},{"location":"tutorials/transfer/Detection/#yaml","title":"Yaml\u683c\u5f0f\u89e3\u91ca","text":"<p>\u6700\u7ec8\u9700\u8981\u8f6c\u6210\u7684yaml\u6570\u636e\u96c6\u683c\u5f0f\uff0c\u5728\u8fd9\u91cc\u505a\u4e00\u4e2a\u8be6\u7ec6\u89e3\u91ca\u3002\u8f6c\u6210\u540e\u7684DSDL\u6570\u636e\u96c6\u5305\u542b\u4ee5\u4e0b\u51e0\u4e2a\u91cd\u8981\u7684\u6587\u4ef6\uff1a</p> <ul> <li>struct\u7684\u5b9a\u4e49\u6587\u4ef6\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u6587\u4ef6\u540d\u4e3aobject-detetction.yaml\uff09\uff1a\u8fd9\u4e2a\u6587\u4ef6\u4e3b\u8981\u662f\u5bf9struct\u505a\u4e00\u4e2a\u660e\u786e\u7684\u5b9a\u4e49\uff0c\u53ef\u4ee5\u6709sample\u7684\u7ed3\u6784\u4f53\u548c\u6807\u6ce8\u7684\u7ed3\u6784\u4f53\u7b49\uff0c\u9700\u6307\u660e\u5305\u542b\u4e86\u54ea\u4e9bfield\uff0c\u6bcf\u4e2afield\u7684\u7c7b\u578b\u3002</li> <li>\u7c7b\u522b\u57df\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e3aVOC2007ClassDom.yaml\uff09\uff1a\u91cc\u9762\u5305\u542b\u4e86\u7c7b\u522b\u5217\u8868\uff0c\u5bf9\u5e94category\u7684\u5e8f\u53f7\uff08\u4ece1\u5f00\u59cb\u6392\u5e8f\uff09</li> <li> <p>samples\u6587\u4ef6\uff08\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u5206\u522b\u5206\u4e3atrain.yaml\u548ctrain_samples.json)</p> </li> <li> <p>train.yaml\u4e3b\u8981\u662f\u6307\u660e\u5f15\u7528\u54ea\u4e2astruct\u6a21\u677f\u548c\u7c7b\u522b\u57df\u6587\u4ef6\uff0c\u5e76\u4e14\u6307\u660e\u6570\u636e\u7c7b\u578b\u548c\u5b58\u653e\u8def\u5f84\uff0c\u53e6\u5916\u8fd8\u6709\u4e00\u4e9bmeta\u4fe1\u606f</p> </li> <li>train_samples.json\u91cc\u4fdd\u5b58\u4e86\u5b9e\u9645\u7684samples\u4fe1\u606f\uff0c\u5176\u7ec4\u7ec7\u7ed3\u6784\u5fc5\u987b\u548c\u4e4b\u524d\u5b9a\u4e49\u7684\u7ed3\u6784\u4f53\u5339\u914d</li> </ul> <p>\u540e\u8fb9\u4f1a\u5bf9\u76ee\u5f55\u7ed3\u6784\u4ee5\u53ca\u6bcf\u4e00\u4e2a\u6587\u4ef6\u7684\u5185\u5bb9\u8fdb\u884c\u4e00\u4e2a\u8be6\u7ec6\u5c55\u793a\u548c\u89e3\u91ca\u3002</p>"},{"location":"tutorials/transfer/Detection/#dsdl_1","title":"DSDL\u6570\u636e\u96c6\u76ee\u5f55","text":"<pre><code>VOC2007-dsdl/\n\u251c\u2500\u2500 doms/                        \n\u2502  \u251c\u2500\u2500 object-detection.yaml       # struct\u5b9a\u4e49\u6587\u4ef6\n\u2502  \u2514\u2500\u2500 VOC2007ClassDom.yaml        # VOC\u6570\u636e\u96c6\u7684\u7c7b\u522b\u57df\n\u251c\u2500\u2500 train/                         # \u8bad\u7ec3\u96c6\n\u2502  \u251c\u2500\u2500 train.yaml                  # \u8bad\u7ec3\u7684yaml\u6587\u4ef6\n\u2502  \u2514\u2500\u2500 train_samples.json          # \u8bad\u7ec3\u96c6sample\u7684json\u6587\u4ef6\n\u251c\u2500\u2500 val/                           # \u9a8c\u8bc1\u96c6\n\u2502  \u251c\u2500\u2500 val.yaml\n\u2502  \u2514\u2500\u2500 val_samples.json        \n\u2514\u2500\u2500 test/                          # \u6d4b\u8bd5\u96c6\n   \u251c\u2500\u2500 test.yaml\n   \u2514\u2500\u2500 test_samples.json        \n</code></pre>"},{"location":"tutorials/transfer/Detection/#_4","title":"\u6a21\u677f\u53ca\u6807\u6ce8\u6587\u4ef6","text":"<ol> <li>object-detection.yaml\uff1a\u8fd9\u4e2a\u6587\u4ef6\u4e3b\u8981\u662f\u5b9a\u4e49struct\u7684yaml\u6587\u4ef6\uff0c\u91cc\u9762\u7684\u5b57\u6bb5\u540d\u79f0\u53ef\u4ee5\u6839\u636e\u539f\u59cb\u6570\u636e\u96c6\u8fdb\u884c\u4e00\u4e2a\u4fee\u6539\u548c\u9002\u5e94\uff08\u5c3d\u91cf\u4fdd\u7559\u539f\u59cb\u6570\u636e\u96c6\u7684\u5b57\u6bb5\u540d\u79f0\u548c\u7ed3\u6784\uff09\uff0c\u4f46\u662f\u5b57\u6bb5\u7c7b\u578b\u4e00\u5b9a\u8981\u4f7f\u7528\u53ef\u8bc6\u522b\u7684\u6570\u636e\u7c7b\u578b\uff08\u53ef\u8bc6\u522b\u7684\u6570\u636e\u7c7b\u578b\u8be6\u89c1\uff1ahttps://opendatalab.github.io/dsdl-docs/zh/lang/basic_types/\uff09</li> </ol> <pre><code>$dsdl-version: \"0.5.0\"\nLocalObjectEntry:                                  $def: struct                                   $params: [\"cdom\"]\n$fields:                                      _bbox: BBox\n_category: Label[dom=$cdom]                                           pose: Str    truncated: Bool\ndifficult: Bool\nObjectDetectionSample:\n$def: struct\n$params: [\"cdom\"]\n$fields:\nmedia_path: Image\nfolder: Str\nsource: Dict\nowner: Dict\nheight: Int\nwidth: Int\ndepth: Int\nsegmented: Bool\n_objects: List[etype=LocalObjectEntry[cdom=$cdom]]\n</code></pre> <p>\u5b57\u6bb5\u542b\u4e49\u89e3\u91ca\u53ca\u5bf9\u5e94\u5173\u7cfb\uff1a</p> <p>\uff08\u6ca1\u6709\u63d0\u5230\u7684\u5b57\u6bb5\u90fd\u662f\u4e0e\u539f\u6570\u636e\u96c6\u540c\u540d\u5bf9\u5e94\u7684\u5b57\u6bb5\uff0c\u53e6\u5916\uff0c\u547d\u540d\u4e2d\u4ee5\u4e0b\u5212\u7ebf\u5f00\u5934\u7684\u4e00\u822c\u90fd\u662f\u6211\u4eec\u81ea\u9002\u5e94\u7684\u5b57\u6bb5\uff0c\u5373\u539f\u6570\u636e\u96c6\u6ca1\u6709\u7684\u5b57\u6bb5\uff09</p> <ul> <li> <p>\u5728ObjectDetectionSample\u4e2d\uff1a</p> </li> <li> <p>media_path\uff1a\u8be5\u5b57\u6bb5\u662f\u6211\u4eec\u81ea\u9002\u5e94\u7684\u5b57\u6bb5\uff0c\u7528\u4e8e\u50a8\u5b58\u56fe\u50cf\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u4e3b\u8981\u4ece\u539f\u59cb\u6570\u636e\u96c6\u7684filename\u5b57\u6bb5\u8f6c\u5316\u800c\u6765</p> </li> <li>_objects\uff1a\u8be5\u5b57\u6bb5\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684object\u5b57\u6bb5\uff0c\u4ee5List\u7684\u5f62\u5f0f\u5b58\u50a8\u5177\u4f53bounding box\u7684\u6807\u6ce8\u4fe1\u606f</li> <li>source\uff1a\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684source\u5b57\u6bb5\uff0c\u4e3a\u4e00\u4e2a\u5b57\u5178\u5f62\u5f0f\uff0c\u91cc\u9762\u7684keys\u5206\u522b\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u91cc\u7684source\u5b57\u6bb5\u4e0b\u7684database\u3001annotation\u3001image\u3001flickerid\u5b57\u6bb5</li> <li>owner\uff1a\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u7684owner\u5b57\u6bb5\uff0c\u4e3a\u4e00\u4e2a\u5b57\u5178\u5f62\u5f0f\uff0c\u91cc\u9762\u7684keys\u5206\u522b\u5bf9\u5e94\u539f\u59cb\u6570\u636e\u96c6\u91cc\u7684owner\u5b57\u6bb5\u4e0b\u7684flickerid\u548cname\u5b57\u6bb5</li> <li>width\u3001height\u3001depth\uff1a\u662f\u539f\u59cb\u6570\u636e\u96c6\u7684size\u5b57\u6bb5\u4e0b\u7684</li> <li> <p>\u5728LocalObjectEntry\u4e2d\uff1a</p> </li> <li> <p>_bbox\uff1a\u5bf9\u5e94\u539f\u6570\u636e\u96c6\u7684bndbox\u5b57\u6bb5\uff0c\u4f46\u8f6c\u5316\u4e3abbox\u6807\u51c6\uff0c\u5373[x,y,w,h]</p> </li> <li> <p>_category\uff1a\u662f\u8be5\u76ee\u6807\u7684\u7c7b\u522b\u5bf9\u5e94\u7684\u7c7b\u522b\u6807\u53f7\uff0c\u5bf9\u5e94\u7684\u662f\u539f\u6570\u636e\u96c6\u7684name\u5b57\u6bb5\uff0c\u7c7b\u522b\u6807\u53f7\u53ef\u4ee5\u53c2\u89c1\u4e0b\u9762\u7684VOC2007ClassDom.yaml</p> </li> <li> <p>VOC2007ClassDom.yaml\uff1a\u8fd9\u662f\u4e00\u4e2a\u7c7b\u522b\u5b9a\u4e49\u7684Dom\u6587\u6863</p> </li> </ul> <pre><code>$dsdl-version: \"0.5.0\"\nVOC2007ClassDom:\n$def: class_domain\nclasses:\n- aeroplane                   # \u5bf9\u5e94category\u4e3a1\n- bicycle                     # \u5bf9\u5e94category\u4e3a2\n- bird\n- boat\n- bottle\n- bus\n- car\n- cat\n- chair\n- cow\n- diningtable\n- dog\n- horse\n- motorbike\n- person\n- pottedplant\n- sheep\n- sofa\n- train\n- tvmonitor\n</code></pre> <ol> <li>train.yaml\uff1a\u8fd9\u4e2a\u6587\u6863\u5f15\u7528\u4e86\u4e4b\u524d\u5b9a\u4e49\u7684\u4e24\u4e2a\u6587\u6863\uff0c\u5e76\u4e14\u6307\u5f15\u4e86\u5177\u4f53\u7684sample\u8def\u5f84\uff08test.yaml\u548cval.yaml\u7c7b\u4f3c\uff0c\u53ea\u662f\u4fee\u6539\u5bf9\u5e94sample-path\u548csub_dataset_name\u5b57\u6bb5\uff09</li> </ol> <pre><code>$dsdl-version: \"0.5.0\"\n$import:\n- VOC2007ClassDom\n- object-detection\nmeta:\ndataset_name: \"VOC2007\"\nprotocol_version: \"v0.3rc3\"\nsub_dataset_name: \"train\"\ndata:\nsample-type: ObjectDetectionSample[cdom=VOC2007ClassDom]\nsample-path: train_samples.json\n</code></pre> <ol> <li>\u5176\u4e2dtrain_samples.json\u9700\u8981\u6211\u4eec\u5199\u811a\u672c\u4ece\u539f\u59cb\u6570\u636e\u96c6\u8f6c\u6362\u6765\uff0c\u6ce8\u610f\uff0c\u91cc\u9762\u7684\u5b57\u6bb5\u9700\u8981\u548c\u4e4b\u524d\u5b9a\u4e49\u7684struct\u5bf9\u5e94\uff0c\u6700\u7ec8\u6837\u5f0f\u5982\u4e0b\uff1a</li> </ol> <pre><code>{\"samples\": [\n{\n\"_media_path\": \"JPEGImages/000001.jpg\",\n\"folder\": \"VOC2007\",\n\"source\": {\n\"database\": \"The VOC2007 Database\", \"annotation\": \"PASCAL VOC2007\",\n\"flickrid\": \"341012865\"\n},\n\"owner\":{\n\"flickrid\": \"Fried Camels\",\n\"name\": \"Jinky the Fruit Bat\"\n},\n\"height\": 640, \"width\": 480,\n\"depth\": 3,\n\"segmented\": 0,\n\"_objects\": [\n{\n\"_bbox\": [120.24, 0.32, 359.76, 596.04], \"_category\": 1, \"pose\": \"Left\", \"truncated\": 1, \"difficult\": 0   }, ...\n]\n},\n...\n]}\n</code></pre> <p>\u6ce8\u610f\uff0c\"samples\"\u5b57\u6bb5\u662f\u5fc5\u987b\u7684\uff08\u4e0d\u53ef\u6539\u540d\uff09\uff0c\u4e14\u7ec4\u7ec7\u5f62\u5f0f\u4e5f\u4e0d\u80fd\u6539\u53d8\uff0c\u5373\uff1a\u5fc5\u987b\u662f\u5b57\u5178\u5f62\u5f0f\uff0c\u5b57\u5178\u6709\u4e00\u4e2a\u952e\u4e3a\"samples\"\uff0c\u5176\u503c\u4e3a\u4e00\u4e2a\u5217\u8868\uff0c\u5217\u8868\u7684\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u662f\u4e00\u4e2asample\u7c7b\u7684\u5b9e\u4f8b\uff08\u5373\u672c\u6848\u4f8b\u4e2d\u7684ObjectDetectionSample\u7c7b\uff09\u3002</p>"},{"location":"tutorials/transfer/Detection/#_5","title":"\u6570\u636e\u96c6\u8f6c\u6362","text":"<p>\u8fd9\u4e00\u8282\u63d0\u4f9b\u4e86\u9488\u5bf9\u4e4b\u524d\u5b9a\u4e49\u7684yaml\u6587\u4ef6\u5bf9\u5e94\u751f\u6210sample.json\u6587\u4ef6\u7684\u8f6c\u6362\u811a\u672c\uff0c\u8fd9\u4e2a\u811a\u672c\u53ef\u4ee5\u751f\u6210\u8bad\u7ec3\u3001\u6d4b\u8bd5\u548c\u9a8c\u8bc1\u4e09\u4e2asamples.json\u6587\u4ef6\uff08\u8f6c\u6362\u811a\u672c\u53ef\u81ea\u884c\u4f18\u5316\uff09\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6570\u636e\u96c6\u91cc\u7684\u6bcf\u4e2a\u5b57\u6bb5\u90fd\u9700\u8981\u548c\u4e4b\u524d\u5b9a\u4e49\u7684ObjectDetectionSample\u7c7b\u5bf9\u5e94\uff08\u65e0\u8bba\u662f\u5b57\u6bb5\u540d\uff0c\u8fd8\u662f\u5176\u503c\u7684\u7c7b\u578b\uff09\uff0c\u4e0d\u8981\u81ea\u884c\u589e\u52a0\u6216\u8005\u51cf\u5c11\u5b57\u6bb5\u3002</p> <p>\u8f6c\u6362\u811a\u672c\u5982\u4e0b\uff1a</p> <pre><code>#!/usr/bin/env python3\n#\n# Copyright 2022 Shanghai Artificial Intelligence Laboratory. All rights reserved.\n#\n\"\"\"\nThis file implements the generator of the VOC2007 DSDL format dataset.\n\"\"\"\nimport itertools\nimport itertools\nimport yaml\nimport os\nfrom xml.etree import ElementTree\nimport json\nf = open('train/VOC2007ClassDom.yaml', 'r')\ndata = yaml.safe_load(f)\ncategory_list = data['VOC2007ClassDom']['classes']\n_VOC_CATEGORY_DICT = {_name: (_ind + 1) for _ind, _name in enumerate(category_list)}\nroot_path = '/home/PJLAB/ouyanglinke/mmdetection-master/data/VOCdevkit/VOC2007'\nanno_paths = os.path.join(root_path, \"Annotations\")\nsegmentation = ['train', 'val', 'test']\nann_id_gen = itertools.count()\nfor seg in segmentation:\nseg_path = os.path.join(root_path, 'ImageSets', 'Main', seg + '.txt')\ntry:\nwith open(seg_path, 'r') as f:\nseg_list = f.readlines()\nexcept:\nprint('The segmentation file {} cannot be open, it will be skipped.'.format(seg_path))\ncontinue\nsamples = []\nfor anno_id in seg_list:\nanno_path = os.path.join(root_path, 'Annotations', anno_id.strip() + '.xml')\ntry:\nwith open(anno_path, 'r') as f:\nanno_tree = ElementTree.parse(f)\nexcept:\nprint('The annotation file {} cannot read, it will be skipped.'.format(anno_path))\ncontinue\nsample = {\n'media_path': os.path.join('JPEGImages', anno_tree.find('filename').text),\n'folder': '',\n'source': {\n'database': anno_tree.find('source').find('database').text,\n'annotation': anno_tree.find('source').find('annotation').text,\n'flickrid': anno_tree.find('source').find('flickrid').text,\n},\n'owner': {\n'flickrid': anno_tree.find('owner').find('flickrid').text,\n'name': anno_tree.find('owner').find('name').text\n},\n'height': int(anno_tree.find('size').find('height').text),\n'width': int(anno_tree.find('size').find('width').text),\n'depth': int(anno_tree.find('size').find('depth').text),\n'segmented': int(anno_tree.find('segmented').text),\n'_objects': []\n}\nfor obj in anno_tree.iter('object'):\nxmin, ymin, xmax, ymax = [float(obj.find('bndbox').find(boxes).text) for boxes in ['xmin', 'ymin', 'xmax', 'ymax']]\nsample['_objects'].append({\n'_bbox': [xmin, ymin, xmax-xmin, ymax-ymin],\n'_category': _VOC_CATEGORY_DICT[obj.find('name').text],\n'pose': obj.find('pose').text,\n'truncated': int(obj.find('truncated').text),\n'difficult': int(obj.find('difficult').text)\n})\nsamples.append(sample)\nsamples_save = {'samples': samples}\nsave_path = os.path.join(seg, seg + '_samples_v2.json')\nwith open(save_path, 'w') as f:\njson.dump(samples_save, f)\n</code></pre>"},{"location":"tutorials/transfer/Detection/#_6","title":"\u6570\u636e\u96c6\u9a8c\u8bc1","text":"<p>\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u81ea\u52a8\u9a8c\u8bc1\u7684\u65b9\u6cd5\u5982\u4e0b\u3002</p> <pre><code>dsdl check -y xxx.yaml -c config.py -l ali-oss -t detection -p ./ -o ./\n### -y \u4e3a\u8f93\u5165\u7684yaml\u6587\u4ef6\n### -c \u4e3a\u6570\u636e\u96c6\u7684\u8bfb\u53d6\u914d\u7f6e\uff08\u8bb0\u5f55\u4e86\u6570\u636e\u96c6\u5728\u963f\u91cc\u4e91/\u672c\u5730\u7684\u4f4d\u7f6e\uff09\uff0c\u4e3b\u8981\u5f62\u5f0f\u5982\u4e0b\uff1a\nlocal = dict(\ntype=\"LocalFileReader\",\nworking_dir=\"local path of your media\",\n)\nali_oss = dict(\ntype=\"AliOSSFileReader\",\naccess_key_secret=\"your secret key of aliyun oss\",\nendpoint=\"your endpoint of aliyun oss\",\naccess_key_id=\"your access key of aliyun oss\",\nbucket_name=\"your bucket name of aliyun oss\",\nworking_dir=\"the relative path of your media dir in the bucket\")\n### -l \u4e3a\u6307\u5b9a\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 ali-oss \u6216 local\n### -t \u4e3a\u6307\u5b9a\u5f53\u524dyaml\u7684\u4efb\u52a1\u7c7b\u522b\uff0c\u5f53\u524d\u652f\u6301\u7684\u4efb\u52a1\u7c7b\u522b\u6709\uff08detection\uff0csegmentation\uff0cclassification\uff09\n### -p yaml\u6587\u4ef6\u5bfc\u5165\u7684\u5e93\u6587\u4ef6\u6240\u5728\u7684\u8def\u5f84\u5730\u5740\n### -o \u4e3a\u8f93\u51fa\u7684\u6587\u4ef6\u5939\uff0c\u5305\u542b\u56fe\u7247\u548cmd\u6587\u6863\uff0c\u6ce8\u610f\u6253\u5305\u4e0b\u8f7d\n</code></pre> <p>\u6700\u7ec8\u83b7\u5f97\u7684\u62a5\u544a\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li>parser\u68c0\u67e5\u7ed3\u679c\uff1a\u7ed3\u679c\u5305\u62ec\u4e86parse\u7ed3\u679c\u662f\u5426\u6210\u529f\uff0c\u5982\u679c\u4e0d\u6210\u529f\uff0c\u5219\u53ef\u4ee5\u67e5\u770b\u5177\u4f53\u7684\u62a5\u9519\u4fe1\u606f</li> <li>samples\u5b9e\u4f8b\u5316\u68c0\u67e5\u7ed3\u679c\uff1a\u5176\u4e2d\u62a5\u544a\u8bf4\u660e\u4e86\u5f53\u524d\u6570\u636e\u96c6\u5171\u6709\u6837\u672c\u4e2a\u6570\uff0c\u6b63\u5e38\u6837\u672c\u4e2a\u6570\uff0c\u8b66\u544a\u6837\u672c\u4e2a\u6570\uff0c\u9519\u8bef\u6837\u672c\u4e2a\u6570\uff0c\u5e76\u63d0\u4f9b\u4e86\u5f02\u5e38\u6837\u672c\u7684\u5177\u4f53\u4fe1\u606f\u65e5\u5fd7</li> <li>\u53ef\u89c6\u5316\u7ed3\u679c\uff1a\u9700\u8981\u8089\u773c\u89c2\u5bdf\u53ef\u89c6\u5316\u7ed3\u679c\u662f\u5426\u6b63\u786e\uff0c\u6bd4\u5982bbox\u4f4d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u6807\u7b7e\u5185\u5bb9\u662f\u5426\u6b63\u786e\u7b49\u3002\u5728\u56fe\u7247\u4e0b\u9762\u5c55\u793a\u4e86\u53ef\u89c6\u5316\u8fc7\u7a0b\u4e2d\u7684\u65e5\u5fd7\u5185\u5bb9\uff0c\u6bd4\u5982\u662f\u53ef\u89c6\u5316\u6210\u529f\u8fd8\u662f\u5931\u8d25\uff0c\u4ee5\u53ca\u5931\u8d25\u65e5\u5fd7\u7b49\u3002</li> </ul>"},{"location":"tutorials/transfer/SDK_doc/","title":"SDK\u6587\u6863","text":"<p>\uff08\u7531\u6587\u660c\u548c\u5764\u660e\u8865\u5145\uff09</p>"},{"location":"tutorials/transfer/converter_scipt/","title":"\u4e3b\u6d41\u683c\u5f0f\u6570\u636e\u96c6\u4e0eDSDL\u4e92\u8f6c\u811a\u672c","text":"<p>\u8be5\u6587\u6863\u5c06\u4e3b\u6d41\u683c\u5f0f\u6570\u636e\u96c6\uff08\u6bd4\u5982COCO, VOC, KITTI\u7b49\uff09\u4e0eDSDL\u7684\u4e92\u8f6c\u811a\u672c\uff0c\u5206\u4e3a\u4e24\u90e8\u5206\uff1a</p> <ul> <li>\u5229\u7528\u5de5\u5177\u8f6c\u6362\uff08CLI\u5de5\u5177\uff09</li> <li>\u5229\u7528\u8f6c\u6362\u811a\u672c\u8f6c\u6362\uff08\u76f4\u63a5\u5728\u8be5\u6587\u6863\u91cc\uff0c\u7528\u4ee3\u7801\u5757\u7684\u5f62\u5f0f\u63d0\u4f9b\u811a\u672c\uff09</li> </ul> <p>\uff08\u8fd9\u4e00\u90e8\u5206\u7531\u5404\u4e2a\u4efb\u52a1\u8d1f\u8d23\u4eba\u63d0\u4f9b\uff0c\u8fd8\u9700\u8981\u8003\u8651\u4efb\u52a1\u662f\u5206\u5f00\u63d0\u4f9b\u811a\u672c\u8fd8\u662f\u5408\u5e76\u811a\u672c\uff09</p>"}]}